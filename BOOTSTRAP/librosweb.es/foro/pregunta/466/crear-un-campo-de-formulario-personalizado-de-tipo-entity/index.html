<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>Crear un campo de formulario personalizado de tipo &quot;entity&quot;</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                                                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Crear un campo de formulario personalizado de tipo &quot;entity&quot;">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-4-2" class="forum forum_discussion"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                    <div class="module module-ad module-ad-responsive module-ad-top">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>


    <div itemscope="" itemtype="http://schema.org/Article">
        <div id="discussion" class="col-sm-9 ">
            <h1 class="title" itemprop="name">Crear un campo de formulario personalizado de tipo &quot;entity&quot;</h1>

            <div id="discussion-content" itemprop="description">
                <p>Hola, </p>
<p>Me he dado cuenta de que utilizo en bastantes formularios un campo de tipo <code>entity</code> para seleccionar tamaños de una imagen.</p>
<pre class="php code"><span class="co4">/**
     * @param FormBuilderInterface $builder
     * @param array $options
     */</span>
    <span class="kw2">public</span> <span class="kw2">function</span> buildForm<span class="br0">&#40;</span>FormBuilderInterface <span class="re0">$builder</span><span class="sy0">,</span> <span class="kw3">array</span> <span class="re0">$options</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="re0">$builder</span>
            <span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'nombre'</span><span class="br0">&#41;</span>
            <span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'descripcion'</span><span class="br0">&#41;</span>
            <span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'tamanyoImagen'</span><span class="sy0">,</span> <span class="st_h">'entity'</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span>
                    <span class="st_h">'class'</span> <span class="sy0">=&gt;</span> <span class="st_h">'RM\PlantillaBundle\Entity\TamanyoImagen'</span><span class="sy0">,</span>
                    <span class="st_h">'em'</span> <span class="sy0">=&gt;</span> <span class="re0">$options</span><span class="br0">&#91;</span><span class="st_h">'em'</span><span class="br0">&#93;</span><span class="sy0">,</span>
                    <span class="st_h">'query_builder'</span> <span class="sy0">=&gt;</span> <span class="kw2">function</span><span class="br0">&#40;</span>EntityRepository <span class="re0">$er</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
                        <span class="kw1">return</span> <span class="re0">$er</span><span class="sy0">-&gt;</span><span class="me1">createQueryBuilder</span><span class="br0">&#40;</span><span class="st_h">'t'</span><span class="br0">&#41;</span>
                            <span class="sy0">-&gt;</span><span class="me1">where</span><span class="br0">&#40;</span><span class="st_h">'t.tipo = :tipo'</span><span class="br0">&#41;</span>
                            <span class="sy0">-&gt;</span><span class="me1">andWhere</span><span class="br0">&#40;</span><span class="st_h">'t.estado &gt; -1'</span><span class="br0">&#41;</span>
                            <span class="sy0">-&gt;</span><span class="me1">setParameter</span><span class="br0">&#40;</span><span class="st_h">'tipo'</span><span class="sy0">,</span> TamanyoImagen<span class="sy0">::</span><span class="me2">PRODUCTO</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span><span class="sy0">,</span>
                    <span class="st_h">'property'</span> <span class="sy0">=&gt;</span> <span class="st_h">'codigo'</span><span class="sy0">,</span>
                    <span class="st_h">'empty_value'</span> <span class="sy0">=&gt;</span> <span class="st_h">'Tamaño de Imagen'</span><span class="sy0">,</span>
                    <span class="st_h">'empty_data'</span> <span class="sy0">=&gt;</span> <span class="kw4">null</span><span class="sy0">,</span>
                    <span class="st_h">'required'</span> <span class="sy0">=&gt;</span> <span class="kw4">false</span>
                <span class="br0">&#41;</span> <span class="br0">&#41;</span>
            <span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'estado'</span><span class="sy0">,</span> <span class="st_h">'hidden'</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span>
                    <span class="st_h">'data'</span> <span class="sy0">=&gt;</span> <span class="nu0">1</span>
                <span class="br0">&#41;</span><span class="br0">&#41;</span>
        <span class="sy0">;</span>
    <span class="br0">&#125;</span></pre>
<p>Como lo utilizo en bastantes sitios, me gustaría crear un nuevo tipo para poder reutilizar el código. Pero estoy teniendo bastantes problemas incluso después de haber leído la documentación de Symfony.</p>
<p>¿Podríais indicarme los pasos a seguir para crearlo?</p>
<p>Muchas gracias de antemano y un saludo.</p>
            </div>

                            <div id="discussion-tags">
                    <h3>Etiquetas</h3>
                    <ul class="tags-list">
                                                                <li><a href="/foro/custom%20form%20type/">custom form type</a></li>
                                            <li><a href="/foro/formularios/">formularios</a></li>
                                            <li><a href="/foro/symfony/">symfony</a></li>
                                        </ul>
                </div>
                    </div>

        <div id="discussion-attributes" class="col-sm-3">
            <div class="row">
                <p class="col-xs-3 col-sm-12 avatar">
                    <img width="73" height="73" itemprop="image"
                     src="http://pbs.twimg.com/profile_images/1594542131/avatar_bigger.jpg" />
                </p>

                <p class="col-xs-8 col-sm-12 col-md-12">
                    <span class="login">@javiermadueno</span>
                    <meta itemprop="author" content="Javier Madueño" />

                    <span class="published">20 de febrero de 2015</span>
                    <meta itemprop="dateCreated" content="2015-02-20T13:49:00+01:00" />
                </p>

                <p id="discussion-actions" class="col-sm-12">
                                    </p>
            </div>
        </div>
    </div>
    
    <div id="discussion-comments" class="col-sm-12">
                    <h2>Respuestas</h2>

                            <div class="row comment"  id="respuesta-1">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/466/crear-un-campo-de-formulario-personalizado-de-tipo-entity/#respuesta-1" title="Enlace permanente a esta respuesta">#1</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_1_html">
                        <p>Buen día, para crearlo deberás crear tu clase Type de la siguiente manera:</p>
<pre class="php code"><span class="co1">// src/AppBundle/Form/Type/TamanyoImagenType.php</span>
<span class="kw2">namespace</span> AppBundle\Form\Type<span class="sy0">;</span>
&nbsp;
<span class="kw2">use</span> Symfony\Component\Form\AbstractType<span class="sy0">;</span>
<span class="kw2">use</span> Symfony\Component\OptionsResolver\OptionsResolverInterface<span class="sy0">;</span>
&nbsp;
<span class="kw2">class</span> TamanyoImagenType <span class="kw2">extends</span> AbstractType
<span class="br0">&#123;</span>
    <span class="kw2">public</span> <span class="kw2">function</span> setDefaultOptions<span class="br0">&#40;</span>OptionsResolverInterface <span class="re0">$resolver</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="re0">$resolver</span><span class="sy0">-&gt;</span><span class="me1">setDefaults</span><span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
            <span class="st_h">'class'</span> <span class="sy0">=&gt;</span> <span class="st_h">'RM\PlantillaBundle\Entity\TamanyoImagen'</span><span class="sy0">,</span>
            <span class="st_h">'query_builder'</span> <span class="sy0">=&gt;</span> <span class="kw2">function</span><span class="br0">&#40;</span>EntityRepository <span class="re0">$er</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
                <span class="kw1">return</span> <span class="re0">$er</span><span class="sy0">-&gt;</span><span class="me1">createQueryBuilder</span><span class="br0">&#40;</span><span class="st_h">'t'</span><span class="br0">&#41;</span>
                    <span class="sy0">-&gt;</span><span class="me1">where</span><span class="br0">&#40;</span><span class="st_h">'t.tipo = :tipo'</span><span class="br0">&#41;</span>
                    <span class="sy0">-&gt;</span><span class="me1">andWhere</span><span class="br0">&#40;</span><span class="st_h">'t.estado &gt; -1'</span><span class="br0">&#41;</span>
                    <span class="sy0">-&gt;</span><span class="me1">setParameter</span><span class="br0">&#40;</span><span class="st_h">'tipo'</span><span class="sy0">,</span> TamanyoImagen<span class="sy0">::</span><span class="me2">PRODUCTO</span><span class="br0">&#41;</span><span class="sy0">;</span>
             <span class="br0">&#125;</span><span class="sy0">,</span>
             <span class="st_h">'property'</span> <span class="sy0">=&gt;</span> <span class="st_h">'codigo'</span><span class="sy0">,</span>
             <span class="st_h">'empty_value'</span> <span class="sy0">=&gt;</span> <span class="st_h">'Tamaño de Imagen'</span><span class="sy0">,</span>
             <span class="st_h">'empty_data'</span> <span class="sy0">=&gt;</span> <span class="kw4">null</span><span class="sy0">,</span>
             <span class="st_h">'required'</span> <span class="sy0">=&gt;</span> <span class="kw4">false</span>
        <span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw2">function</span> getParent<span class="br0">&#40;</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="kw1">return</span> <span class="st_h">'entity'</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw2">function</span> getName<span class="br0">&#40;</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="kw1">return</span> <span class="st_h">'tamanyo_imagen'</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<p>Luego para usarlo es:</p>
<pre class="php code"><span class="kw2">public</span> <span class="kw2">function</span> buildForm<span class="br0">&#40;</span>FormBuilderInterface <span class="re0">$builder</span><span class="sy0">,</span> <span class="kw3">array</span> <span class="re0">$options</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="re0">$builder</span>
        <span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'nombre'</span><span class="br0">&#41;</span>
        <span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'descripcion'</span><span class="br0">&#41;</span>
        <span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'tamanyoImagen'</span><span class="sy0">,</span> <span class="kw2">new</span> TamanyoImagenType<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
        <span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'estado'</span><span class="sy0">,</span> <span class="st_h">'hidden'</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'data'</span> <span class="sy0">=&gt;</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span></pre>
<p>Más info <a href="http://symfony.com/doc/current/cookbook/form/create_custom_field_type.html">Acá</a>, Saludos!</p>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/454266090743287809/u5bA8gsQ_normal.jpeg" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @manuel_j555
                                </span>

                                <span class="published">
                                    20-feb-15 14:51
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-2">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/466/crear-un-campo-de-formulario-personalizado-de-tipo-entity/#respuesta-2" title="Enlace permanente a esta respuesta">#2</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_2_html">
                        <p><strong>Actualización</strong>: escribí mi comentario sin ver el que estaba escribiendo @manuel_j555. Su respuesta es la mejor si quieres seguir utilizando un campo de tipo <em>entity</em>. La solución que te indicaba a continuación quizás es más adecuada para otros ejemplos más sencillos.</p>
<hr />
<p>Tienes razón en que la documentación de Symfony sobre crear tipos de formulario propios es demasiado avanzada para casos sencillos como este. Te recomiendo en su lugar <a href="http://pookey.co.uk/wordpress/archives/286-creating-a-custom-form-field-type-in-symfony-2">este artículo</a> que aunque es muy viejo, explica bien el proceso:</p>
<ol>
<li>Creas un campo que extienda de <code>AbstractType</code> pero cuyo padre sea el tipo <code>Choice</code>.</li>
<li>Creas una clase que implemente <code>ChoiceListInterface</code> y que devuelva la lista de opciones que se mostrarán al usuario.</li>
<li>La clave está en definir un servicio para esa clase que implementa <code>ChoiceListInterface</code>, de manera que puedas inyectarle el <em>entity manager</em> de Doctrine o el repositorio concreto sobre el que vas a hacer las búsquedas.</li>
<li>Registras el campo creando un servicio etiquetado con <code>form.type</code> y ya puedes usarlo en tus formularios.</li>
</ol>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    20-feb-15 14:57
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-3">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/466/crear-un-campo-de-formulario-personalizado-de-tipo-entity/#respuesta-3" title="Enlace permanente a esta respuesta">#3</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_3_html">
                        <p>Hola @manuel_j555, lo primero muchísimas gracias por responder tan rápido.</p>
<p>Lo tenia hecho tal y como me has dicho, pero me daba una Excepcion diciendo que faltaba la opción <code>data</code>. Creo que estaba confundiendo la opción <code>class</code> y <code>data_class</code>.</p>
<p>A parte del código que has puesto, he creado un servicio para poder utilizarlo en cualquier parte: </p>
<pre class="yaml code"><span class="co4">rm_plantilla.form.tamanyoimagen</span>:<span class="co3">
      class</span><span class="sy2">: </span>RM\PlantillaBundle\Form\TamanyoImagen\TamanyoImagenType<span class="co4">
      tags</span>:<span class="co3">
        - { name</span><span class="sy2">: </span>form.type, alias<span class="sy2">: </span>tamanyoImagen <span class="br0">&#125;</span></pre>
<p>De esta forma puedes utilizarlo de la siguiente manera:</p>
<pre class="php code"><span class="kw2">public</span> <span class="kw2">function</span> buildForm<span class="br0">&#40;</span>FormBuilderInterface <span class="re0">$builder</span><span class="sy0">,</span> <span class="kw3">array</span> <span class="re0">$options</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="re0">$builder</span>
        <span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'nombre'</span><span class="br0">&#41;</span>
        <span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'descripcion'</span><span class="br0">&#41;</span>
        <span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'tamanyoImagen'</span><span class="sy0">,</span> <span class="st_h">'tamanyoImagen'</span><span class="br0">&#41;</span>
        <span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'estado'</span><span class="sy0">,</span> <span class="st_h">'hidden'</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'data'</span> <span class="sy0">=&gt;</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span></pre>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1594542131/avatar_normal.jpg" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiermadueno
                                </span>

                                <span class="published">
                                    20-feb-15 15:01
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-4">
                                        <i id="ultimo"></i>

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/466/crear-un-campo-de-formulario-personalizado-de-tipo-entity/#respuesta-4" title="Enlace permanente a esta respuesta">#4</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_4_html">
                        <p>@javiereguiluz gracias a ti también por la respuesta. También le había echado un vistazo al artículo que has enlazado. El caso es que lo estaba haciendo bien, tal y como ha explicado @manuel_j555, pero no estaba indicando la opción <code>class</code> sino <code>data_class</code> y ahí estaba el problema. </p>
<p>Por cierto, me gustaría profundizar algo más en el uso de los formularios de Symfony, ¿Conoces algún recurso que pueda utilizar? (A parte de la documentación oficial de Symfony) Creo que se le pueden sacar mucho partido si se saben utilizar de manera correcta.</p>
<p>Muchas gracias y un saludo.</p>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1594542131/avatar_normal.jpg" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiermadueno
                                </span>

                                <span class="published">
                                    20-feb-15 16:58
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                    
                    <div id="btn-reply">
                <a rel="nofollow" href="/foro/pregunta/466/crear-un-campo-de-formulario-personalizado-de-tipo-entity/responder/#tu-respuesta" class="btn btn-lg">
                    Responder pregunta
                </a>
            </div>
            </div>


                </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
