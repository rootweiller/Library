<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>Como enviar emails fuera del controlador en Symfony</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                                                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Como enviar emails fuera del controlador en Symfony">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-4-2" class="forum forum_discussion"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                    <div class="module module-ad module-ad-responsive module-ad-top">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>


    <div itemscope="" itemtype="http://schema.org/Article">
        <div id="discussion" class="col-sm-9 ">
            <h1 class="title" itemprop="name">Como enviar emails fuera del controlador en Symfony</h1>

            <div id="discussion-content" itemprop="description">
                <p>Buenas noches.</p>
<p>Tengo los controladores muy cargados de código y quiero dejarlos más limpios desacoplando acciones. Por ejemplo, creando una clase para enviar distintos tipos de correos, pero no se cómo hacerlo.</p>
<p>He estado revisando la documentación de Symfony pero no he encontrado la manera de hacerlo, creando un servicio, un evento, ... Espero me puedan orientar porque llevo unos días dándole vueltas y no se cómo hacerlo.</p>
<p>Este método lo que hace es enviar un email de contacto al administrador.
Mi idea es crear una clase con distintos tipos de emails, email con un nuevo usuario registrado, email avisando cuando un usuario crea un nuevo producto, ... y poder usarlo en cualquier parte.</p>
<p>Pego parte del código del controlador:</p>
<pre class="php code"><span class="kw2">public</span> <span class="kw2">function</span> contactAction<span class="br0">&#40;</span>Request <span class="re0">$request</span><span class="br0">&#41;</span>
  <span class="br0">&#123;</span>
    <span class="re0">$user</span>        <span class="sy0">=</span> <span class="kw2">new</span> User<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="re0">$contactForm</span> <span class="sy0">=</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">createForm</span><span class="br0">&#40;</span><span class="kw2">new</span> ContactType<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="re0">$contactForm</span><span class="sy0">-&gt;</span><span class="me1">handleRequest</span><span class="br0">&#40;</span><span class="re0">$request</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw1">if</span><span class="br0">&#40;</span><span class="re0">$contactForm</span><span class="sy0">-&gt;</span><span class="me1">isValid</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
      <span class="re0">$data</span>    <span class="sy0">=</span> <span class="re0">$contactForm</span><span class="sy0">-&gt;</span><span class="me1">getData</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="re0">$mailer</span>  <span class="sy0">=</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'mailer'</span><span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="re0">$message</span> <span class="sy0">=</span> <span class="re0">$mailer</span><span class="sy0">-&gt;</span><span class="me1">createMessage</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
        <span class="sy0">-&gt;</span><span class="me1">setSubject</span><span class="br0">&#40;</span><span class="st_h">'Formulario de contacto'</span><span class="br0">&#41;</span>
        <span class="sy0">-&gt;</span><span class="me1">setFrom</span><span class="br0">&#40;</span><span class="st_h">'<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="7a13141c153a1f021b170a161f54191517">[email&#160;protected]</a><script cf-hash='f9e31' type="text/javascript">
/* <![CDATA[ */!function(){try{var t="currentScript"in document?document.currentScript:function(){for(var t=document.getElementsByTagName("script"),e=t.length;e--;)if(t[e].getAttribute("cf-hash"))return t[e]}();if(t&&t.previousSibling){var e,r,n,i,c=t.previousSibling,a=c.getAttribute("data-cfemail");if(a){for(e="",r=parseInt(a.substr(0,2),16),n=2;a.length-n;n+=2)i=parseInt(a.substr(n,2),16)^r,e+=String.fromCharCode(i);e=document.createTextNode(e),c.parentNode.replaceChild(e,c)}}}catch(u){}}();/* ]]> */</script>'</span><span class="br0">&#41;</span>
        <span class="sy0">-&gt;</span><span class="me1">setTo</span><span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="01686f676e416479606c716d642f626e6c">[email&#160;protected]</a><script cf-hash='f9e31' type="text/javascript">
/* <![CDATA[ */!function(){try{var t="currentScript"in document?document.currentScript:function(){for(var t=document.getElementsByTagName("script"),e=t.length;e--;)if(t[e].getAttribute("cf-hash"))return t[e]}();if(t&&t.previousSibling){var e,r,n,i,c=t.previousSibling,a=c.getAttribute("data-cfemail");if(a){for(e="",r=parseInt(a.substr(0,2),16),n=2;a.length-n;n+=2)i=parseInt(a.substr(n,2),16)^r,e+=String.fromCharCode(i);e=document.createTextNode(e),c.parentNode.replaceChild(e,c)}}}catch(u){}}();/* ]]> */</script>'</span> <span class="sy0">=&gt;</span> <span class="st_h">'<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="9ff1f0edfaeff3e6dffae7fef2eff3fab1fcf0f2">[email&#160;protected]</a><script cf-hash='f9e31' type="text/javascript">
/* <![CDATA[ */!function(){try{var t="currentScript"in document?document.currentScript:function(){for(var t=document.getElementsByTagName("script"),e=t.length;e--;)if(t[e].getAttribute("cf-hash"))return t[e]}();if(t&&t.previousSibling){var e,r,n,i,c=t.previousSibling,a=c.getAttribute("data-cfemail");if(a){for(e="",r=parseInt(a.substr(0,2),16),n=2;a.length-n;n+=2)i=parseInt(a.substr(n,2),16)^r,e+=String.fromCharCode(i);e=document.createTextNode(e),c.parentNode.replaceChild(e,c)}}}catch(u){}}();/* ]]> */</script>'</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
        <span class="sy0">-&gt;</span><span class="me1">setBody</span><span class="br0">&#40;</span><span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">renderView</span><span class="br0">&#40;</span><span class="st_h">'AppBundle:Account:contactTemplate.html.twig'</span><span class="sy0">,</span>
          <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'name'</span>    <span class="sy0">=&gt;</span> <span class="re0">$data</span><span class="br0">&#91;</span><span class="st_h">'name'</span><span class="br0">&#93;</span><span class="sy0">,</span>
                <span class="st_h">'mail'</span>    <span class="sy0">=&gt;</span> <span class="re0">$data</span><span class="br0">&#91;</span><span class="st_h">'mail'</span><span class="br0">&#93;</span><span class="sy0">,</span>
                <span class="st_h">'content'</span> <span class="sy0">=&gt;</span> <span class="re0">$data</span><span class="br0">&#91;</span><span class="st_h">'content'</span><span class="br0">&#93;</span>
          <span class="br0">&#41;</span>
        <span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="re0">$mailer</span><span class="sy0">-&gt;</span><span class="me1">send</span><span class="br0">&#40;</span><span class="re0">$message</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
      <span class="re0">$request</span><span class="sy0">-&gt;</span><span class="me1">getSession</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">getFlashBag</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span>
        <span class="st_h">'notice'</span><span class="sy0">,</span>
        <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'translator'</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">trans</span><span class="br0">&#40;</span><span class="st_h">'flash.contact'</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="st_h">'messages'</span>
      <span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
      <span class="kw1">return</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">redirect</span><span class="br0">&#40;</span><span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">generateUrl</span><span class="br0">&#40;</span><span class="st_h">'contact'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw1">return</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">render</span><span class="br0">&#40;</span><span class="st_h">'AppBundle:account:contact.html.twig'</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span>
        <span class="st_h">'form'</span> <span class="sy0">=&gt;</span> <span class="re0">$contactForm</span><span class="sy0">-&gt;</span><span class="me1">createView</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
    <span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span></pre>
<p>Un saludo.</p>
            </div>

                            <div id="discussion-tags">
                    <h3>Etiquetas</h3>
                    <ul class="tags-list">
                                                                <li><a href="/foro/controller/">controller</a></li>
                                            <li><a href="/foro/php/">php</a></li>
                                            <li><a href="/foro/swiftmailer/">swiftmailer</a></li>
                                            <li><a href="/foro/symfony/">symfony</a></li>
                                        </ul>
                </div>
                    </div>

        <div id="discussion-attributes" class="col-sm-3">
            <div class="row">
                <p class="col-xs-3 col-sm-12 avatar">
                    <img width="73" height="73" itemprop="image"
                     src="http://abs.twimg.com/sticky/default_profile_images/default_profile_2_bigger.png" />
                </p>

                <p class="col-xs-8 col-sm-12 col-md-12">
                    <span class="login">@nonio_87</span>
                    <meta itemprop="author" content="Antonio Jimenez" />

                    <span class="published">13 de abril de 2015</span>
                    <meta itemprop="dateCreated" content="2015-04-13T22:05:00+02:00" />
                </p>

                <p id="discussion-actions" class="col-sm-12">
                                    </p>
            </div>
        </div>
    </div>
    
    <div id="discussion-comments" class="col-sm-12">
                    <h2>Respuestas</h2>

                            <div class="row comment"  id="respuesta-1">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/556/como-enviar-emails-fuera-del-controlador-en-symfony/#respuesta-1" title="Enlace permanente a esta respuesta">#1</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_1_html">
                        <p>@nonio_87 como parece que ya tienes suficiente experiencia con Symfony, te indico en plan general cómo lo hago yo por si te sirve de ayuda. Luego si tienes alguna duda concreta, dímelo y entramos en detalles de implementación.</p>
<p>La primera forma de implementarlo sería crear un servicio <code>app.mailer</code> y usarlo en el controlador así:</p>
<pre class="php code"><span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'app.mailer'</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">sendContactMessage</span><span class="br0">&#40;</span><span class="re0">$content</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
<p>La otra forma sería utilizar eventos y en el controlador simplemente lanzar el evento adecuado y luego crear un <em>listener</em> que escuche el evento:</p>
<pre class="php code"><span class="kw2">use</span> Symfony\Component\EventDispatcher\GenericEvent<span class="sy0">;</span>
&nbsp;
<span class="re0">$event</span> <span class="sy0">=</span> <span class="kw2">new</span> GenericEvent<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'content'</span> <span class="sy0">=&gt;</span> <span class="re0">$content</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="re0">$dispatcher</span><span class="sy0">-&gt;</span><span class="me1">dispatch</span><span class="br0">&#40;</span><span class="st_h">'email.contacto'</span><span class="sy0">,</span> <span class="re0">$event</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
<p>Ahora viene lo importante, ¿cómo hacer ese <em>mailer</em>? Yo lo que hice fue coger el <em>mailer</em> de FOSUserBundle y simplificarlo bastante.</p>
<ul>
<li><a href="https://github.com/FriendsOfSymfony/FOSUserBundle/blob/master/Resources/config/mailer.xml#L27-41">Definición del servicio</a> yo sólo he implementado el <em>mailer</em> de tipo <code>TwigSwiftMailer</code> porque es el único que voy a usar en la aplicación (este servicio lo defino en YAML en el archivo <code>app/config/config.yml</code>). En mi caso lo he simplificado para sólo pasarle el servicio <code>twig</code> y el servicio <code>mailer</code>. Todo lo demás lo quito para simplificar las cosas.</li>
<li><a href="https://github.com/FriendsOfSymfony/FOSUserBundle/blob/master/Mailer/TwigSwiftMailer.php">Código del <em>mailer</em></a>. De nuevo yo lo simplifico bastante. En vez de crear métodos auxiliares (como por ejemplo <code>sendConfirmationEmailMessage()</code>) yo sólo defino el método genérico <code>sendMessage($templateName, $context, $fromEmail, $toEmail)</code>. Con este método ya puedo hacer lo que quiera.</li>
<li><a href="https://github.com/FriendsOfSymfony/FOSUserBundle/blob/master/Resources/views/Registration/email.txt.twig">Plantillas de los emails</a> yo las guardo todas en <code>app/Resources/views/email/</code>. Así tengo todo centralizado y las rutas de las plantillas son tan fáciles como <code>email/contacto.html.twig</code>. Una cosa que me parece genial de FOSUserBundle es que define varios bloques de Twig en la plantilla para definir tanto el asunto como el contenido en formato HTML y TXT. Me parece una solución muy elegante que permite definir todo el contenido del email en la misma plantilla. Luego en el código del <em>mailer</em> verás que renderiza cada bloque por separado para obtener el contenido de cada parte del email.</li>
</ul>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    14-abr-15 08:41
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-2">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/556/como-enviar-emails-fuera-del-controlador-en-symfony/#respuesta-2" title="Enlace permanente a esta respuesta">#2</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_2_html">
                        <p>Gracias por responder.</p>
<p>Experiencia tengo más bien un nivel básico. Este es mi primer proyecto con Symfony y decir que lo que he aprendido ha sido usando de guía tu libro de desarrollo web ágil con symfony 2 y la documentación oficial jejeje.</p>
<p>He revisado FOSUserBundle pero no termino de saber cómo aplicar lo que dices. Es la primera vez que voy a trabajar con eventos y no lo tengo claro. ¿Podrías explicarme si no te importa un poco más a fondo como hacerlo?</p>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_2_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @nonio_87
                                </span>

                                <span class="published">
                                    15-abr-15 01:59
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-3">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/556/como-enviar-emails-fuera-del-controlador-en-symfony/#respuesta-3" title="Enlace permanente a esta respuesta">#3</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_3_html">
                        <p>Buenas, comparto unos links donde intento explicar es uso de eventos con ejemplos:</p>
<ul>
<li><a href="http://manuelj555.github.io/2014/06/15/extension-mediante-eventos.html">http://manuelj555.github.io/2014/06/15/extension-mediante-eventos.html</a></li>
<li><a href="http://manuelj555.github.io/2014/08/26/extension-mediante-eventos-cambio-status.html">http://manuelj555.github.io/2014/08/26/extension-mediante-eventos-cambio-status.html</a></li>
<li><a href="http://manuelj555.github.io/2014/09/15/extension-mediante-eventos-cambio-status-2.html">http://manuelj555.github.io/2014/09/15/extension-mediante-eventos-cambio-status-2.html</a></li>
</ul>
<p>Espero sirvan de guía, Saludos!</p>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/454266090743287809/u5bA8gsQ_normal.jpeg" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @manuel_j555
                                </span>

                                <span class="published">
                                    15-abr-15 15:04
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-4">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/556/como-enviar-emails-fuera-del-controlador-en-symfony/#respuesta-4" title="Enlace permanente a esta respuesta">#4</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_4_html">
                        <p>@nonio_87, los links de @manuel_j555 están genial, pero mi consejo sería que empezaras a implementar esta funcionalidad sin los eventos. Cuando ya tengas el <em>mailer</em> funcionando bien, pasarte a los eventos sera muy sencillo. Pero hacer todo a la vez puede complicar las cosas más de lo necesario.</p>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    15-abr-15 15:31
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-5">
                                        <i id="ultimo"></i>

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/556/como-enviar-emails-fuera-del-controlador-en-symfony/#respuesta-5" title="Enlace permanente a esta respuesta">#5</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_5_html">
                        <p>Ya conseguí tener mis emails fuera y además he creado un <em>manager</em> para sacar la lógica del controlador, conteniendo aún menos líneas de código. Muchas gracias Javier y Manuel_j555.</p>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_2_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @nonio_87
                                </span>

                                <span class="published">
                                    19-abr-15 23:27
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                    
                    <div id="btn-reply">
                <a rel="nofollow" href="/foro/pregunta/556/como-enviar-emails-fuera-del-controlador-en-symfony/responder/#tu-respuesta" class="btn btn-lg">
                    Responder pregunta
                </a>
            </div>
            </div>


                </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
