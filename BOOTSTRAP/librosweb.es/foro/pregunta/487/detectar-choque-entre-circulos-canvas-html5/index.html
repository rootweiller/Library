<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>Detectar choque entre circulos canvas HTML5</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                                                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Detectar choque entre circulos canvas HTML5">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-4-2" class="forum forum_discussion"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                    <div class="module module-ad module-ad-responsive module-ad-top">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>


    <div itemscope="" itemtype="http://schema.org/Article">
        <div id="discussion" class="col-sm-9 ">
            <h1 class="title" itemprop="name">Detectar choque entre circulos canvas HTML5</h1>

            <div id="discussion-content" itemprop="description">
                <p>Quisiera saber cómo puedo hacer que, teniendo dos círculos, como objetos independientes, los cuales están rebotando dentro del canvas de forma libre, cuando se encuentren reboten entre ellos y cambien su dirección.</p>
<p>Adjunto mi código JS para mi canvas, para que sepan cómo lo tengo planteado, gracias:</p>
<pre class="javascript code"><span class="co1">// Función que crea un circulo.</span>
<span class="kw1">function</span> circle<span class="br0">&#40;</span>x<span class="sy0">,</span> y<span class="sy0">,</span> r<span class="sy0">,</span> color<span class="br0">&#41;</span> <span class="br0">&#123;</span>
   contexto.<span class="me1">fillStyle</span> <span class="sy0">=</span> color<span class="sy0">;</span>
   contexto.<span class="me1">beginPath</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
   contexto.<span class="me1">arc</span><span class="br0">&#40;</span>x<span class="sy0">,</span> y<span class="sy0">,</span> r<span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="kw4">Math</span>.<span class="me1">PI</span><span class="sy0">*</span><span class="nu0">2</span><span class="sy0">,</span> <span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
   contexto.<span class="me1">closePath</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
   contexto.<span class="me1">fill</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="co1">// Función que crea un rectangulo. </span>
<span class="kw1">function</span> rect<span class="br0">&#40;</span>x<span class="sy0">,</span> y<span class="sy0">,</span> w<span class="sy0">,</span> h<span class="sy0">,</span> color<span class="br0">&#41;</span> <span class="br0">&#123;</span>
   contexto.<span class="me1">fillStyle</span> <span class="sy0">=</span> color<span class="sy0">;</span>
   contexto.<span class="me1">fillRect</span><span class="br0">&#40;</span>x<span class="sy0">,</span> y<span class="sy0">,</span> w<span class="sy0">,</span> h<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="co1">// Función que crea un objeto pelota</span>
<span class="kw1">function</span> Pelota<span class="br0">&#40;</span>x<span class="sy0">,</span> y<span class="sy0">,</span> r<span class="sy0">,</span> color<span class="br0">&#41;</span> <span class="br0">&#123;</span>
   <span class="kw1">this</span>.<span class="me1">x</span> <span class="sy0">=</span> x<span class="sy0">;</span>
   <span class="kw1">this</span>.<span class="me1">y</span> <span class="sy0">=</span> y<span class="sy0">;</span>
   <span class="kw1">this</span>.<span class="me1">r</span> <span class="sy0">=</span> r<span class="sy0">;</span>
   <span class="kw1">this</span>.<span class="me1">color</span> <span class="sy0">=</span> color<span class="sy0">;</span>
   <span class="kw1">this</span>.<span class="me1">dx</span> <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span>
   <span class="kw1">this</span>.<span class="me1">dy</span> <span class="sy0">=</span> <span class="nu0">1.1</span><span class="sy0">;</span>
   <span class="kw1">this</span>.<span class="me1">speed</span> <span class="sy0">=</span> <span class="nu0">2</span><span class="sy0">;</span>
   <span class="kw1">this</span>.<span class="me1">center</span> <span class="sy0">=</span> <span class="kw1">this</span>.<span class="me1">r</span><span class="sy0">/</span><span class="nu0">2</span><span class="sy0">;</span>
&nbsp;
   <span class="kw1">this</span>.<span class="me1">update</span> <span class="sy0">=</span> <span class="kw1">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>   
      <span class="kw1">if</span> <span class="br0">&#40;</span><span class="kw1">this</span>.<span class="me1">x</span><span class="sy0">+</span><span class="kw1">this</span>.<span class="me1">center</span> <span class="sy0">&gt;</span> ancho_rectangulo <span class="sy0">||</span> <span class="kw1">this</span>.<span class="me1">x</span><span class="sy0">-</span><span class="kw1">this</span>.<span class="me1">center</span> <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
         <span class="kw1">this</span>.<span class="me1">dx</span> <span class="sy0">=</span> <span class="sy0">-</span><span class="kw1">this</span>.<span class="me1">dx</span><span class="sy0">;</span>
      <span class="br0">&#125;</span>
&nbsp;
      <span class="kw1">if</span> <span class="br0">&#40;</span><span class="kw1">this</span>.<span class="me1">y</span><span class="sy0">+</span><span class="kw1">this</span>.<span class="me1">center</span> <span class="sy0">&gt;</span> alto_rectangulo <span class="sy0">||</span> <span class="kw1">this</span>.<span class="me1">y</span><span class="sy0">-</span><span class="kw1">this</span>.<span class="me1">center</span> <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
         <span class="kw1">this</span>.<span class="me1">dy</span> <span class="sy0">=</span> <span class="sy0">-</span><span class="kw1">this</span>.<span class="me1">dy</span><span class="sy0">;</span>
      <span class="br0">&#125;</span>
&nbsp;
      <span class="kw1">this</span>.<span class="me1">x</span> <span class="sy0">+=</span> <span class="kw1">this</span>.<span class="me1">dx</span> <span class="sy0">*</span> <span class="kw1">this</span>.<span class="me1">speed</span><span class="sy0">;</span>
      <span class="kw1">this</span>.<span class="me1">y</span> <span class="sy0">+=</span> <span class="kw1">this</span>.<span class="me1">dy</span> <span class="sy0">*</span> <span class="kw1">this</span>.<span class="me1">speed</span><span class="sy0">;</span>
   <span class="br0">&#125;</span>
&nbsp;
   <span class="kw1">this</span>.<span class="me1">draw</span> <span class="sy0">=</span> <span class="kw1">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
      circle<span class="br0">&#40;</span><span class="kw1">this</span>.<span class="me1">x</span><span class="sy0">,</span> <span class="kw1">this</span>.<span class="me1">y</span><span class="sy0">,</span> <span class="kw1">this</span>.<span class="me1">r</span><span class="sy0">,</span> <span class="kw1">this</span>.<span class="me1">color</span><span class="br0">&#41;</span><span class="sy0">;</span>
   <span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="co1">//Función que actualiza y dibuja la pelota.</span>
<span class="kw1">function</span> gameLoop<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
   limpiar<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
   <span class="co1">// Si (pelota.x &gt; width) entonces clearInterval(intervalId);</span>
   pelota1.<span class="me1">update</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
   pelota1.<span class="me1">draw</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
   pelota2.<span class="me1">update</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
   pelota2.<span class="me1">draw</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="co1">// Función que limpia los pasos de la pelota</span>
<span class="kw1">function</span> limpiar<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
   contexto.<span class="me1">fillStyle</span> <span class="sy0">=</span> <span class="st0">&quot;grey&quot;</span><span class="sy0">;</span>
   rect<span class="br0">&#40;</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> ancho_rectangulo<span class="sy0">,</span> alto_rectangulo<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="co1">// Función para iniciar el programa</span>
<span class="kw1">function</span> init<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
   canvas <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">&quot;miCanvas&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
   contexto <span class="sy0">=</span> canvas.<span class="me1">getContext</span><span class="br0">&#40;</span><span class="st0">&quot;2d&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
   ancho_rectangulo <span class="sy0">=</span> canvas.<span class="me1">width</span><span class="sy0">;</span>
   alto_rectangulo <span class="sy0">=</span> canvas.<span class="me1">height</span><span class="sy0">;</span>
&nbsp;
   pelota1 <span class="sy0">=</span> <span class="kw1">new</span> Pelota<span class="br0">&#40;</span><span class="nu0">50</span><span class="sy0">,</span> <span class="nu0">50</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="st0">&quot;silver&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
   pelota2 <span class="sy0">=</span> <span class="kw1">new</span> Pelota<span class="br0">&#40;</span><span class="nu0">50</span><span class="sy0">,</span> <span class="nu0">250</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="st0">&quot;black&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
   setInterval<span class="br0">&#40;</span>gameLoop<span class="sy0">,</span> <span class="nu0">20</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">//Llama a la función gameLoop cada 20 milisegundos de forma indefinida.</span>
<span class="br0">&#125;</span>
&nbsp;
window.<span class="me1">onload</span> <span class="sy0">=</span> init<span class="sy0">;</span>
&nbsp;
<span class="co1">// Variables.</span>
<span class="kw1">var</span> canvas<span class="sy0">,</span> contexto<span class="sy0">,</span> ancho_rectangulo<span class="sy0">,</span> alto_rectangulo<span class="sy0">;</span></pre>
            </div>

                            <div id="discussion-tags">
                    <h3>Etiquetas</h3>
                    <ul class="tags-list">
                                                                <li><a href="/foro/html/">html</a></li>
                                            <li><a href="/foro/javascript/">javascript</a></li>
                                        </ul>
                </div>
                    </div>

        <div id="discussion-attributes" class="col-sm-3">
            <div class="row">
                <p class="col-xs-3 col-sm-12 avatar">
                    <img width="73" height="73" itemprop="image"
                     src="http://pbs.twimg.com/profile_images/497695882318741504/kbiEDiEr_bigger.jpeg" />
                </p>

                <p class="col-xs-8 col-sm-12 col-md-12">
                    <span class="login">@ucip3</span>
                    <meta itemprop="author" content="Isaac" />

                    <span class="published">28 de febrero de 2015</span>
                    <meta itemprop="dateCreated" content="2015-02-28T21:27:30+01:00" />
                </p>

                <p id="discussion-actions" class="col-sm-12">
                                    </p>
            </div>
        </div>
    </div>
    
    <div id="discussion-comments" class="col-sm-12">
                    <h2>Respuestas</h2>

                            <div class="row comment"  id="respuesta-1">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/487/detectar-choque-entre-circulos-canvas-html5/#respuesta-1" title="Enlace permanente a esta respuesta">#1</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_1_html">
                        <p>Así por encima será igual que en cualquier lenguaje, en cada loop tendrás que mirar si ambos centros estan a x distancia y si es así es que están tocándose. Oseáse si en cada tick de reloj la distancia entre centros es menor que el radio 1 + el radio 2 (creo que será la formula) entonces hay contacto y si hay contacto pos habrá que modificar los valores que sean de movimiento. no?</p>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/436889979910778882/EmFCjbl-_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @aprendizenlared
                                </span>

                                <span class="published">
                                    01-mar-15 14:00
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-2">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/487/detectar-choque-entre-circulos-canvas-html5/#respuesta-2" title="Enlace permanente a esta respuesta">#2</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_2_html">
                        <p>Sí, creo que lo he pillado, gracias por tu tiempo y por contestar.</p>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/497695882318741504/kbiEDiEr_normal.jpeg" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @ucip3
                                </span>

                                <span class="published">
                                    01-mar-15 15:35
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-3">
                                        <i id="ultimo"></i>

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/487/detectar-choque-entre-circulos-canvas-html5/#respuesta-3" title="Enlace permanente a esta respuesta">#3</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_3_html">
                        <p>Estaba leyendo en <a href="http://stackoverflow.com/questions/2440377/javascript-collision-detection">esta pregunta de StackOverflow</a> posibles soluciones a este problema.</p>
<p>Algunos usuarios sugieren que si es importante ofrecer un gran rendimiento en las animaciones, que sacrifiques un poco la precisión de las colisiones. Para ello, tienes que aproximar los objetos circulares por <a href="http://en.wikipedia.org/wiki/Minimum_bounding_rectangle">el mínimo rectángulo envolvente</a> y después, utilizar esta fórmula para detectar colisiones:</p>
<pre class="javascript code"><span class="kw1">function</span> hanColisionado<span class="br0">&#40;</span>rectanguloA<span class="sy0">,</span> rectanguloB<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">return</span> <span class="sy0">!</span><span class="br0">&#40;</span>
        <span class="br0">&#40;</span><span class="br0">&#40;</span>rectanguloA.<span class="me1">y</span> <span class="sy0">+</span> rectanguloA.<span class="me1">height</span><span class="br0">&#41;</span> <span class="sy0">&lt;</span> <span class="br0">&#40;</span>rectanguloB.<span class="me1">y</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">||</span>
        <span class="br0">&#40;</span>rectanguloA.<span class="me1">y</span> <span class="sy0">&gt;</span> <span class="br0">&#40;</span>rectanguloB.<span class="me1">y</span> <span class="sy0">+</span> rectanguloB.<span class="me1">height</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">||</span>
        <span class="br0">&#40;</span><span class="br0">&#40;</span>rectanguloA.<span class="me1">x</span> <span class="sy0">+</span> rectanguloA.<span class="me1">width</span><span class="br0">&#41;</span> <span class="sy0">&lt;</span> rectanguloB.<span class="me1">x</span><span class="br0">&#41;</span> <span class="sy0">||</span>
        <span class="br0">&#40;</span>rectanguloA.<span class="me1">x</span> <span class="sy0">&gt;</span> <span class="br0">&#40;</span>rectanguloB.<span class="me1">x</span> <span class="sy0">+</span> rectanguloB.<span class="me1">width</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
    <span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
<p>Si en cambio quieres detectar las colisiones con precisión para los objetos circulares, puedes utilizar la siguiente fórmula:</p>
<pre class="javascript code"><span class="kw1">function</span> hanColisionado<span class="br0">&#40;</span>x1<span class="sy0">,</span> y1<span class="sy0">,</span> w1<span class="sy0">,</span> x2<span class="sy0">,</span> y2<span class="sy0">,</span> w2<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">var</span> xd <span class="sy0">=</span> x1 <span class="sy0">-</span> x2<span class="sy0">;</span>
    <span class="kw1">var</span> yd <span class="sy0">=</span> y1 <span class="sy0">-</span> y2<span class="sy0">;</span>
    <span class="kw1">var</span> wt <span class="sy0">=</span> w2 <span class="sy0">+</span> w1<span class="sy0">;</span>
    <span class="kw1">return</span> <span class="br0">&#40;</span>xd <span class="sy0">*</span> xd <span class="sy0">+</span> yd <span class="sy0">*</span> yd <span class="sy0">&lt;=</span> wt <span class="sy0">*</span> wt<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
<p>Donde <code>(x1, y1)</code> es el centro del primer círculo y <code>w1</code> su diámetro; mientras que <code>(x2, y2)</code> es el centro del segundo círculo y <code>w2</code> es su diámetro.</p>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    01-mar-15 16:52
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                    
                    <div id="btn-reply">
                <a rel="nofollow" href="/foro/pregunta/487/detectar-choque-entre-circulos-canvas-html5/responder/#tu-respuesta" class="btn btn-lg">
                    Responder pregunta
                </a>
            </div>
            </div>


                </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
