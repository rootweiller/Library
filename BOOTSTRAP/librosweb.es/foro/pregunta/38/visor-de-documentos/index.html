<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>Visor de documentos</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                                                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Visor de documentos">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-4-2" class="forum forum_discussion"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                    <div class="module module-ad module-ad-responsive module-ad-top">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>


    <div itemscope="" itemtype="http://schema.org/Article">
        <div id="discussion" class="col-sm-9 ">
            <h1 class="title" itemprop="name">Visor de documentos</h1>

            <div id="discussion-content" itemprop="description">
                <p>Hola Javier,</p>

<p>Primero darte nuevamente las gracias por resolverme en este foro las dudas que tenía acerca de <a href="http://librosweb.es/foro/pregunta/24/guardar-datos-temporales/">guardar de forma temporal datos</a>, que pude solucionar con éxito gracias a las sesiones.</p>

<p>Siguiendo con el proyecto que estoy desarrollando, se me ha ocurrido la idea de mostrar documentos PDF en una parte de una plantilla al usuario. Luego he pensado que sería interesante mostrar también otros formatos como DOC, ODF, etc. ¿Tienes alguna idea de cómo visualizar en la mayor parte de navegadores este tipo de documentos?</p>

<p>Igualmente, he pensado en la posibilidad de que el usuario de la extranet pueda subir ficheros de este tipo, para que el usuario del frontend los pueda ver. No estoy interesado en generarlos desde mi web, sólo que puedan ser leídos.</p>

<p>¿Algún bundle/plugin fiable del que sepas?</p>

<p>Un saludo</p>

            </div>

                            <div id="discussion-tags">
                    <h3>Etiquetas</h3>
                    <ul class="tags-list">
                                                                <li><a href="/foro/ajax/">ajax</a></li>
                                            <li><a href="/foro/php/">php</a></li>
                                            <li><a href="/foro/symfony/">symfony</a></li>
                                        </ul>
                </div>
                    </div>

        <div id="discussion-attributes" class="col-sm-3">
            <div class="row">
                <p class="col-xs-3 col-sm-12 avatar">
                    <img width="73" height="73" itemprop="image"
                     src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_bigger.png" />
                </p>

                <p class="col-xs-8 col-sm-12 col-md-12">
                    <span class="login">@Jorge_Gante</span>
                    <meta itemprop="author" content="Jorge Gante" />

                    <span class="published">13 de noviembre de 2013</span>
                    <meta itemprop="dateCreated" content="2013-11-13T22:21:21+01:00" />
                </p>

                <p id="discussion-actions" class="col-sm-12">
                                    </p>
            </div>
        </div>
    </div>
    
    <div id="discussion-comments" class="col-sm-12">
                    <h2>Respuestas</h2>

                            <div class="row comment"  id="respuesta-1">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/38/visor-de-documentos/#respuesta-1" title="Enlace permanente a esta respuesta">#1</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_1_html">
                        <p>Por lo que he visto, hacer un visor de documentos sencillo es fácil, pero hacer un visor de documentos completo es extremadamente difícil.</p>

<p>El visor de documentos sencillo puedes crearlo por ejemplo con la librería <a href="http://mozilla.github.io/pdf.js/">pdf.js</a>, que visualiza documentos PDF en el navegador sin usar plugins y con <a href="http://jplayer.org/">jPlayer</a> que es una librería multimedia para jQuery con el que podrás ver todos los formatos de audio y vídeo más comunes.</p>

<p>Si no quieres programar a mano el código necesario para crear tu visor con todas estas librerías, puedes comprar en CodeCanyon un <a href="http://codecanyon.net/item/jquery-document-viewer/1732515">plugin para jQuery</a> que ya lo hace.</p>

<p>Como te decía al principio, el problema es que tú necesitas un visor de documentos muy completo y eso es extremadamente difícil. No conozco ningún visor completo de DOC y ODF que esté programado con JavaScript. No se si es posible, pero como solución se me ocurre que podrías subir los documentos al Google Drive corporativo de la empresa (usando quizás Google Apps) y utilizar después el visor que proporciona el propio Google Drive y que soporta absolutamente todos los formatos.</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    14-nov-13 09:03
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-2">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/38/visor-de-documentos/#respuesta-2" title="Enlace permanente a esta respuesta">#2</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_2_html">
                        <p>Tras mucho buscar he hallado un plugin de jQuery llamado <a href="http://viewerjs.org">Viewer.js</a> que me viene al pelo y con el que se puede visualizar PDF y ODF, pero ahora... ¿Cómo instalo el plugin? Este viene con una estructura de carpetas propia, con archivos CSS, JS, imágenes, etc.</p>

<p>Encuentro mucha documentación para instalar plugins en Symfony 1.x, pero muy poquito para Symfony 2.2.</p>

<p><a href="http://stackoverflow.com/questions/12995884/add-jquery-plugin-to-symfony-2-1-project">Aquí</a> exponen una posible solución que no acabo de comprender.</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @Jorge_Gante
                                </span>

                                <span class="published">
                                    14-nov-13 18:01
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-3">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/38/visor-de-documentos/#respuesta-3" title="Enlace permanente a esta respuesta">#3</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_3_html">
                        <p>El plugin Viewer.js tiene muy buena pinta, pero parece que no soporta ni archivos multimedia ni documentos de Microsoft Office :(</p>

<p>Respecto a cómo instalarlo bien con Symfony2, no es algo que esa inmediato. El problema de integrar plugins de JavaScript en Symfony2 es que en el código JavaScript y CSS se utilizan rutas para cargar imágenes y otros archivos. Estas rutas suelen estar <em>hardcodeadas</em> y por eso es muy fácil que los plugins se <em>rompan</em> o algunas partes no funcionen.</p>

<p>De todas formas, he estado echando un vistazo al código del plugin y es posible que no tengas que hacer casi ningún cambio. Pero para ello, te aconsejo que <strong>no utilices Assetic</strong> para comprimir y combinar los archivos JavaScript.</p>

<p>En primer lugar, copia los archivos CSS y JS del plugin en los directorios <code>Resources/public/*</code> típicos del <em>bundle</em> donde vayas a instalar este plugin. Después, enlaza en tus plantillas Twig el archivo CSS y los dos archivos JavaScript tal y como se indica en la documentación del plugin:</p>

<pre class="twig code">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot;
      href=&quot;<span class="kw6"><span class="br0">&#123;</span><span class="br0">&#123;</span></span> <span class="re0">asset</span><span class="br0">&#40;</span><span class="st0">'bundles/acme/css/viewer.css'</span><span class="br0">&#41;</span> <span class="kw6"><span class="br0">&#125;</span><span class="br0">&#125;</span></span>&quot;/&gt;
&nbsp;
&lt;script src=&quot;<span class="kw6"><span class="br0">&#123;</span><span class="br0">&#123;</span></span> <span class="re0">asset</span><span class="br0">&#40;</span><span class="st0">'bundles/acme/js/viewer.js'</span><span class="br0">&#41;</span> <span class="kw6"><span class="br0">&#125;</span><span class="br0">&#125;</span></span>&quot;
        type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;<span class="kw6"><span class="br0">&#123;</span><span class="br0">&#123;</span></span> <span class="re0">asset</span><span class="br0">&#40;</span><span class="st0">'bundles/acme/js/PluginLoader.js'</span><span class="br0">&#41;</span> <span class="kw6"><span class="br0">&#125;</span><span class="br0">&#125;</span></span>&quot; 
        type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</pre>

<p>Si te fijas en el código del archivo <code>PluginLoader.js</code>, verás que carga el resto de archivos JavaScript de forma relativa respecto a su ruta, por lo que no deberías tener ningún problema:</p>

<pre class="javascript code"><span class="co1">// ...</span>
<span class="kw1">function</span> loadPlugin<span class="br0">&#40;</span>pluginName<span class="sy0">,</span> callback<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="co1">// ...</span>
    script <span class="sy0">=</span> document.<span class="me1">createElement</span><span class="br0">&#40;</span><span class="st0">'script'</span><span class="br0">&#41;</span><span class="sy0">;</span>
    script.<span class="me1">async</span> <span class="sy0">=</span> <span class="kw2">false</span><span class="sy0">;</span>
    script.<span class="me1">onload</span> <span class="sy0">=</span> callback<span class="sy0">;</span>
    script.<span class="me1">src</span> <span class="sy0">=</span> pluginName <span class="sy0">+</span> <span class="st0">'.js'</span><span class="sy0">;</span>  <span class="co1">// &lt;-- RUTA RELATIVA</span>
    script.<span class="me1">type</span> <span class="sy0">=</span> <span class="st0">'text/javascript'</span><span class="sy0">;</span>
&nbsp;
    document.<span class="me1">getElementsByTagName</span><span class="br0">&#40;</span><span class="st0">'head'</span><span class="br0">&#41;</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">appendChild</span><span class="br0">&#40;</span>script<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="kw1">function</span> loadDocument<span class="br0">&#40;</span>documentUrl<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="co1">// ...</span>
&nbsp;
    loadPlugin<span class="br0">&#40;</span><span class="st0">'./ODFViewerPlugin'</span><span class="sy0">,</span> <span class="kw1">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        ...
    <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>Con todo esto, el único problema que te puedes encontrar es el de las imágenes enlazadas desde el archivo <code>viewer.css</code>, como por ejemplo:</p>

<pre class="css code"><span class="re0">#toolbarContainer</span> <span class="br0">&#123;</span>
    <span class="coMULTI">/* ... */</span>
&nbsp;
    <span class="kw1">background-image</span><span class="sy0">:</span> <span class="kw2">url</span><span class="br0">&#40;</span><span class="st0">'images/texture.png'</span><span class="br0">&#41;</span><span class="sy0">,</span>  <span class="coMULTI">/* &lt;-- RUTA RELATIVA */</span>
        linear-gradient<span class="br0">&#40;</span>rgba<span class="br0">&#40;</span><span class="nu0">82</span><span class="sy0">,</span> <span class="nu0">82</span><span class="sy0">,</span> <span class="nu0">82</span><span class="sy0">,</span> .99<span class="br0">&#41;</span><span class="sy0">,</span> rgba<span class="br0">&#40;</span><span class="nu0">69</span><span class="sy0">,</span> <span class="nu0">69</span><span class="sy0">,</span> <span class="nu0">69</span><span class="sy0">,</span> .95<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>Para solucionarlo, lo que debes hacer es mantener el directorio <code>images/</code> original dentro del directorio <code>css/</code>. Cuando instales los <em>assets</em> de la aplicación con el comando <code>assets:install</code>, Symfony2 copia todos los directorios y subdirectorios, por lo que las imágenes también se copiarán.</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    14-nov-13 23:17
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-4">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/38/visor-de-documentos/#respuesta-4" title="Enlace permanente a esta respuesta">#4</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_4_html">
                        <p>Tras haber hecho lo abajo escrito, el servidor me dice que no encuentra <code>Viewer.js</code> en mi sistema:</p>

<pre class="code code">Not Found
&nbsp;
The requested URL /Viewer.js/ was not found on this server.</pre>

<p>Paso a paso, lo que me has dicho. Ten en cuenta que mi proyecto parte de una estructura similar a la del tuyo, CUPON:</p>

<ul>
<li><p>[1º] He copiado los ficheros JS y CSS del plugin, en las carpetas del bundle en el que voy a darles uso, que son respectivamente en mi caso: <code>PprsBundle/Resources/public/js</code> y <code>PprsBundle/Resources/public/css</code>. En esta última carpeta, he copiado íntegra la carpeta <code>images/</code> del plugin.</p></li>
<li><p>[2º] Luego he añadido en los blocks <code>stylesheets</code> y <code>javascripts</code> de la plantilla <code>app/Resources/views/frontend.html.twig</code> el siguiente código:</p></li>
</ul>

<pre class="twig code"><span class="kw6"><span class="br0">&#123;</span>%</span> <span class="re0">stylesheets</span> <span class="st0">'@PprsBundle/Resources/public/css/viewer.css'</span>
               <span class="re0">output</span><span class="sy0">=</span><span class="st0">'css/frontend.css'</span> <span class="kw6">%<span class="br0">&#125;</span></span>
    &lt;link href=&quot;<span class="kw6"><span class="br0">&#123;</span><span class="br0">&#123;</span></span> <span class="re0">asset_url</span> <span class="kw6"><span class="br0">&#125;</span><span class="br0">&#125;</span></span>&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
<span class="kw6"><span class="br0">&#123;</span>%</span> <span class="re0">endstylesheets</span> <span class="kw6">%<span class="br0">&#125;</span></span>
&nbsp;
<span class="kw6"><span class="br0">&#123;</span>%</span> <span class="re0">javascripts</span> <span class="st0">'@PprsBundle/Resources/public/js/*'</span> <span class="re0">output</span><span class="sy0">=</span><span class="st0">'js/viewer.js'</span> <span class="kw6">%<span class="br0">&#125;</span></span>
    &lt;script src=&quot;<span class="kw6"><span class="br0">&#123;</span><span class="br0">&#123;</span></span> <span class="re0">asset_url</span> <span class="kw6"><span class="br0">&#125;</span><span class="br0">&#125;</span></span>&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
<span class="kw6"><span class="br0">&#123;</span>%</span> <span class="re0">endjavascripts</span> <span class="kw6">%<span class="br0">&#125;</span></span>
&nbsp;
<span class="kw6"><span class="br0">&#123;</span>%</span> <span class="re0">javascripts</span> <span class="st0">'@PprsBundle/Resources/public/js/*'</span> <span class="re0">output</span><span class="sy0">=</span><span class="st0">'js/PluginLoader.js'</span> <span class="kw6">%<span class="br0">&#125;</span></span>
    &lt;script src=&quot;<span class="kw6"><span class="br0">&#123;</span><span class="br0">&#123;</span></span> <span class="re0">asset_url</span> <span class="kw6"><span class="br0">&#125;</span><span class="br0">&#125;</span></span>&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
<span class="kw6"><span class="br0">&#123;</span>%</span> <span class="re0">endjavascripts</span> <span class="kw6">%<span class="br0">&#125;</span></span>`</pre>

<ul>
<li>[3º] Finalmente he ejecutado en la consola lo siguiente (lo que ha provocado que las fuentes se vean más grandes en todo mi proyecto y no se porqué):</li>
</ul>

<pre class="cli code">$ php app/console assets:install web --symlink</pre>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @Jorge_Gante
                                </span>

                                <span class="published">
                                    15-nov-13 13:15
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-5">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/38/visor-de-documentos/#respuesta-5" title="Enlace permanente a esta respuesta">#5</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_5_html">
                        <p>@Jorge_Gante, el problema que veo en lo que has hecho es que estás mezclando Assetic en las plantillas y <em>assets</em> normales con el comando <code>assets:install</code>.</p>

<p>En <a href="#respuesta-3">mi respuesta anterior</a> te comentaba que mi consejo es que <strong>no</strong> utilices Assetic en este caso, ya que no se trata de un archivo JavaScript simple, sino que son varios archivos JavaScript que se cargan dinámicamente y llevan asociados CSS e imágenes. Si combinas y comprimes estos archivos JS y CSS con Assetic, puedes encontrarte con problemas.</p>

<p>Prueba a utilizar este código en tu plantilla:</p>

<pre class="twig code">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot;
      href=&quot;<span class="kw6"><span class="br0">&#123;</span><span class="br0">&#123;</span></span> <span class="re0">asset</span><span class="br0">&#40;</span><span class="st0">'bundles/acme/css/viewer.css'</span><span class="br0">&#41;</span> <span class="kw6"><span class="br0">&#125;</span><span class="br0">&#125;</span></span>&quot;/&gt;
&nbsp;
&lt;script src=&quot;<span class="kw6"><span class="br0">&#123;</span><span class="br0">&#123;</span></span> <span class="re0">asset</span><span class="br0">&#40;</span><span class="st0">'bundles/acme/js/viewer.js'</span><span class="br0">&#41;</span> <span class="kw6"><span class="br0">&#125;</span><span class="br0">&#125;</span></span>&quot;
        type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;<span class="kw6"><span class="br0">&#123;</span><span class="br0">&#123;</span></span> <span class="re0">asset</span><span class="br0">&#40;</span><span class="st0">'bundles/acme/js/PluginLoader.js'</span><span class="br0">&#41;</span> <span class="kw6"><span class="br0">&#125;</span><span class="br0">&#125;</span></span>&quot; 
        type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</pre>

<p>Después, carga los <em>assets</em> con el comando <code>asset:install</code>, y si hace falta, borra la caché del proyecto. Si te sigue sin funcionar, mira con las herramientas de depuración del navegador  cuál es la URL de los archivos JavaScript en la plantilla, cuál es la petición HTTP que realiza el navegador para esos archivos y cuál es la respuesta HTTP que recibe de la aplicación.</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    15-nov-13 15:26
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-6">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/38/visor-de-documentos/#respuesta-6" title="Enlace permanente a esta respuesta">#6</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_6_html">
                        <p>Perdona por darte tanto la lata. He hecho lo que has escrito en el mensaje anterior (cambiando <code>acme</code> por <code>pprs</code>, siendo el nombre del <em>bundle</em> <code>PprsBundle</code>) en la plantilla en la que voy a hacer uso del plugin. Además he instalado los assets. El caso es que cuando veo el código fuente de la plantilla y pincho encima del enlace generado por los assets, se me redirige correctamente al código fuente de los ficheros <code>viewer.css</code>, <code>viewer.js</code> y <code>PluginLoader.js</code>, por lo que deduzco que están incluidos correctamente.</p>

<p>El problema viene cuando voy a utilizar <code>viewer.js</code>. En el manual se indica que para incluir cualquier fichero con los formatos especificados en una página, debo escribir lo siguiente en la plantilla (considerando que tengo una carpeta <code>demo</code>, no se en dónde):</p>

<pre class="html5 code"><span class="sc2">&lt;<span class="kw2">iframe</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;viewer&quot;</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;/Viewer.js/#../demo/ohm2013.odp&quot;</span> <span class="kw3">width</span><span class="sy0">=</span><span class="st0">'400'</span> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">'300'</span> allowfullscreen webkitallowfullscreen&gt;</span></pre>

<p>Al hacer esto, la plantilla se visualiza incorrectamente y en la caja del <code>&lt;iframe&gt;</code> me dice que no se encuentra la URL pedida <code>/Viewer.js/</code> con lo cual no se si es problema de que el PDF no está en la carpeta correcta o es que no se invoca al plugin adecuadamente.</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @Jorge_Gante
                                </span>

                                <span class="published">
                                    17-nov-13 04:32
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-7">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/38/visor-de-documentos/#respuesta-7" title="Enlace permanente a esta respuesta">#7</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_7_html">
                        <p>Según la documentación de <code>viewer.js</code>, el atributo <code>src</code> está formado por una primera parte donde se indica la ruta de <code>viewer.js</code> y una segunda parte donde se indica la ruta del archivo que quieres <em>embeber</em>. Además, para que funcione bien tienes que separar las dos partes con <code>#..</code></p>

<p>Así que partiendo del ejemplo original que has puesto:</p>

<pre class="html5 code"><span class="sc2">&lt;<span class="kw2">iframe</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;viewer&quot;</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;/Viewer.js/#../demo/ohm2013.odp&quot;</span> <span class="kw3">width</span><span class="sy0">=</span><span class="st0">'400'</span> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">'300'</span></span>
<span class="sc2">        allowfullscreen webkitallowfullscreen&gt;</span></pre>

<p>Primero tendrías que generar la ruta del archivo <code>viewer.js</code> con la función <code>asset()</code>:</p>

<pre class="html5 code"><span class="sc2">&lt;<span class="kw2">iframe</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;viewer&quot;</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;{{ asset('bundles/acme/js/viewer.js') }}/#../demo/ohm2013.odp&quot;</span></span>
<span class="sc2">        <span class="kw3">width</span><span class="sy0">=</span><span class="st0">'400'</span> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">'300'</span></span>
<span class="sc2">        allowfullscreen webkitallowfullscreen&gt;</span></pre>

<p>Después, tienes que cambiar la ruta del archivo para apuntar al archivo que quieres <em>embeber</em>. En Symfony2 normalmente estos archivos estarían en la carpeta <code>web/uploads/</code>, por lo que quedaría así:</p>

<pre class="html5 code"><span class="sc2">&lt;<span class="kw2">iframe</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;viewer&quot;</span></span>
<span class="sc2">        <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;{{ asset('bundles/acme/js/viewer.js') }}/#../uploads/mi_archivo.odp&quot;</span></span>
<span class="sc2">        <span class="kw3">width</span><span class="sy0">=</span><span class="st0">'400'</span> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">'300'</span></span>
<span class="sc2">        allowfullscreen webkitallowfullscreen&gt;</span></pre>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    17-nov-13 12:12
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-8">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/38/visor-de-documentos/#respuesta-8" title="Enlace permanente a esta respuesta">#8</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_8_html">
                        <p>Bueno, después de muchas pruebas conseguí finalmente instalar el plugin de marras... para llevarme un chasco: se solapan algunas letras y por tanto no se visualiza correctamente.</p>

<p>Al parecer está en pleno desarrollo y tiene aún muchos <a href="https://github.com/mozilla/pdf.js/issues">errores</a> que resolver. De todas formas están puliéndolo y no lo voy a descartar del todo, seguiré haciendo mi página con la esperanza de que lo mejorarán en breve.</p>

<p>Ya para cerrar el asunto, te dejo aquí, paso a paso, como lo he hecho para que me funcione, por si a otras personas le interesa:</p>

<p><strong>1)</strong> Se copian todos los ficheros JS del plugin en la carpeta <code>AcmeBundle/Resources/public/js</code>. Muy importante: a esta carpeta tiene que copiarse el archivo <code>index.html</code> del plugin. Este archivo debe editarse y hay que cambiar esta línea:</p>

<pre class="html5 code"><span class="sc2">&lt;<span class="kw2">link</span> <span class="kw3">rel</span><span class="sy0">=</span><span class="st0">&quot;stylesheet&quot;</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text/css&quot;</span> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">&quot;css/viewer.css&quot;</span> <span class="kw3">media</span><span class="sy0">=</span><span class="st0">&quot;screen&quot;</span><span class="sy0">/</span>&gt;</span></pre>

<p>Por esta otra:</p>

<pre class="html5 code"><span class="sc2">&lt;<span class="kw2">link</span> <span class="kw3">rel</span><span class="sy0">=</span><span class="st0">&quot;stylesheet&quot;</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text/css&quot;</span> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">&quot;../css/viewer.css&quot;</span> <span class="kw3">media</span><span class="sy0">=</span><span class="st0">&quot;screen&quot;</span><span class="sy0">/</span>&gt;</span></pre>

<p><strong>2)</strong> Se copian todos los ficheros CSS del plugin en la carpeta <code>AcmeBundle/Resources/public/css</code>. Se debe editar el archivo <code>viewer.css</code> y cambiar todas las <code>url(images/resto_ruta)</code> por <code>url(../images/resto_ruta)</code>.</p>

<p><strong>3)</strong> La carpeta <code>/images</code> del plugin se mueve, teniendo que quedar en <code>AcmeBundle/Resources/public/images</code>.</p>

<p><strong>4)</strong> Se instalan los assets: <code>php app/console assets:install web</code> (que realmente es lo mismo que si copiáramos las carpetas mencionadas en <code>/web/bundles/acme/</code>)</p>

<p><strong>5)</strong> Y finalmente, en la plantilla en la que quieras embeber el visor de documentos:</p>

<pre class="html5 code"><span class="sc2">&lt;<span class="kw2">iframe</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;viewer&quot;</span> <span class="kw3">width</span><span class="sy0">=</span><span class="st0">&quot;700&quot;</span> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;500&quot;</span></span>
<span class="sc2">    <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;{{ asset('bundles/acme/js/index.html') }}#../../../uploads/nombre_archivo.pdf&quot;</span></span>
<span class="sc2">    allowfullscreen webkitallowfullscreen&gt;&lt;<span class="sy0">/</span><span class="kw2">iframe</span>&gt;</span></pre>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @Jorge_Gante
                                </span>

                                <span class="published">
                                    18-nov-13 01:15
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-9">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/38/visor-de-documentos/#respuesta-9" title="Enlace permanente a esta respuesta">#9</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_9_html">
                        <p>Gracias por compartir la solución completa y lamento que el plugin no tenga todavía la calidad suficiente como para mostrar bien los documentos.</p>

<p>El único punto débil que le veo a tu solución es el punto <strong>2)</strong>. Al cambiar a mano el código fuente del plugin original, el mantenimiento será más difícil porque en cada actualización habrá que volver a cambiar esas URL y buscar si hay nuevas URL que deban cambiarse.</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    18-nov-13 08:38
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-10">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/38/visor-de-documentos/#respuesta-10" title="Enlace permanente a esta respuesta">#10</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_10_html">
                        <p>La <a href="http://stackoverflow.com/questions/20036876/use-viewer-js-plugin-in-symfony2">alternativa</a> a cambiar las rutas es mantener la integridad de las carpetas del plugin en <code>/web/bundles/acme/</code>, extrayendo los ficheros del plugin directamente en esa carpeta.</p>

<p>Un saludo</p>

<p>EDITO: De esta forma me funciona estupendamente la visualización de PDFs.</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @Jorge_Gante
                                </span>

                                <span class="published">
                                    18-nov-13 14:19
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-11">
                                        <i id="ultimo"></i>

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/38/visor-de-documentos/#respuesta-11" title="Enlace permanente a esta respuesta">#11</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_11_html">
                        <p>Hola soy novata en lenguajes y programando. Hasta ahorita he hecho mi página web y corre en mi servidor local, cuenta con datos dinámicos y claro tengo mi base de datos. Los usuarios suben archivos pero mi duda es si las respuestas que han dado arriba me servirían para que en mi página se puedan vizualizar los archivos, ya que suben los archivos y se almacenan en una carpeta pero no se cómo hacer para que sean visibles y tengan la opcion de descargar.</p>

<p>Saludos y gracias</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_6_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @LindaProg
                                </span>

                                <span class="published">
                                    23-ago-14 20:56
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                    
                    <div id="btn-reply">
                <a rel="nofollow" href="/foro/pregunta/38/visor-de-documentos/responder/#tu-respuesta" class="btn btn-lg">
                    Responder pregunta
                </a>
            </div>
            </div>


                </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
