<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>Guardar datos temporales</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                                                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Guardar datos temporales">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-4-2" class="forum forum_discussion"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                    <div class="module module-ad module-ad-responsive module-ad-top">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>


    <div itemscope="" itemtype="http://schema.org/Article">
        <div id="discussion" class="col-sm-9 ">
            <h1 class="title" itemprop="name">Guardar datos temporales</h1>

            <div id="discussion-content" itemprop="description">
                <p>Muy buenas,</p>

<p>Tras seguir el libro de Javier Eguiluz, "Desarrollo ágil Symfony 2.1" estoy desarrollando una página web con Symfony2 para que un <code>ESTUDIANTE</code> (en mayúscula las entidades) pueda resolver un <code>SUPUESTO</code> (= ejercicio). Para lo anterior, el <code>ESTUDIANTE</code> realizará una <code>PRACTICA</code> en la que deberá dar tantas <code>RESPUESTAS</code> (= rellenar un <em>form</em> para cada <code>RESPUESTA</code>) que se irán añadiendo a la <code>PRÁCTICA</code>, o lo que es lo mismo, se irán acumulando objetos de tipo <code>RESPUESTA</code> cada vez que el <code>ESTUDIANTE</code> pulse sobre el botón <em>submit</em> que se relacionarán a un objeto de tipo <code>PRÁCTICA</code> (parecido al típico carrito de la compra).</p>

<p>Cuando se finalice de dar <code>RESPUESTAS</code>, se persistirán todas las <code>RESPUESTAS</code> en su tabla, y lo mismo con el objeto <code>PRÁCTICA</code>. Mi pregunta tiene que ver, por tanto, con guardar datos temporalmente.</p>

<p>Almaceno todos los datos con el propósito de que un <code>PROFESOR</code> pueda ver las prácticas de un <code>ESTUDIANTE</code> y pueda evaluarle. He desechado la idea de ir persistiendo los datos temporales en las tablas, porque crearía mucha "basura" si el <code>ESTUDIANTE</code> cierra sin finalizar su <code>PRACTICA</code>.</p>

<p>Entonces, mis preguntas son:</p>

<p><strong>Primera pregunta</strong> ¿Dónde es mejor que almacene temporalmente las <code>RESPUESTAS</code> y la <code>PRACTICA</code> para persistirlos en la BD cuando el <code>ESTUDIANTE</code> termine pulsando el botón <em>"Finalizar Ejercicio"</em> (que controlaré con AJAX)? Tras pensarlo mucho creo que las mejores opciones son:</p>

<p>1) Almacenarlo en la sesión del <code>ESTUDIANTE</code>: se va machacando el objeto <code>PRACTICA</code> guardado cada vez que se le añade una <code>RESPUESTA</code>. La primera vez que se entra en la plantilla principal se hace algo tal que así:</p>

<pre class="php code"><span class="re0">$peticion</span> <span class="sy0">=</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">getRequest</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$practica</span> <span class="sy0">=</span> <span class="re0">$peticion</span><span class="sy0">-&gt;</span><span class="me1">getSession</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'practica'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">if</span> <span class="br0">&#40;</span><span class="re0">$practica</span> <span class="sy0">==</span> <span class="kw4">null</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="re0">$practica</span> <span class="sy0">=</span> <span class="kw2">new</span> Practica<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">//Se asignan el resto de variables de $practica y...</span>
    <span class="re0">$peticion</span><span class="sy0">-&gt;</span><span class="me1">getSession</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">set</span><span class="br0">&#40;</span><span class="st_h">'practica'</span><span class="sy0">,</span> <span class="re0">$practica</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="co1">// Vista principal de la página</span>
<span class="re0">$respuesta</span> <span class="sy0">=</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">render</span><span class="br0">&#40;</span><span class="st_h">'PprsBundle:Default:principal.html.twig'</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span>
    <span class="st_h">'ejercicio'</span> <span class="sy0">=&gt;</span> <span class="re0">$ejercicio</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>

<p>Y luego, conforme el <code>ESTUDIANTE</code> va completando los campos del formulario y pulsando el botón <em>submit</em>:</p>

<pre class="php code"><span class="co4">/**
 * @Route(&quot;/pprs/principal/ejercicio={numero_ejercicio}&quot;, name=&quot;configcal&quot;)
 * @Template(&quot;PprsBundle:Default:Formquequierovisualizar.html.twig&quot;)
 */</span>
<span class="kw2">public</span> <span class="kw2">function</span> FormquequierovisualizarAction<span class="br0">&#40;</span><span class="re0">$numero_ejercicio</span> <span class="sy0">=</span> <span class="kw4">null</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="re0">$peticion</span> <span class="sy0">=</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">getRequest</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="re0">$respuesta</span> <span class="sy0">=</span> <span class="kw2">new</span> Respuesta<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="coMULTI">/********  Aqui va codigo que no es importante  *********/</span>
&nbsp;
    <span class="re0">$form</span> <span class="sy0">=</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">createForm</span><span class="br0">&#40;</span><span class="kw2">new</span> RespuestaType<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="re0">$respuesta</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span>
        <span class="st_h">'select1'</span> <span class="sy0">=&gt;</span> <span class="re0">$datosDefecto1</span><span class="sy0">,</span>
        <span class="st_h">'select2'</span> <span class="sy0">=&gt;</span> <span class="re0">$datosDefecto2</span><span class="sy0">,</span>
        <span class="st_h">'select3'</span> <span class="sy0">=&gt;</span> <span class="re0">$datosDefecto3</span><span class="sy0">,</span>
        <span class="st_h">'select4'</span> <span class="sy0">=&gt;</span> <span class="re0">$datosDefecto4</span><span class="sy0">,</span>
    <span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// De esta forma compruebo que el submit POST proviene del formulario </span>
    <span class="co1">// calificacion_form</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span><span class="re0">$peticion</span><span class="sy0">-&gt;</span><span class="me1">isMethod</span><span class="br0">&#40;</span><span class="st_h">'POST'</span><span class="br0">&#41;</span>
        <span class="sy0">&amp;&amp;</span> <span class="re0">$peticion</span><span class="sy0">-&gt;</span><span class="me1">request</span><span class="sy0">-&gt;</span><span class="me1">has</span><span class="br0">&#40;</span><span class="st_h">'calificacion_form'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="co1">// Tanto handleRequest como submit no pueden usarse tal y como </span>
        <span class="co1">// indican los tutoriales por ser añadidos a partir de Symfony 2.3</span>
        <span class="re0">$form</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="re0">$peticion</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="kw1">if</span> <span class="br0">&#40;</span><span class="re0">$form</span><span class="sy0">-&gt;</span><span class="me1">isValid</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="co1">// se supone que $respuesta se ha rellenado de los datos </span>
            <span class="co1">// escogidos en el form por el ESTUDIANTE; luego se relaciona</span>
            <span class="co1">// con la practica de la sesión</span>
&nbsp;
            <span class="re0">$sesion</span> <span class="sy0">=</span> <span class="re0">$peticion</span><span class="sy0">-&gt;</span><span class="me1">getSession</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="re0">$practica</span> <span class="sy0">=</span> <span class="re0">$sesion</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'practica'</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="re0">$respuesta</span><span class="sy0">-&gt;</span><span class="me1">setPractica</span><span class="br0">&#40;</span><span class="re0">$practica</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// se &quot;machaca&quot; el valor anterior de $practica</span>
            <span class="re0">$sesion</span><span class="sy0">-&gt;</span><span class="me1">set</span><span class="br0">&#40;</span><span class="st_h">'practica'</span><span class="sy0">,</span> <span class="re0">$practica</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="kw1">return</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">redirect</span><span class="br0">&#40;</span><span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">generateUrl</span><span class="br0">&#40;</span><span class="st_h">'pprs_principal'</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span>
                <span class="st_h">'numero_ejercicio'</span> <span class="sy0">=&gt;</span> <span class="re0">$numero_ejercicio</span>
            <span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="co1">// paso el objeto practica a la vista donde voy a mostrar el usuario </span>
    <span class="co1">// las respuestas que ya ha escogido</span>
    <span class="kw1">return</span> <span class="kw3">array</span><span class="br0">&#40;</span>
        <span class="st_h">'form'</span> <span class="sy0">=&gt;</span> <span class="re0">$form</span><span class="sy0">-&gt;</span><span class="me1">createView</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span>
        <span class="st_h">'practica'</span> <span class="sy0">=&gt;</span> <span class="re0">$practica</span><span class="sy0">,</span>
    <span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>2) Recurriendo al paso de parámetros a través de los <code>Action</code> de los controladores y los <code>views</code> a través de <em>redirect</em> (pasando el objeto <code>PRACTICA</code> modificado cada vez que el usuario añade una nueva <code>RESPUESTA</code>, ¿se puede hacer esto?)</p>

<p><strong>Pregunta 2</strong> ¿Cual es la mejor opción?</p>

<p><strong>Pregunta 3</strong> En caso de que sea mejor la sesión, ¿me pueden poner un ejemplo sencillo de como darle uso? ¿En qué momento debo crear la sesión? ¿Tiene algo que ver con serializar los datos?</p>

<p>Bueno muchas gracias al que se tome el tiempo al menos de leer mi caso. Un saludo</p>

            </div>

                            <div id="discussion-tags">
                    <h3>Etiquetas</h3>
                    <ul class="tags-list">
                                                                <li><a href="/foro/ajax/">ajax</a></li>
                                            <li><a href="/foro/symfony/">symfony</a></li>
                                        </ul>
                </div>
                    </div>

        <div id="discussion-attributes" class="col-sm-3">
            <div class="row">
                <p class="col-xs-3 col-sm-12 avatar">
                    <img width="73" height="73" itemprop="image"
                     src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_bigger.png" />
                </p>

                <p class="col-xs-8 col-sm-12 col-md-12">
                    <span class="login">@Jorge_Gante</span>
                    <meta itemprop="author" content="Jorge Gante" />

                    <span class="published">30 de octubre de 2013</span>
                    <meta itemprop="dateCreated" content="2013-10-30T11:44:36+01:00" />
                </p>

                <p id="discussion-actions" class="col-sm-12">
                                    </p>
            </div>
        </div>
    </div>
    
    <div id="discussion-comments" class="col-sm-12">
                    <h2>Respuestas</h2>

                            <div class="row comment"  id="respuesta-1">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/24/guardar-datos-temporales/#respuesta-1" title="Enlace permanente a esta respuesta">#1</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_1_html">
                        <p>En mi opinión, la primera opción que planteas (guardar los datos en la sesión) es mucho mejor que la otra opción de ir arrastrando los parámetros a través de controladores y plantillas (ni siquiera se si se podría hacer completamente de esa manera).</p>

<p>Los problemas que te puedes encontrar con esta solución son los habituales con las sesiones. Si tu aplicación está instalada en varios servidores o si utilizas aplicaciones como Varnish para mejorar el rendimiento, la gestión de las sesiones no es trivial.</p>

<p>Además, si la aplicación tiene muchos usuarios concurrentes y utilizas las habituales sesiones basadas en archivos, puede que el rendimiento se resienta. En ese caso, podrías optar por un almacenamiento en memoria con Redis o similar y persistir a base de datos sólo cuando el alumno complete la práctica.</p>

<p>Respecto a las otras preguntas que planteas, en Symfony2 <strong>no hace falta iniciar la sesión explícitamente</strong>, ya que el <em>framework</em> siempre la inicia cuando es necesario (por ejemplo al intentar leer o guardar información en la sesión). Esto es cierto a partir de Symfony 2.1, tal y como se puede leer en <a href="https://github.com/symfony/FrameworkBundle/blob/master/CHANGELOG.md#210">su changelog</a>:</p>

<blockquote>
  <p>Removed 'auto_start' configuration parameter from session config. The 
  session will start on demand.</p>
</blockquote>

<p>Por otra parte, en efecto la sesión tiene que ver mucho con la serialización de datos. Aquí de nuevo Symfony2 hace un gran trabajo, ya que la serialización y deserialización de datos es completamente transparente. Puedes guardar en la sesión cualquier objeto complejo sin preocuparte.</p>

<p>Si lees <a href="https://github.com/symfony/symfony/blob/master/src/Symfony/Component/HttpFoundation/Session/Storage/NativeSessionStorage.php#L417">la documentación PHPdoc</a> del método <code>loadSession</code> de la clase <code>NativeSessionStorage</code>, verás lo siguiente:</p>

<blockquote>
  <p>After starting the session, PHP retrieves the session from whatever handlers
  are set to [...] PHP takes the return value from the read() handler, 
  unserializes it and populates $_SESSION with the result automatically.</p>
</blockquote>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    31-oct-13 10:03
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-2">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/24/guardar-datos-temporales/#respuesta-2" title="Enlace permanente a esta respuesta">#2</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_2_html">
                        <p>¡Gracias por contestar Javier!</p>

<p>Me sorprende que Symfony no tenga algún método que haga esto más sencillo, sobre todo para aquellos desarrolladores de comercios electrónicos (aunque parece existir un <em>bundle</em> para ellos).</p>

<p>Lo intentaré con las sesiones (no uso Varnish), si bien en algún foro me comentaron la posibilidad de crear otra entidad "temporal" en la cual guarde todas las RESPUESTAS temporales, y posteriormente mediante alguna rutina automática, limpiar la tabla asociada periódicamente. Si tienes alguna experiencia con ese tipo de rutinas (por ejemplo una que se active cuando el usuario salga de la web), te rogaría que me guiaras de alguna forma porque esta solución puede ser aparentemente más sencilla, menos problemática y más elegante y eficiente.</p>

<p>¡Un saludo crack!</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @Jorge_Gante
                                </span>

                                <span class="published">
                                    31-oct-13 11:27
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-3">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/24/guardar-datos-temporales/#respuesta-3" title="Enlace permanente a esta respuesta">#3</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_3_html">
                        <p>No entiendo cómo puede ser <em>"más sencillo, elegante y menos problemático"</em> crear entidades temporales intermedias que luego se convierten en definitivas y a las que se añaden tareas programadas que van limpiando las entidades temporales que ya no se usan.</p>

<p>Las sesiones se inventaron precisamente para guardar información del usuario entre diferentes peticiones HTTP, así que parece una solución adecuada para el caso que planteas. Evidentemente, para encontrar la solución ideal habría que valorar otras cosas, como por ejemplo el número de usuarios concurrentes, la complejidad de las prácticas (el número de ejercicios que contiene cada una) y las veces que las prácticas se dejan sin completar.</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    31-oct-13 11:51
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-4">
                                        <i id="ultimo"></i>

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/24/guardar-datos-temporales/#respuesta-4" title="Enlace permanente a esta respuesta">#4</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_4_html">
                        <p>Voy a intentarlo por ahí entonces, gracias por tu ayuda, has sido de mucha ayuda en estas dudas.</p>

<p>Un saludo Javier</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @Jorge_Gante
                                </span>

                                <span class="published">
                                    31-oct-13 15:56
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                    
                    <div id="btn-reply">
                <a rel="nofollow" href="/foro/pregunta/24/guardar-datos-temporales/responder/#tu-respuesta" class="btn btn-lg">
                    Responder pregunta
                </a>
            </div>
            </div>


                </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
