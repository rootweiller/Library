<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>Problemas al personalizar la página de error 404 con Symfony</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                                                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Problemas al personalizar la página de error 404 con Symfony">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-4-2" class="forum forum_discussion"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                    <div class="module module-ad module-ad-responsive module-ad-top">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>


    <div itemscope="" itemtype="http://schema.org/Article">
        <div id="discussion" class="col-sm-9 ">
            <h1 class="title" itemprop="name">Problemas al personalizar la página de error 404 con Symfony</h1>

            <div id="discussion-content" itemprop="description">
                <p>Buenas,</p>

<p>Estoy tratando de personalizar la página de error 404 tal y como explican en la <a href="http://symfony.com/doc/current/cookbook/controller/error_pages.html">página oficial de symfony</a> y he creado en el directorio <code>app/Resources/TwigBundle/views/Exception/</code> de mi proyecto Symfony2 la plantilla de error <code>error404.html.twig</code>.</p>

<p>Parece que esto no es suficiente y al activarse <code>createNotFoundException()</code> sigue mostrando la misma página de error predeterminada. ¿En qué puedo estar fallando? Incluso he cambiado la función <code>is_granted()</code> por <code>{% if app.user and is_granted('...') %}</code> de la plantilla <code>frontend.html.twig</code> de la que heredaba la página de error tal y como se sugiere en el enlace anterior y he limpiado la caché pero nada.</p>

            </div>

                            <div id="discussion-tags">
                    <h3>Etiquetas</h3>
                    <ul class="tags-list">
                                                                <li><a href="/foro/symfony/">symfony</a></li>
                                            <li><a href="/foro/twig/">twig</a></li>
                                        </ul>
                </div>
                    </div>

        <div id="discussion-attributes" class="col-sm-3">
            <div class="row">
                <p class="col-xs-3 col-sm-12 avatar">
                    <img width="73" height="73" itemprop="image"
                     src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_bigger.png" />
                </p>

                <p class="col-xs-8 col-sm-12 col-md-12">
                    <span class="login">@Jorge_Gante</span>
                    <meta itemprop="author" content="Jorge Gante" />

                    <span class="published">22 de mayo de 2014</span>
                    <meta itemprop="dateCreated" content="2014-05-22T22:54:35+02:00" />
                </p>

                <p id="discussion-actions" class="col-sm-12">
                                    </p>
            </div>
        </div>
    </div>
    
    <div id="discussion-comments" class="col-sm-12">
                    <h2>Respuestas</h2>

                            <div class="row comment"  id="respuesta-1">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/141/problemas-al-personalizar-la-pagina-de-error-404-con-symfony/#respuesta-1" title="Enlace permanente a esta respuesta">#1</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_1_html">
                        <p>Aunque ya supongo que lo sabes, sólo te recuerdo que las páginas de error cambian solamente en el entorno de producción. En desarrollo sigues viendo las mismas páginas de error por defecto.</p>

<p>Al margen de esto, asegúrate de que el nombre de la plantilla y de los directorios es exactamente el siguiente (cualquier error en el nombre o localización de la plantilla hará que no se utilice):</p>

<pre class="code code">app/Resources/TwigBundle/views/Exception/error404.html.twig</pre>

<p>También lo habrás tenido en cuenta, pero asegúrate de que la aplicación está lanzando realmente el error con código 404. y no cualquier otro error del que no seas consciente. Para eso puedes mirar los logs en <code>app/logs/prod.log</code>.</p>

<p>Cuando se me ocurran más posibles causas o nos des algo más de información sobre el error, te indico más posibles soluciones.</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    22-may-14 23:21
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-2">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/141/problemas-al-personalizar-la-pagina-de-error-404-con-symfony/#respuesta-2" title="Enlace permanente a esta respuesta">#2</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_2_html">
                        <p>Ya había leído al respecto que debía cambiar al entorno de producción para ver estas páginas de error. Para ello, cambié en el <code>web/app.php</code> de mi proyecto, el valor de <code>$kernel = new AppKernel('prod', false);</code> a <code>$kernel = new AppKernel('prod', true);</code> aunque no se si esto es lo único que tengo que hacer para que esté en el entorno de producción.</p>

<p>Lo que conseguí con ello es que cuando accedo a <code>http://acme.local/app.php/</code> en vez de a <code>http://acme.local/app_dev.php/</code> se muestre sólo el texto sin estilos ni imágenes ni nada. Además accedo al lugar donde se produce el error 404 y casualmente sigue mostrándose la misma página de error por defecto con la imagen del fantasma del pac-man diciendo "Exception detected" y el subtítulo "404 Not Found - NotFoundHttpException".</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @Jorge_Gante
                                </span>

                                <span class="published">
                                    23-may-14 11:26
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-3">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/141/problemas-al-personalizar-la-pagina-de-error-404-con-symfony/#respuesta-3" title="Enlace permanente a esta respuesta">#3</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_3_html">
                        <p>¿Alguna idea de por qué no aparece correctamente (sin css) mi web en entorno de producción ni las páginas de error? ¿Qué pasos imprescindibles y mínimos debo seguir para "lanzar" mi app al público?</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @Jorge_Gante
                                </span>

                                <span class="published">
                                    26-may-14 17:40
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-4">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/141/problemas-al-personalizar-la-pagina-de-error-404-con-symfony/#respuesta-4" title="Enlace permanente a esta respuesta">#4</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_4_html">
                        <p>Respecto a esto que comentas:</p>

<blockquote>
  <p>Para ello, cambié en el web/app.php de mi proyecto, el valor de
  $kernel = new AppKernel('prod', false); por
  $kernel = new AppKernel('prod', true);</p>
</blockquote>

<p>Me temo que no sólo no es necesario que hagas eso, sino que hacerlo es un error bastante importante. No deberías cambiar nunca el valor <code>false</code> del segundo parámetro del controlador frontal de producción. Este parámetro activa el modo debug y eso es algo que nunca deberías activar en producción.</p>

<p>Respecto a por qué no se te ven los estilos en producción, seguramente es porque no has volcado los estilos al directorio público <code>web/</code> ejecutando el siguiente comando:</p>

<pre class="cli code">$ php app/console assets:install</pre>

<p>Si usas Assetic, ejecuta en su lugar lo siguiente:</p>

<pre class="cli code">$ php app/console assetic:dump --env=prod</pre>

<p>Por último, respecto al problema original de que no se te muestran las páginas de error personalizadas, sin ver el código no se me ocurre qué puede estar pasando. ¿Has probado a borrar la caché de la aplicación con el comando <code>php app/console cache:clear --env=prod</code>?</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    26-may-14 18:00
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-5">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/141/problemas-al-personalizar-la-pagina-de-error-404-con-symfony/#respuesta-5" title="Enlace permanente a esta respuesta">#5</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_5_html">
                        <p>Entonces entiendo que simplemente accediendo a <code>http://acme.local/app.dev</code> es suficiente para encontrarnos en el entorno de producción. Ahora lo que ocurre es que me sale una página en blanco al provocar que se lance la excepción, por lo que he ido al <code>prod.log</code> y me sale lo siguiente:</p>

<pre class="code code">request.ERROR: Uncaught PHP Exception
Symfony\Component\HttpKernel\Exception\NotFoundHttpException:
&quot;No se ha encontrado ningún supuesto para mostrar.
Contacte con su profesor. Nº SUP:18/13&quot; at /home/makelele/NetBeansProjects
/wars/vendor/symfony/symfony/src/Symfony/Bundle/FrameworkBundle/Controller
/Controller.php line 149 [] []
&nbsp;
request.ERROR: Exception thrown when handling an exception
(Twig_Error_Runtime: An exception has been thrown during the rendering
of a template (&quot;Unable to generate a URL for the named route &quot;&quot; as
such route does not exist.&quot;) in &quot;::frontend.html.twig&quot; at line 33.) [] []</pre>

<p>El primero es el error de tipo <code>NotFoundHttpException</code> y el segundo es el error de Twig al darse cuenta de que le falta un parámetro para renderizar la plantilla.</p>

<p>¿Puede ser un tema de permisos?</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @Jorge_Gante
                                </span>

                                <span class="published">
                                    26-may-14 18:36
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-6">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/141/problemas-al-personalizar-la-pagina-de-error-404-con-symfony/#respuesta-6" title="Enlace permanente a esta respuesta">#6</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_6_html">
                        <p>Ya sé donde está el error. Al parecer existe algún problema con las siguientes condiciones en mi <code>frontend.html.twig</code>:</p>

<pre class="twig code"><span class="kw6"><span class="br0">&#123;</span>%</span> <span class="kw1">if</span> <span class="br0">&#40;</span>path<span class="br0">&#40;</span>app<span class="re1">.request</span><span class="re1">.attributes</span><span class="re1">.get</span><span class="br0">&#40;</span><span class="st0">'_route'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="re0">path</span><span class="br0">&#40;</span><span class="st0">'login'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="kw5">or</span> 
      <span class="br0">&#40;</span>path<span class="br0">&#40;</span>app<span class="re1">.request</span><span class="re1">.attributes</span><span class="re1">.get</span><span class="br0">&#40;</span><span class="st0">'_route'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="re0">path</span><span class="br0">&#40;</span><span class="st0">'que_eswars'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="kw5">or</span>
      <span class="br0">&#40;</span>path<span class="br0">&#40;</span>app<span class="re1">.request</span><span class="re1">.attributes</span><span class="re1">.get</span><span class="br0">&#40;</span><span class="st0">'_route'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="re0">path</span><span class="br0">&#40;</span><span class="st0">'requisitos_registro'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="kw5">or</span>
      <span class="br0">&#40;</span>path<span class="br0">&#40;</span>app<span class="re1">.request</span><span class="re1">.attributes</span><span class="re1">.get</span><span class="br0">&#40;</span><span class="st0">'_route'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="re0">path</span><span class="br0">&#40;</span><span class="st0">'pfc_wars'</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
<span class="kw6">%<span class="br0">&#125;</span></span></pre>

<p>Si elimino estas condiciones se me muestra la página de error, ahora lo que tendré que averiguar es como encontrar unas instrucciones equivalentes para comprobar la ruta actual.</p>

<p>Un saludo</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @Jorge_Gante
                                </span>

                                <span class="published">
                                    26-may-14 19:45
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-7">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/141/problemas-al-personalizar-la-pagina-de-error-404-con-symfony/#respuesta-7" title="Enlace permanente a esta respuesta">#7</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_7_html">
                        <p>La condición <code>{% if %}</code> que muestras parece un poco excesiva. En primer lugar, sería más eficiente definir el código de esta manera:</p>

<pre class="twig code"><span class="kw6"><span class="br0">&#123;</span>%</span> <span class="kw1">if</span> <span class="re0">app</span><span class="re1">.request</span><span class="re1">.attributes</span><span class="re1">.get</span><span class="br0">&#40;</span><span class="st0">'_route'</span><span class="br0">&#41;</span> <span class="kw5">in</span>
      <span class="br0">&#91;</span><span class="st0">'login'</span>, <span class="st0">'que_eswars'</span>, <span class="st0">'requisitos_registro'</span>, <span class="st0">'pfc_wars'</span><span class="br0">&#93;</span> <span class="kw6">%<span class="br0">&#125;</span></span>
&nbsp;
  ...
&nbsp;
<span class="kw6"><span class="br0">&#123;</span>%</span> <span class="kw1">endif</span> <span class="kw6">%<span class="br0">&#125;</span></span></pre>

<p>En segundo lugar, parece una comprobación demasiado compleja como para añadirla en las plantillas. Quizás se podría pasar desde el controlador a la plantilla una variable especial cuando se cumplan determinadas condiciones. Así el código se simplificaría mucho:</p>

<pre class="twig code"><span class="kw6"><span class="br0">&#123;</span>%</span> <span class="kw1">if</span> <span class="re0">variableEspecial</span><span class="sy0">|</span><span class="kw2">default</span><span class="br0">&#40;</span>false<span class="br0">&#41;</span> <span class="kw6">%<span class="br0">&#125;</span></span>
&nbsp;
  ...
&nbsp;
<span class="kw6"><span class="br0">&#123;</span>%</span> <span class="kw1">endif</span> <span class="kw6">%<span class="br0">&#125;</span></span></pre>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    26-may-14 19:59
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-8">
                                        

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/141/problemas-al-personalizar-la-pagina-de-error-404-con-symfony/#respuesta-8" title="Enlace permanente a esta respuesta">#8</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_8_html">
                        <p>Gracias por el consejo, lo haré así porque es mucho más claro. El problema está concretamente en la siguiente línea, aunque aún no sé el motivo:</p>

<pre class="html5 code">path(app.request.attributes.get('_route'))</pre>

<p>Escribir este método en el <code>frontend.html.twig</code> me lanza un error crítico en Twig con el texto de que no existe la ruta "", cuando se lanza el error 404.</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://abs.twimg.com/sticky/default_profile_images/default_profile_1_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @Jorge_Gante
                                </span>

                                <span class="published">
                                    26-may-14 20:56
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                            <div class="row comment"  id="respuesta-9">
                                        <i id="ultimo"></i>

                    <div class="col-sm-1 col-md-1 permalink">
                        <a href="/foro/pregunta/141/problemas-al-personalizar-la-pagina-de-error-404-con-symfony/#respuesta-9" title="Enlace permanente a esta respuesta">#9</a>
                    </div>

                    <div class="col-xs-12 col-sm-11 col-md-8 content" id="comment_9_html">
                        <p>El error se produce porque el valor <code>app.request.attributes.get('_route')</code> es una cadena vacía y entonces la función <code>path()</code> no puede generar la URL porque no le estás pasando ninguna ruta.</p>

<p>Puedes probar a mostrar los atributos de la petición con <code>{{ dump(app.request.attributes) }}</code> o utilizando el excelente <a href="https://github.com/raulfraile/LadybugBundle">bundle de LadyBug</a>.</p>

                    </div>

                    <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-3 col-md-offset-0 comment-attributes">
                        <div class="row">
                            <p class="col-xs-2 col-sm-1 col-md-1 avatar">
                                <img width="48" height="48" src="http://pbs.twimg.com/profile_images/1616936371/avatar_normal.png" />
                            </p>

                            <p class="col-xs-9 col-sm-9 col-md-10">
                                <span class="login">
                                    @javiereguiluz
                                </span>

                                <span class="published">
                                    26-may-14 21:57
                                </span>
                            </p>

                            <p class="col-sm-4 col-md-12 comment-actions">
                                                            </p>
                        </div>
                    </div>
                </div>
                    
                    <div id="btn-reply">
                <a rel="nofollow" href="/foro/pregunta/141/problemas-al-personalizar-la-pagina-de-error-404-con-symfony/responder/#tu-respuesta" class="btn btn-lg">
                    Responder pregunta
                </a>
            </div>
            </div>


                </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
