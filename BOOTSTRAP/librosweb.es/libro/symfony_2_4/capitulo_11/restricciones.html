<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>11.3. Restricciones (Symfony 2.4, el libro oficial)</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                            
        <link rel="canonical" href="/libro/symfony_2_x/capitulo_11/restricciones.html"/>
                                    <link rel="prev" href="../capitulo_11/configuracion.html" />
                    <link rel="next" href="../capitulo_11/traduciendo_mensajes_de_restriccion.html" />
                <link rel="start" href="/libro/symfony_2_4/" />
                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="11.3. Restricciones (Symfony 2.4, el libro oficial)">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-1-2" class="books book_page symfony_2_4"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                                    <div id="main" class="col-sm-9">
                        
    
    <div id="book-toc-anchor" class="well visible-xs">
        <a href="#indice">
            <i class="fa fa-book"></i> Ver índice de contenidos del libro
        </a>
    </div>

    <div id="breadcrumb" class="hidden-xs">
        <ol>
            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libros/" itemprop="url">
                    <span itemprop="title">Libros</span>
                </a>
            </li>

            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/symfony_2_4/" itemprop="url">
                    <span itemprop="title">Symfony 2.4, el libro oficial</span>
                </a>
            </li>

                    <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/symfony_2_4/capitulo_11.html" itemprop="url">
                    <span itemprop="title">Capítulo 11. Validación</span>
                </a>
            </li>
        
            <li class="active">
                <span>11.3. Restricciones</span>
            </li>
        </ol>
    </div>

    <h1 id="restricciones" class="title">
        <span>11.3.</span> Restricciones
    </h1>

    

<p>El servicio <code>validator</code> está diseñado para validar objetos en base a restricciones o reglas (en inglés, <em>constraints</em>). Para validar un objeto, basta con asignar una o más restricciones a tu clase y luego pasarla al servicio <code>validator</code>.</p>

<p>Internamente, una restricción es un objeto PHP que asegura que se cumple una determinada condición. En la vida real, una restricción podría sencilla podría ser por ejemplo: <em>"El pastel no se debe quemar"</em>. En Symfony2, las restricciones son similares: son <em>aserciones</em> de que una condición se cumple. Dado un valor, una restricción te dirá si el valor cumple las condiciones de tu restricción o no.</p>

<h3 id="restricciones_predefinidas">11.3.1. Restricciones predefinidas</h3>

<p>Symfony2 incluye muchas de las restricciones más comunes en las aplicaciones web.</p>

<h4 id="restricciones_basicas">11.3.1.1. Restricciones básicas</h4>

<ul>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/NotBlank.html">NotBlank</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Blank.html">Blank</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/NotNull.html">NotNull</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Null.html">Null</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/True.html">True</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/False.html">False</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Type.html">Type</a></li>
</ul>

<h4 id="restricciones_para_cadenas_de_texto">11.3.1.2. Restricciones para cadenas de texto</h4>

<ul>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Email.html">Email</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/MinLength.html">MinLength</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/MaxLength.html">MaxLength</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Url.html">Url</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Regex.html">Regex</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Ip.html">Ip</a></li>
</ul>

<h4 id="restricciones_para_numeros">11.3.1.3. Restricciones para números</h4>

<ul>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Max.html">Max</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Min.html">Min</a></li>
</ul>

<h4 id="restricciones_para_fechas">11.3.1.4. Restricciones para fechas</h4>

<ul>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Date.html">Date</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/DateTime.html">DateTime</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Time.html">Time</a></li>
</ul>

<h4 id="restricciones_para_colecciones">11.3.1.5. Restricciones para colecciones</h4>

<ul>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Choice.html">Choice</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Collection.html">Collection</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/UniqueEntity.html">UniqueEntity</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Language.html">Language</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Locale.html">Locale</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Country.html">Country</a></li>
</ul>

<h4 id="restricciones_para_archivos">11.3.1.6. Restricciones para archivos</h4>

<ul>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/File.html">File</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Image.html">Image</a></li>
</ul>

<h4 id="otras_restricciones">11.3.1.7. Otras restricciones</h4>

<ul>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Callback.html">Callback</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/All.html">All</a></li>
<li><a href="http://symfony.com/doc/2.0/reference/constraints/Valid.html">Valid</a></li>
</ul>

<p>También puedes crear tus propias restricciones personalizadas.</p>

<h3 id="configurando_las_restricciones">11.3.2. Configurando las restricciones</h3>

<p>Algunas restricciones, como <code>NotBlank</code>, son simples, mientras que otras, como la restricción <code>Choice</code>, tienen varias opciones de configuración disponibles. Supongamos que la clase <code>Autor</code> de los ejemplos anteriores tiene ahora otra propiedad, <code>género</code> que se puede configurar como <em>male</em> (<em>masculino</em>) o <em>female</em> (<em>femenino</em>):</p>

<div class="tabbable">
  <ul class="nav nav-tabs"><li id="select_tab_1_53816" class="active"><a data-toggle="tab active" href="#select_tab_1_53816" onclick="document.getElementById('select_tab_1_53816').className='active'; document.getElementById('tab_1_53816').className='tab-pane active';document.getElementById('select_tab_2_53816').className='';  document.getElementById('tab_2_53816').className='tab-pane';document.getElementById('select_tab_3_53816').className='';  document.getElementById('tab_3_53816').className='tab-pane';document.getElementById('select_tab_4_53816').className='';  document.getElementById('tab_4_53816').className='tab-pane';return false;">YAML</a></li><li id="select_tab_2_53816"><a data-toggle="tab" href="#select_tab_2_53816" onclick="document.getElementById('select_tab_1_53816').className='';  document.getElementById('tab_1_53816').className='tab-pane';document.getElementById('select_tab_2_53816').className='active'; document.getElementById('tab_2_53816').className='tab-pane active';document.getElementById('select_tab_3_53816').className='';  document.getElementById('tab_3_53816').className='tab-pane';document.getElementById('select_tab_4_53816').className='';  document.getElementById('tab_4_53816').className='tab-pane';return false;">PHP (anotaciones)</a></li><li id="select_tab_3_53816"><a data-toggle="tab" href="#select_tab_3_53816" onclick="document.getElementById('select_tab_1_53816').className='';  document.getElementById('tab_1_53816').className='tab-pane';document.getElementById('select_tab_2_53816').className='';  document.getElementById('tab_2_53816').className='tab-pane';document.getElementById('select_tab_3_53816').className='active'; document.getElementById('tab_3_53816').className='tab-pane active';document.getElementById('select_tab_4_53816').className='';  document.getElementById('tab_4_53816').className='tab-pane';return false;">XML</a></li><li id="select_tab_4_53816"><a data-toggle="tab" href="#select_tab_4_53816" onclick="document.getElementById('select_tab_1_53816').className='';  document.getElementById('tab_1_53816').className='tab-pane';document.getElementById('select_tab_2_53816').className='';  document.getElementById('tab_2_53816').className='tab-pane';document.getElementById('select_tab_3_53816').className='';  document.getElementById('tab_3_53816').className='tab-pane';document.getElementById('select_tab_4_53816').className='active'; document.getElementById('tab_4_53816').className='tab-pane active';return false;">PHP</a></li></ul>
  <div class="tab-content">
    <div class="tab-pane active" id="tab_1_53816">
<div class="code yaml">
<pre class="yaml"><span class="co1"># src/Acme/BlogBundle/Resources/config/validation.yml</span><span class="co4">
Acme\BlogBundle\Entity\Author</span>:<span class="co4">
    properties</span>:<span class="co4">
        gender</span>:<span class="co3">
            - Choice</span><span class="sy2">: </span><span class="br0">&#123;</span> choices<span class="sy2">: </span><span class="br0">&#91;</span>male, female<span class="br0">&#93;</span>, message<span class="sy2">: </span>Choose a valid gender. <span class="br0">&#125;</span></pre>
</div>
</div>


<div class="tab-pane" id="tab_2_53816">
<div class="code php">
<pre class="php"><span class="co1">// src/Acme/BlogBundle/Entity/Author.php</span>
<span class="kw2">use</span> Symfony\Component\Validator\Constraints <span class="kw1">as</span> <span class="kw3">Assert</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">class</span> Autor
<span class="br0">&#123;</span>
    <span class="co4">/**
     * @Assert\Choice(
     *     choices = { &quot;male&quot;, &quot;female&quot; },
     *     message = &quot;Choose a valid gender.&quot;
     * )
     */</span>
    <span class="kw2">public</span> <span class="re0">$gender</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
</div>
</div>


<div class="tab-pane" id="tab_3_53816">
<div class="code xml">
<pre class="xml"><span class="sc-1">&lt;!-- src/Acme/BlogBundle/Resources/config/validation.xml --&gt;</span>
<span class="sc3"><span class="re1">&lt;?xml</span> <span class="re0">version</span>=<span class="st0">&quot;1.0&quot;</span> <span class="re0">encoding</span>=<span class="st0">&quot;UTF-8&quot;</span> <span class="re2">?&gt;</span></span>
<span class="sc3"><span class="re1">&lt;constraint-mapping</span> <span class="re0">xmlns</span>=<span class="st0">&quot;http://symfony.com/schema/dic/constraint-mapping&quot;</span></span>
<span class="sc3">    <span class="re0">xmlns:xsi</span>=<span class="st0">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="sc3">    <span class="re0">xsi:schemaLocation</span>=<span class="st0">&quot;http://symfony.com/schema/dic/constraint-mapping http://symfony.com/schema/dic/constraint-mapping/constraint-mapping-1.0.xsd&quot;</span><span class="re2">&gt;</span></span>
&nbsp;
    <span class="sc3"><span class="re1">&lt;class</span> <span class="re0">name</span>=<span class="st0">&quot;Acme\BlogBundle\Entity\Author&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;property</span> <span class="re0">name</span>=<span class="st0">&quot;gender&quot;</span><span class="re2">&gt;</span></span>
            <span class="sc3"><span class="re1">&lt;constraint</span> <span class="re0">name</span>=<span class="st0">&quot;Choice&quot;</span><span class="re2">&gt;</span></span>
                <span class="sc3"><span class="re1">&lt;option</span> <span class="re0">name</span>=<span class="st0">&quot;choices&quot;</span><span class="re2">&gt;</span></span>
                    <span class="sc3"><span class="re1">&lt;value<span class="re2">&gt;</span></span></span>male<span class="sc3"><span class="re1">&lt;/value<span class="re2">&gt;</span></span></span>
                    <span class="sc3"><span class="re1">&lt;value<span class="re2">&gt;</span></span></span>female<span class="sc3"><span class="re1">&lt;/value<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;/option<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;option</span> <span class="re0">name</span>=<span class="st0">&quot;message&quot;</span><span class="re2">&gt;</span></span>Choose a valid gender.<span class="sc3"><span class="re1">&lt;/option<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;/constraint<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;/property<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/class<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/constraint-mapping<span class="re2">&gt;</span></span></span></pre>
</div>
</div>


<div class="tab-pane" id="tab_4_53816">
<div class="code php">
<pre class="php"><span class="co1">// src/Acme/BlogBundle/Entity/Author.php</span>
&nbsp;
<span class="co1">// ...</span>
<span class="kw2">use</span> Symfony\Component\Validator\Mapping\ClassMetadata<span class="sy0">;</span>
<span class="kw2">use</span> Symfony\Component\Validator\Constraints\Choice<span class="sy0">;</span>
&nbsp;
<span class="kw2">class</span> Autor
<span class="br0">&#123;</span>
    <span class="kw2">public</span> <span class="re0">$gender</span><span class="sy0">;</span>
&nbsp;
    <span class="kw2">public</span> static <span class="kw2">function</span> loadValidatorMetadata<span class="br0">&#40;</span>ClassMetadata <span class="re0">$metadata</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="re0">$metadata</span><span class="sy0">-&gt;</span><span class="me1">addPropertyConstraint</span><span class="br0">&#40;</span><span class="st_h">'gender'</span><span class="sy0">,</span> <span class="kw2">new</span> Choice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
            <span class="st_h">'choices'</span> <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'male'</span><span class="sy0">,</span> <span class="st_h">'female'</span><span class="br0">&#41;</span><span class="sy0">,</span>
            <span class="st_h">'message'</span> <span class="sy0">=&gt;</span> <span class="st_h">'Choose a valid gender.'</span><span class="sy0">,</span>
        <span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
</div>
</div>

  </div>
</div>

<p>Las opciones de configuración de una restricción siempre se pueden pasar en forma de array. No obstante, algunas restricciones también te permiten pasar el valor de una opción predeterminada en vez del array. En el caso de la restricción <code>Choice</code>, las <code>opciones</code> se pueden especificar de esta manera:</p>

<div class="tabbable">
  <ul class="nav nav-tabs"><li id="select_tab_1_53966" class="active"><a data-toggle="tab active" href="#select_tab_1_53966" onclick="document.getElementById('select_tab_1_53966').className='active'; document.getElementById('tab_1_53966').className='tab-pane active';document.getElementById('select_tab_2_53966').className='';  document.getElementById('tab_2_53966').className='tab-pane';document.getElementById('select_tab_3_53966').className='';  document.getElementById('tab_3_53966').className='tab-pane';document.getElementById('select_tab_4_53966').className='';  document.getElementById('tab_4_53966').className='tab-pane';return false;">YAML</a></li><li id="select_tab_2_53966"><a data-toggle="tab" href="#select_tab_2_53966" onclick="document.getElementById('select_tab_1_53966').className='';  document.getElementById('tab_1_53966').className='tab-pane';document.getElementById('select_tab_2_53966').className='active'; document.getElementById('tab_2_53966').className='tab-pane active';document.getElementById('select_tab_3_53966').className='';  document.getElementById('tab_3_53966').className='tab-pane';document.getElementById('select_tab_4_53966').className='';  document.getElementById('tab_4_53966').className='tab-pane';return false;">PHP (anotaciones)</a></li><li id="select_tab_3_53966"><a data-toggle="tab" href="#select_tab_3_53966" onclick="document.getElementById('select_tab_1_53966').className='';  document.getElementById('tab_1_53966').className='tab-pane';document.getElementById('select_tab_2_53966').className='';  document.getElementById('tab_2_53966').className='tab-pane';document.getElementById('select_tab_3_53966').className='active'; document.getElementById('tab_3_53966').className='tab-pane active';document.getElementById('select_tab_4_53966').className='';  document.getElementById('tab_4_53966').className='tab-pane';return false;">XML</a></li><li id="select_tab_4_53966"><a data-toggle="tab" href="#select_tab_4_53966" onclick="document.getElementById('select_tab_1_53966').className='';  document.getElementById('tab_1_53966').className='tab-pane';document.getElementById('select_tab_2_53966').className='';  document.getElementById('tab_2_53966').className='tab-pane';document.getElementById('select_tab_3_53966').className='';  document.getElementById('tab_3_53966').className='tab-pane';document.getElementById('select_tab_4_53966').className='active'; document.getElementById('tab_4_53966').className='tab-pane active';return false;">PHP</a></li></ul>
  <div class="tab-content">
    <div class="tab-pane active" id="tab_1_53966">
<div class="code yaml">
<pre class="yaml"><span class="co1"># src/Acme/BlogBundle/Resources/config/validation.yml</span><span class="co4">
Acme\BlogBundle\Entity\Author</span>:<span class="co4">
    properties</span>:<span class="co4">
        gender</span>:<span class="co3">
            - Choice</span><span class="sy2">: </span><span class="br0">&#91;</span>male, female<span class="br0">&#93;</span></pre>
</div>
</div>


<div class="tab-pane" id="tab_2_53966">
<div class="code php">
<pre class="php"><span class="co1">// src/Acme/BlogBundle/Entity/Author.php</span>
&nbsp;
<span class="co1">// ...</span>
<span class="kw2">use</span> Symfony\Component\Validator\Constraints <span class="kw1">as</span> <span class="kw3">Assert</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">class</span> Autor
<span class="br0">&#123;</span>
    <span class="co4">/**
     * @Assert\Choice({&quot;male&quot;, &quot;female&quot;})
     */</span>
    <span class="kw2">protected</span> <span class="re0">$gender</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
</div>
</div>


<div class="tab-pane" id="tab_3_53966">
<div class="code xml">
<pre class="xml"><span class="sc-1">&lt;!-- src/Acme/BlogBundle/Resources/config/validation.xml --&gt;</span>
<span class="sc3"><span class="re1">&lt;?xml</span> <span class="re0">version</span>=<span class="st0">&quot;1.0&quot;</span> <span class="re0">encoding</span>=<span class="st0">&quot;UTF-8&quot;</span> <span class="re2">?&gt;</span></span>
<span class="sc3"><span class="re1">&lt;constraint-mapping</span> <span class="re0">xmlns</span>=<span class="st0">&quot;http://symfony.com/schema/dic/constraint-mapping&quot;</span></span>
<span class="sc3">    <span class="re0">xmlns:xsi</span>=<span class="st0">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="sc3">    <span class="re0">xsi:schemaLocation</span>=<span class="st0">&quot;http://symfony.com/schema/dic/constraint-mapping http://symfony.com/schema/dic/constraint-mapping/constraint-mapping-1.0.xsd&quot;</span><span class="re2">&gt;</span></span>
&nbsp;
    <span class="sc3"><span class="re1">&lt;class</span> <span class="re0">name</span>=<span class="st0">&quot;Acme\BlogBundle\Entity\Author&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;property</span> <span class="re0">name</span>=<span class="st0">&quot;gender&quot;</span><span class="re2">&gt;</span></span>
            <span class="sc3"><span class="re1">&lt;constraint</span> <span class="re0">name</span>=<span class="st0">&quot;Choice&quot;</span><span class="re2">&gt;</span></span>
                <span class="sc3"><span class="re1">&lt;value<span class="re2">&gt;</span></span></span>male<span class="sc3"><span class="re1">&lt;/value<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;value<span class="re2">&gt;</span></span></span>female<span class="sc3"><span class="re1">&lt;/value<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;/constraint<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;/property<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/class<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/constraint-mapping<span class="re2">&gt;</span></span></span></pre>
</div>
</div>


<div class="tab-pane" id="tab_4_53966">
<div class="code php">
<pre class="php"><span class="co1">// src/Acme/BlogBundle/Entity/Author.php</span>
&nbsp;
<span class="co1">// ...</span>
<span class="kw2">use</span> Symfony\Component\Validator\Mapping\ClassMetadata<span class="sy0">;</span>
<span class="kw2">use</span> Symfony\Component\Validator\Constraints\Choice<span class="sy0">;</span>
&nbsp;
<span class="kw2">class</span> Autor
<span class="br0">&#123;</span>
    <span class="kw2">protected</span> <span class="re0">$gender</span><span class="sy0">;</span>
&nbsp;
    <span class="kw2">public</span> static <span class="kw2">function</span> loadValidatorMetadata<span class="br0">&#40;</span>ClassMetadata <span class="re0">$metadata</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="re0">$metadata</span><span class="sy0">-&gt;</span><span class="me1">addPropertyConstraint</span><span class="br0">&#40;</span>
            <span class="st_h">'gender'</span><span class="sy0">,</span>
            <span class="kw2">new</span> Choice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'male'</span><span class="sy0">,</span> <span class="st_h">'female'</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
        <span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
</div>
</div>

  </div>
</div>

<p>Este comportamiento se ha pensado para hacer que la configuración de las opciones más comunes de una restricción sea más breve y rápida.</p>

<p>Si alguna vez dudas de cómo especificar una opción, puedes consultar la API de validación de Symfony2 o bien puedes ir a lo seguro y pasar siempre las opciones en un array (es decir, la primera forma que se explicó en la sección anterior).</p>



    
    <div id="book-pager">
        <ul class="row pager">
            <li class="col-xs-6 previous ">
                                    <a href="../capitulo_11/configuracion.html">
                        <strong>&larr; Anterior</strong>
                        <small>11.2.  Configuración</small>
                    </a>
                            </li>

            <li class="col-xs-6 next ">
                                    <a href="../capitulo_11/traduciendo_mensajes_de_restriccion.html">
                        <strong>Siguiente &rarr;</strong>
                        <small>11.4. Traduciendo mensajes de restricción</small>
                    </a>
                            </li>
        </ul>
    </div>

                        </div>

                    <div id="sidebar" class="col-sm-3">
                        
            <div class="module module-share">
        <h3>Compartir</h3>
        <ul>
    <li><a id="share_twitter" href="#" title="Compartir en Twitter">Twitter</a></li>
    <li><a id="share_facebook" href="#" title="Compartir en Facebook">Facebook</a></li>
    <li><a id="share_google" href="#" title="Compartir en Google+">Google+</a></li>
</ul>

<script type="text/javascript">
var title    = '{{ item_social_title }}';
var page_url = encodeURIComponent(window.location);
var options  = 'menubar=no,toolbar=no,resizable=yes,scrollbars=no,width=640,height=350';
var services = {
    share_twitter:  'https://twitter.com/share?text=' + title + '&lang=es',
    share_facebook: 'http://www.facebook.com/sharer.php?u=' + page_url + '&t=' + title,
    share_google:   'https://plus.google.com/share?url=' + page_url + '&hl=es'
};

for (var id in services) {
    if (services.hasOwnProperty(id)) {
        document.getElementById(id).href = services[id];
        document.getElementById(id).onclick = function(a) {
            a = a || window.event;
            a = a.target || a.srcElement;

            ga('send', 'social', {
                'socialNetwork' : a.id.substr(6),
                'socialAction'  : 'share',
                'socialTarget'  : window.location
            });

            window.open(services[a.id], a.title, options);

            return false;
        };
    }
}
</script>

    </div>

            <div class="module module-ad module-ad-responsive module-ad-sidebar">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

    
    <div id="book-toc" class="module">
        <a id="indice"></a>

        <h3>Indice de contenidos</h3>
        <ul class="toc text-links">
                                            <li class="level-1">
                <span>1.</span> <a href="../capitulo_1.html"> Symfony2 y los fundamentos de HTTP</a>
            </li>
                                                                                                                            <li class="level-1">
                <span>2.</span> <a href="../capitulo_2.html"> De PHP a Symfony2</a>
            </li>
                                                                                                            <li class="level-1">
                <span>3.</span> <a href="../capitulo_3.html"> Instalando y configurando Symfony2</a>
            </li>
                                                                                            <li class="level-1">
                <span>4.</span> <a href="../capitulo_4.html"> Creando páginas en Symfony2</a>
            </li>
                                                                                                                                                            <li class="level-1">
                <span>5.</span> <a href="../capitulo_5.html"> El controlador</a>
            </li>
                                                                                                                                                                                                            <li class="level-1">
                <span>6.</span> <a href="../capitulo_6.html"> El enrutamiento</a>
            </li>
                                                                                                                                                                                            <li class="level-1">
                <span>7.</span> <a href="../capitulo_7.html"> Creando y utilizando plantillas</a>
            </li>
                                                                                                                                                                                                                                                                            <li class="level-1">
                <span>8.</span> <a href="../capitulo_8.html"> La base de datos y Doctrine</a>
            </li>
                                                                                                                                                            <li class="level-1">
                <span>9.</span> <a href="../capitulo_9.html"> La base de datos y Propel</a>
            </li>
                                            <li class="level-1">
                <span>10.</span> <a href="../capitulo_10.html"> Tests unitarios y funcionales</a>
            </li>
                                                                                                                                            <li class="level-1 ">
                <a href="../capitulo_11.html">
                    <span>Capítulo 11.</span> Validación
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_11/los_fundamentos_de_la_validacion.html">
                    <span>11.1.</span> Los fundamentos de la validación
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_11/configuracion.html">
                    <span>11.2.</span>  Configuración
                </a>
            </li>
                                            <li class="level-2 active">
                <a href="../capitulo_11/restricciones.html">
                    <span>11.3.</span> Restricciones
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_11/traduciendo_mensajes_de_restriccion.html">
                    <span>11.4.</span> Traduciendo mensajes de restricción
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_11/aplicando_las_restricciones_sobre_propiedades_y_getters.html">
                    <span>11.5.</span> Aplicando las restricciones sobre propiedades y <em>getters</em>
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_11/grupos_de_validacion.html">
                    <span>11.6.</span> Grupos de validación
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_11/secuencias_de_grupos_de_validacion.html">
                    <span>11.7.</span> Secuencias de grupos de validación
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_11/validando_valores_y_arrays.html">
                    <span>11.8.</span> Validando valores y arrays
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_11/consideraciones_finales.html">
                    <span>11.9.</span> Consideraciones finales
                </a>
            </li>
                                            <li class="level-1">
                <span>12.</span> <a href="../capitulo_12.html"> Formularios</a>
            </li>
                                                                                                                                                                                                                                                                            <li class="level-1">
                <span>13.</span> <a href="../capitulo_13.html"> Seguridad</a>
            </li>
                                                                                                                                                                                                                                            <li class="level-1">
                <span>14.</span> <a href="../capitulo_14.html"> La caché de HTTP</a>
            </li>
                                                                                                                                                            <li class="level-1">
                <span>15.</span> <a href="../capitulo_15.html"> Internacionalización</a>
            </li>
                                                                                                                                                                                                                            <li class="level-1">
                <span>16.</span> <a href="../capitulo_16.html"> El contenedor de servicios</a>
            </li>
                                                                                                                                                                                                            <li class="level-1">
                <span>17.</span> <a href="../capitulo_17.html"> Mejorando el rendimiento</a>
            </li>
                                                                                                            <li class="level-1">
                <span>18.</span> <a href="../capitulo_18.html"> El interior de Symfony2</a>
            </li>
                                                                                                            <li class="level-1">
                <span>19.</span> <a href="../capitulo_19.html"> La API estable de Symfony2</a>
            </li>
                        </ul>
    </div>
                    </div>
                            </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
