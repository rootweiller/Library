<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>6.5. Nuestro primer juego (Algoritmos de Programación con Python)</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                                                    <link rel="prev" href="../capitulo_6/procesamiento_sencillo_de_cadenas.html" />
                    <link rel="next" href="../capitulo_6/ejercicios.html" />
                <link rel="start" href="/libro/algoritmos_python/" />
                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="6.5. Nuestro primer juego (Algoritmos de Programación con Python)">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-1-2" class="books book_page algoritmos_python"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                                    <div id="main" class="col-sm-9">
                        
    
    <div id="book-toc-anchor" class="well visible-xs">
        <a href="#indice">
            <i class="fa fa-book"></i> Ver índice de contenidos del libro
        </a>
    </div>

    <div id="breadcrumb" class="hidden-xs">
        <ol>
            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libros/" itemprop="url">
                    <span itemprop="title">Libros</span>
                </a>
            </li>

            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/algoritmos_python/" itemprop="url">
                    <span itemprop="title">Algoritmos de Programación con Python</span>
                </a>
            </li>

                    <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/algoritmos_python/capitulo_6.html" itemprop="url">
                    <span itemprop="title">Capítulo 6. Cadenas de caracteres</span>
                </a>
            </li>
        
            <li class="active">
                <span>6.5. Nuestro primer juego</span>
            </li>
        </ol>
    </div>

    <h1 id="nuestro_primer_juego" class="title">
        <span>6.5.</span> Nuestro primer juego
    </h1>

    

<p>Con todo esto ya estamos en condiciones de escribir un programa para
jugar con la computadora: el <em>Mastermind</em>. El Mastermind es un juego
que consiste en deducir un código numérico de (por ejemplo) cuatro
cifras.</p>

<p><strong>1. Análisis</strong> (explicación del juego):</p>

<p>Cada vez que se empieza un partido, el programa debe "eligir" un
número de cuatro cifras (sin cifras repetidas), que será el código que
el jugador debe adivinar en la menor cantidad de intentos posibles.
Cada intento consiste en una propuesta de un código posible que tipea
el jugador, y una respuesta del programa. Las respuestas le darán
pistas al jugador para que pueda deducir el código.</p>

<p>Estas pistas indican cuán cerca estuvo el número propuesto de la
solución a través de dos valores: la cantidad de <em>aciertos</em> es la
cantidad de dígitos que propuso el jugador que también están en el
código <em>en la misma posición</em>. La cantidad de <em>coincidencias</em> es la
cantidad de digitos que propuso el jugador que también están en el
código pero <em>en una posición distinta</em>.</p>

<p>Por ejemplo, si el código que eligió el programa es el <code>2607</code>, y el
jugador propone el <code>1406</code>, el programa le debe responder un acierto (el
<code>0</code>, que está en el código original en el mismo lugar, el tercero), y
una coincidencia (el <code>6</code>, que también está en el código original, pero
en la segunda posición, no en el cuarto como fue propuesto). Si el
jugador hubiera pro-puesto el <code>3591</code>, habría obtenido como respuesta
ningún acierto y ninguna coincidencia, ya que no hay números en común
con el código original, y si se obtienen cuatro aciertos es porque el
jugador adivinó el código y ganó el juego.</p>

<p><strong>2. Especificación:</strong></p>

<p>El programa, entonces, debe generar un número
que el jugador no pueda predecir. A continuación, debe pedirle al
usuario que introduzca un número de cuatro cifras distintas, y
cuando éste lo ingresa, procesar la propuesta y evaluar el número
de aciertos y de coincidencias que tiene de acuerdo al código
elegido. Si es el código original, se termina el programa con un
mensaje de felicitación. En caso contrario, se informa al jugador
la cantidad de aciertos y la de coincidencias, y se le pide una
nueva propuesta. Este proceso se repite hasta que el jugador
adivine el código.</p>

<p><strong>2. Diseño:</strong></p>

<p>Lo primero que tenemos que hacer es indicarle al programa que tiene
que "elegir" un número de cuatro cifras al azar. Esto lo hacemos a
través del módulo <code>random</code>. Este módulo provee funciones para hacer
elecciones aleatorias.</p>

<p>La función del módulo que vamos a usar se llama <code>choice</code>. Esta función
devuelve un elemento al azar de una n-upla, y toma como parámetro la
n-upla de la que tiene que elegir. Vamos a usarla entonces para elegir
cifras. Para eso tenemos que construir una n-upla que tenga todas las
cifras, lo hacemos de la misma manera que en la parte 3.6:</p>

<div class="code python">
<pre class="python">digitos <span class="sy0">=</span> <span class="br0">&#40;</span><span class="st0">'0'</span><span class="sy0">,</span><span class="st0">'1'</span><span class="sy0">,</span><span class="st0">'2'</span><span class="sy0">,</span><span class="st0">'3'</span><span class="sy0">,</span><span class="st0">'4'</span><span class="sy0">,</span><span class="st0">'5'</span><span class="sy0">,</span><span class="st0">'6'</span><span class="sy0">,</span><span class="st0">'7'</span><span class="sy0">,</span><span class="st0">'8'</span><span class="sy0">,</span><span class="st0">'9'</span><span class="br0">&#41;</span></pre>
</div>

<p>Como están entre comillas, los dígitos son tratados como cadenas de
caracteres de longitud uno. Sin las comillas, habrían sido
considerados números enteros. En este caso elegi-mos verlos como
cadenas de caracteres porque lo que nos interesa hacer con ellos no
son cuentas sino comparaciones, concatenaciones, contar cuántas veces
aparece o donde está en una cadena de mayor longitud, es decir, las
operaciones que se aplican a cadenas de texto. Entonces que sean
variables de tipo cadena de caracteres es lo que mejor se adapta a
nuestro problema.</p>

<p>Ahora tenemos que generar el número al azar, asegurándonos de que no
haya cifras repetidas. Esto lo podemos modelar así:</p>

<ul>
<li>Tomar una cadena vacía</li>
<li>Repetir cuatro veces:

<ol>
<li>Elegir un elemento al azar de la lista de dígitos</li>
<li>Si el elemento no está en la cadena, agregarlo</li>
<li>En caso contrario, volver al primer punto</li>
</ol></li>
</ul>

<p>Una vez elegido el número, hay que interactuar con el usuario y
pedirle su primera propuesta. Si el número no coincide con el código,
hay que buscar la cantidad de aciertos y de coincidencias y repetir el
pedido de propuestas, hasta que el jugador adivine el código.</p>

<p>Para verificar la cantidad de aciertos se pueden recorrer las cuatro
posiciones de la propuesta: si alguna coincide con los dígitos en el
código en esa posición, se incrementa en uno la cantidad de aciertos.
En caso contrario, se verifica si el dígito está en alguna otra
posición del código, y en ese caso se incrementa la cantidad de
coincidencias. En cualquier caso, hay que incrementar en uno también
la cantidad de intentos que lleva el jugador.</p>

<p>Finalmente, cuando el jugador acierta el código elegido, hay que dejar
de pedir propuestas, informar al usuario que ha ganado y terminar el
programa.</p>

<p><strong>4. Implementación:</strong> Entonces, de acuerdo a lo diseñado en 3, el
programa quedaría más o menos así:</p>

<div class="code python">
<pre class="python"><span class="co1"># ARCHIVO: [mastermind.py]</span>
&nbsp;
<span class="co1"># modulo que va a permitir elegir numeros aleatoriamente</span>
<span class="kw1">import</span> <span class="kw3">random</span>
&nbsp;
<span class="co1"># el conjunto de simbolos validos en el codigo</span>
digitos <span class="sy0">=</span> <span class="br0">&#40;</span><span class="st0">'0'</span><span class="sy0">,</span><span class="st0">'1'</span><span class="sy0">,</span><span class="st0">'2'</span><span class="sy0">,</span><span class="st0">'3'</span><span class="sy0">,</span><span class="st0">'4'</span><span class="sy0">,</span><span class="st0">'5'</span><span class="sy0">,</span><span class="st0">'6'</span><span class="sy0">,</span><span class="st0">'7'</span><span class="sy0">,</span><span class="st0">'8'</span><span class="sy0">,</span><span class="st0">'9'</span><span class="br0">&#41;</span>
&nbsp;
<span class="co1"># &quot;elegimos&quot; el codigo</span>
codigo <span class="sy0">=</span> <span class="st0">''</span>
<span class="kw1">for</span> i <span class="kw1">in</span> <span class="kw2">range</span><span class="br0">&#40;</span><span class="nu0">4</span><span class="br0">&#41;</span>:
    candidato <span class="sy0">=</span> <span class="kw3">random</span>.<span class="me1">choice</span><span class="br0">&#40;</span>digitos<span class="br0">&#41;</span>
    <span class="co1"># vamos eligiendo digitos no repetidos*</span>
    <span class="kw1">while</span> candidato <span class="kw1">in</span> codigo:
        candidato <span class="sy0">=</span> <span class="kw3">random</span>.<span class="me1">choice</span><span class="br0">&#40;</span>digitos<span class="br0">&#41;</span>
    codigo <span class="sy0">=</span> codigo + candidato
&nbsp;
<span class="co1"># iniciamos interaccion con el usuario*</span>
<span class="kw1">print</span> <span class="st0">&quot;Bienvenido/a al Mastermind!&quot;</span>
<span class="kw1">print</span> <span class="st0">&quot;Tienes que adivinar un numero de&quot;</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="st0">&quot;cifras distintas&quot;</span>
propuesta <span class="sy0">=</span> <span class="kw2">raw_input</span><span class="br0">&#40;</span><span class="st0">&quot;¿Que codigo propones?: &quot;</span><span class="br0">&#41;</span>
&nbsp;
<span class="co1"># procesamos las propuestas e indicamos aciertos y coincidencias</span>
intentos <span class="sy0">=</span> <span class="nu0">1</span>
<span class="kw1">while</span> propuesta <span class="sy0">!=</span> codigo:
    intentos <span class="sy0">=</span> intentos + <span class="nu0">1</span>
    aciertos <span class="sy0">=</span> <span class="nu0">0</span>
    coincidencias <span class="sy0">=</span> <span class="nu0">0</span>
&nbsp;
    <span class="co1"># recorremos la propuesta y verificamos en el codigo</span>
    <span class="kw1">for</span> i <span class="kw1">in</span> <span class="kw2">range</span><span class="br0">&#40;</span><span class="nu0">4</span><span class="br0">&#41;</span>:
        <span class="kw1">if</span> propuesta<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">==</span> codigo<span class="br0">&#91;</span>i<span class="br0">&#93;</span>:
            aciertos <span class="sy0">=</span> aciertos + <span class="nu0">1</span>
        <span class="kw1">elif</span> propuesta<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="kw1">in</span> codigo:
            coincidencias <span class="sy0">=</span> coincidencias + <span class="nu0">1</span>
    <span class="kw1">print</span> <span class="st0">&quot;Tu propuesta (&quot;</span><span class="sy0">,</span> propuesta<span class="sy0">,</span> <span class="st0">&quot;) tiene&quot;</span><span class="sy0">,</span> aciertos<span class="sy0">,</span> \
          <span class="st0">&quot;aciertos y &quot;</span><span class="sy0">,</span> coincidencias<span class="sy0">,</span> <span class="st0">&quot;coincidencias.&quot;</span>
    <span class="co1"># pedimos siguiente propuesta*</span>
    propuesta <span class="sy0">=</span> <span class="kw2">raw_input</span><span class="br0">&#40;</span><span class="st0">&quot;Propón otro codigo: &quot;</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">print</span> <span class="st0">&quot;Felicitaciones! Adivinaste el codigo en&quot;</span><span class="sy0">,</span> intentos<span class="sy0">,</span> <span class="st0">&quot;intentos.&quot;</span></pre>
</div>

<div class="admonition tip"><p><strong class="title">Truco</strong> Cuando lo que queremos escribir es demasiado largo como para una sola
línea que entre cómodamente en el editor o en el campo visual, le
indicamos al intérprete que queremos seguir en la siguiente línea por
medio de la barra invertida (como al final anterior que empieza por <em>"Tu propuesta ...</em>).</p></div>

<p><strong>5. Pruebas:</strong> La forma más directa de probar el programa es jugándolo,
y verificando manualmente que las respuestas que da son correctas, por
ejemplo:</p>

<div class="code python">
<pre class="python">jugador<span class="sy0">@</span>casino:<span class="sy0">~</span>$ python mastermind.<span class="me1">py</span>
Bienvenido/a <span class="kw3">al</span> Mastermind<span class="sy0">!</span>
Tienes que adivinar un numero de <span class="nu0">4</span> cifras distintas
¿Que codigo propones?: <span class="nu0">1234</span>
Tu propuesta <span class="br0">&#40;</span> <span class="nu0">1234</span> <span class="br0">&#41;</span> tiene <span class="nu0">0</span> aciertos y  <span class="nu0">1</span> coincidencias.
<span class="me1">Prop</span>ón otro codigo: <span class="nu0">5678</span>
Tu propuesta <span class="br0">&#40;</span> <span class="nu0">5678</span> <span class="br0">&#41;</span> tiene <span class="nu0">0</span> aciertos y  <span class="nu0">1</span> coincidencias.
<span class="me1">Prop</span>ón otro codigo: <span class="nu0">1590</span>
Tu propuesta <span class="br0">&#40;</span> <span class="nu0">1590</span> <span class="br0">&#41;</span> tiene <span class="nu0">1</span> aciertos y  <span class="nu0">1</span> coincidencias.
<span class="me1">Prop</span>ón otro codigo: <span class="nu0">2960</span>
Tu propuesta <span class="br0">&#40;</span> <span class="nu0">2960</span> <span class="br0">&#41;</span> tiene <span class="nu0">2</span> aciertos y  <span class="nu0">1</span> coincidencias.
<span class="me1">Prop</span>ón otro codigo: <span class="nu0">0963</span>
Tu propuesta <span class="br0">&#40;</span> <span class="nu0">0963</span> <span class="br0">&#41;</span> tiene <span class="nu0">1</span> aciertos y  <span class="nu0">2</span> coincidencias.
<span class="me1">Prop</span>ón otro codigo: <span class="nu0">9460</span>
Tu propuesta <span class="br0">&#40;</span> <span class="nu0">9460</span> <span class="br0">&#41;</span> tiene <span class="nu0">1</span> aciertos y  <span class="nu0">3</span> coincidencias.
<span class="me1">Prop</span>ón otro codigo: <span class="nu0">6940</span>
Felicitaciones<span class="sy0">!</span> Adivinaste el codigo en <span class="nu0">7</span> intentos.</pre>
</div>

<p>Podemos ver que para este caso el programa parece haberse comportado
bien. ¿Pero cómo podemos saber que el código final era realmente el
que eligió originalmente el programa? ¿O qué habría pasado si no
encontrábamos la solución?</p>

<p>Para probar estas cosas recurrimos a la depuración del programa. Una
forma de hacerlo es simplemente agregar algunas líneas en el código
que nos informen lo que está sucediendo que no podemos ver. Por
ejemplo, los números que va eligiendo al azar y el código que queda al
final. Así podremos verificar si las respuestas son correctas a medida
que las hacemos y podremos elegir mejor las propuestas enlas pruebas.</p>

<div class="code python">
<pre class="python"><span class="co1"># &quot;elegimos&quot; el codigo</span>
codigo <span class="sy0">=</span> <span class="st0">''</span>
<span class="kw1">for</span> i <span class="kw1">in</span> <span class="kw2">range</span><span class="br0">&#40;</span><span class="nu0">4</span><span class="br0">&#41;</span>:
    candidato <span class="sy0">=</span> <span class="kw3">random</span>.<span class="me1">choice</span><span class="br0">&#40;</span>digitos<span class="br0">&#41;</span>
    <span class="co1"># vamos eligiendo digitos no repetidos</span>
    <span class="kw1">while</span> candidato <span class="kw1">in</span> codigo:
        <span class="kw1">print</span> <span class="st0">'DEBUG: candidato ='</span><span class="sy0">,</span> candidato
        candidato <span class="sy0">=</span> <span class="kw3">random</span>.<span class="me1">choice</span><span class="br0">&#40;</span>digitos<span class="br0">&#41;</span>
    codigo <span class="sy0">=</span> codigo + candidato
    <span class="kw1">print</span> <span class="st0">'DEBUG: el codigo va siendo ='</span><span class="sy0">,</span> codigo</pre>
</div>

<p>De esta manera podemos monitorear cómo se va formando el código que
hay que adivinar, y los candidatos que van apareciendo pero se
rechazan por estar repetidos:</p>

<div class="code python">
<pre class="python">jugador<span class="sy0">@</span>casino:<span class="sy0">~</span>$ python master_debug.<span class="me1">py</span>
DEBUG: el codigo va siendo <span class="sy0">=</span> <span class="nu0">8</span>
DEBUG: candidato <span class="sy0">=</span> <span class="nu0">8</span>
DEBUG: el codigo va siendo <span class="sy0">=</span> <span class="nu0">81</span>
DEBUG: candidato <span class="sy0">=</span> <span class="nu0">1</span>
DEBUG: el codigo va siendo <span class="sy0">=</span> <span class="nu0">814</span>
DEBUG: el codigo va siendo <span class="sy0">=</span> <span class="nu0">8145</span>
Bienvenido/a <span class="kw3">al</span> Mastermind<span class="sy0">!</span>
Tienes que adivinar un numero de <span class="nu0">4</span> cifras distintas
¿Que codigo propones?:</pre>
</div>

<p><strong>6. Mantenimiento:</strong> Supongamos que queremos jugar el mismo juego, pero
en lugar de hacerlo con un número de cuatro cifras, adivinar uno de
cinco. ¿Qué tendríamos que hacer para cambiarlo?</p>

<p>Para empezar, habría que reemplazar el 4 en la línea 11 del programa
por un 5, indicando que hay que elegir 5 dígitos al azar. Pero además,
el ciclo en la línea 31 también necesita cambiar la cantidad de veces
que se va a ejecutar, 5 en lugar de 4. Y hay un lugar más, adentro del
mensaje al usuario que indica las instrucciones del juego en la línea
20.</p>

<p>El problema de ir cambiando estos números de a uno es que si
quisiéramos volver al programa de los 4 dígitos o quisiéramos
cambiarlo por uno que juegue con 3, tenemos que volver a hacer los reemplazos en todos lados cada vez que lo queremos cambiar, y corremos el riesgo de olvidarnos de alguno e introducir errores en el código.</p>

<p>Una forma de evitar esto es fijar la cantidad de cifras en una
variable y cambiarla sólo ahí:</p>

<div class="code python">
<pre class="python"><span class="co1"># &quot;elegimos&quot; el codigo</span>
cant_digitos <span class="sy0">=</span> <span class="nu0">5</span>
codigo <span class="sy0">=</span> <span class="st0">''</span>
<span class="kw1">for</span> i <span class="kw1">in</span> <span class="kw2">range</span><span class="br0">&#40;</span>cant_digitos<span class="br0">&#41;</span>:
    candidato <span class="sy0">=</span> <span class="kw3">random</span>.<span class="me1">choice</span><span class="br0">&#40;</span>digitos<span class="br0">&#41;</span>
    <span class="co1"># vamos eligiendo digitos no repetidos</span></pre>
</div>

<p>El mensaje al usuario queda entonces:</p>

<div class="code python">
<pre class="python"><span class="co1"># iniciamos interaccion con el usuario</span>
<span class="kw1">print</span> <span class="st0">&quot;Bienvenido/a al Mastermind!&quot;</span>
<span class="kw1">print</span> <span class="st0">&quot;Tenes que adivinar un numero de&quot;</span><span class="sy0">,</span> cant_digitos<span class="sy0">,</span> 
      <span class="st0">&quot;cifras distintas&quot;</span></pre>
</div>

<p>Y el chequeo de aciertos y coincidencias:</p>

<div class="code python">
<pre class="python"><span class="co1"># recorremos la propuesta y verificamos en el codigo</span>
<span class="kw1">for</span> i <span class="kw1">in</span> <span class="kw2">range</span><span class="br0">&#40;</span>cant_digitos<span class="br0">&#41;</span>:
    <span class="kw1">if</span> propuesta<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">==</span> codigo<span class="br0">&#91;</span>i<span class="br0">&#93;</span>:</pre>
</div>

<p>Con 5 dígitos, el juego se pone más difícil. Nos damos cuenta que si
el jugador no logra adivinar el código, el programa no termina: se
queda preguntando códigos y respondiendo aciertos y coincidencias
para siempre. Entonces queremos darle al usuario la posibilidad de
rendirse y saber cuál era la respuesta y terminar el programa.</p>

<p>Para esto agregamos en el ciclo <code>while</code> principal una condición extra:
para seguir pregun-tando, la propuesta tiene que ser distinta al
código pero además tiene que ser distinta del texto <code>"Me doy"</code>.</p>

<div class="code python">
<pre class="python"><span class="co1"># procesamos las propuestas e indicamos aciertos y coincidencias</span>
intentos <span class="sy0">=</span> <span class="nu0">1</span>
<span class="kw1">while</span> propuesta <span class="sy0">!=</span> codigo <span class="kw1">and</span> propuesta <span class="sy0">!=</span> <span class="st0">&quot;Me doy&quot;</span>:
    intentos <span class="sy0">=</span> intentos + <span class="nu0">1</span>
    aciertos <span class="sy0">=</span> <span class="nu0">0</span></pre>
</div>

<p>Entonces, ahora no sólamente sale del while si acierta el código, sino
además si se rinde y quiere saber cuál era el código. Entonces afuera
del while tenemos que separar las dos posibilidades, y dar distintos
mensajes:</p>

<div class="code python">
<pre class="python"><span class="kw1">if</span> propuesta <span class="sy0">==</span> <span class="st0">&quot;Me doy&quot;</span>:
    <span class="kw1">print</span> <span class="st0">&quot;El codigo era&quot;</span><span class="sy0">,</span> codigo
    <span class="kw1">print</span> <span class="st0">&quot;Suerte la proxima vez!&quot;</span>
<span class="kw1">else</span>:
    <span class="kw1">print</span> <span class="st0">&quot;Felicitaciones! Adivinaste el codigo en&quot;</span><span class="sy0">,</span> \
    intentos<span class="sy0">,</span> <span class="st0">&quot;intentos.&quot;</span></pre>
</div>

<p>El código de todo el programa queda entonces así:</p>

<div class="code python">
<pre class="python"><span class="co1"># ARCHIVO: mastermind5.py</span>
&nbsp;
<span class="co1"># modulo que va a permitir elegir numeros aleatoriamente</span>
<span class="kw1">import</span> <span class="kw3">random</span>
&nbsp;
<span class="co1"># el conjunto de simbolos validos en el codigo*</span>
digitos <span class="sy0">=</span> <span class="br0">&#40;</span><span class="st0">'0'</span><span class="sy0">,</span><span class="st0">'1'</span><span class="sy0">,</span><span class="st0">'2'</span><span class="sy0">,</span><span class="st0">'3'</span><span class="sy0">,</span><span class="st0">'4'</span><span class="sy0">,</span><span class="st0">'5'</span><span class="sy0">,</span><span class="st0">'6'</span><span class="sy0">,</span><span class="st0">'7'</span><span class="sy0">,</span><span class="st0">'8'</span><span class="sy0">,</span><span class="st0">'9'</span><span class="br0">&#41;</span>
&nbsp;
<span class="co1"># &quot;elegimos&quot; el codigo</span>
cant_digitos <span class="sy0">=</span> <span class="nu0">5</span>
codigo <span class="sy0">=</span> <span class="st0">''</span>
<span class="kw1">for</span> i <span class="kw1">in</span> <span class="kw2">range</span><span class="br0">&#40;</span>cant_digitos<span class="br0">&#41;</span>:
    candidato <span class="sy0">=</span> <span class="kw3">random</span>.<span class="me1">choice</span><span class="br0">&#40;</span>digitos<span class="br0">&#41;</span>
    <span class="co1"># vamos eligiendo digitos no repetidos</span>
    <span class="kw1">while</span> candidato <span class="kw1">in</span> codigo:
        candidato <span class="sy0">=</span> <span class="kw3">random</span>.<span class="me1">choice</span><span class="br0">&#40;</span>digitos<span class="br0">&#41;</span>
    codigo <span class="sy0">=</span> codigo + candidato
&nbsp;
<span class="co1"># iniciamos interaccion con el usuario</span>
<span class="kw1">print</span> <span class="st0">&quot;Bienvenido/a al Mastermind!&quot;</span>
<span class="kw1">print</span> <span class="st0">&quot;Tienes que adivinar un numero de&quot;</span><span class="sy0">,</span> cant_digitos<span class="sy0">,</span> 
      <span class="st0">&quot;cifras distintas&quot;</span>
propuesta <span class="sy0">=</span> <span class="kw2">raw_input</span><span class="br0">&#40;</span><span class="st0">&quot;¿Que codigo propones?: &quot;</span><span class="br0">&#41;</span>
&nbsp;
<span class="co1"># procesamos las propuestas e indicamos aciertos y coincidencias</span>
intentos <span class="sy0">=</span> <span class="nu0">1</span>
<span class="kw1">while</span> propuesta <span class="sy0">!=</span> codigo <span class="kw1">and</span> propuesta <span class="sy0">!=</span> <span class="st0">&quot;Me doy&quot;</span>:
    intentos <span class="sy0">=</span> intentos + <span class="nu0">1</span>
    aciertos <span class="sy0">=</span> <span class="nu0">0</span>
    coincidencias <span class="sy0">=</span> <span class="nu0">0</span>
&nbsp;
    <span class="co1"># recorremos la propuesta y verificamos en el codigo</span>
    <span class="kw1">for</span> i <span class="kw1">in</span> <span class="kw2">range</span><span class="br0">&#40;</span>cant_digitos<span class="br0">&#41;</span>:
        <span class="kw1">if</span> propuesta<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">==</span> codigo<span class="br0">&#91;</span>i<span class="br0">&#93;</span>:
            aciertos <span class="sy0">=</span> aciertos + <span class="nu0">1</span>
        <span class="kw1">elif</span> propuesta<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="kw1">in</span> codigo:
            coincidencias <span class="sy0">=</span> coincidencias + <span class="nu0">1</span>
    <span class="kw1">print</span> <span class="st0">&quot;Tu propuesta (&quot;</span><span class="sy0">,</span> propuesta<span class="sy0">,</span> <span class="st0">&quot;) tiene&quot;</span><span class="sy0">,</span> aciertos<span class="sy0">,</span> \
          <span class="st0">&quot;aciertos y &quot;</span><span class="sy0">,</span> coincidencias<span class="sy0">,</span> <span class="st0">&quot;coincidencias.&quot;</span>
    <span class="co1"># pedimos siguiente propuesta</span>
    propuesta <span class="sy0">=</span> <span class="kw2">raw_input</span><span class="br0">&#40;</span><span class="st0">&quot;Propón otro codigo: &quot;</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">if</span> propuesta <span class="sy0">==</span> <span class="st0">&quot;Me doy&quot;</span>:
    <span class="kw1">print</span> <span class="st0">&quot;El codigo era&quot;</span><span class="sy0">,</span> codigo
    <span class="kw1">print</span> <span class="st0">&quot;Suerte la proxima vez!&quot;</span>
<span class="kw1">else</span>:
    <span class="kw1">print</span> <span class="st0">&quot;Felicitaciones! Adivinaste el codigo en&quot;</span><span class="sy0">,</span> \
    intentos<span class="sy0">,</span> <span class="st0">&quot;intentos.&quot;</span></pre>
</div>



            <div class="module module-ad module-ad-responsive module-ad-bottom">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

    
    <div id="book-pager">
        <ul class="row pager">
            <li class="col-xs-6 previous ">
                                    <a href="../capitulo_6/procesamiento_sencillo_de_cadenas.html">
                        <strong>&larr; Anterior</strong>
                        <small>6.4. Procesamiento sencillo de cadenas</small>
                    </a>
                            </li>

            <li class="col-xs-6 next ">
                                    <a href="../capitulo_6/ejercicios.html">
                        <strong>Siguiente &rarr;</strong>
                        <small>6.6. Ejercicios</small>
                    </a>
                            </li>
        </ul>
    </div>

            <div id="book-legal-notice">
            Copyright (c) 2011-2014 Rosita Wachenchauzer, Margarita Manterola,
Maximiliano Curia, Marcos Medrano, Nicolás Paez.
La copia y redistribución de esta página se permite bajo los términos
de la licencia Creative Commons Atribución - Compartir Obras Derivadas
Igual 3.0 siempre que se conserve esta nota de copyright.

        </div>
                        </div>

                    <div id="sidebar" class="col-sm-3">
                        
            <div class="module module-share">
        <h3>Compartir</h3>
        <ul>
    <li><a id="share_twitter" href="#" title="Compartir en Twitter">Twitter</a></li>
    <li><a id="share_facebook" href="#" title="Compartir en Facebook">Facebook</a></li>
    <li><a id="share_google" href="#" title="Compartir en Google+">Google+</a></li>
</ul>

<script type="text/javascript">
var title    = '{{ item_social_title }}';
var page_url = encodeURIComponent(window.location);
var options  = 'menubar=no,toolbar=no,resizable=yes,scrollbars=no,width=640,height=350';
var services = {
    share_twitter:  'https://twitter.com/share?text=' + title + '&lang=es',
    share_facebook: 'http://www.facebook.com/sharer.php?u=' + page_url + '&t=' + title,
    share_google:   'https://plus.google.com/share?url=' + page_url + '&hl=es'
};

for (var id in services) {
    if (services.hasOwnProperty(id)) {
        document.getElementById(id).href = services[id];
        document.getElementById(id).onclick = function(a) {
            a = a || window.event;
            a = a.target || a.srcElement;

            ga('send', 'social', {
                'socialNetwork' : a.id.substr(6),
                'socialAction'  : 'share',
                'socialTarget'  : window.location
            });

            window.open(services[a.id], a.title, options);

            return false;
        };
    }
}
</script>

    </div>

            <div class="module module-ad module-ad-responsive module-ad-sidebar">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

    
    <div id="book-toc" class="module">
        <a id="indice"></a>

        <h3>Indice de contenidos</h3>
        <ul class="toc text-links">
                                            <li class="level-1">
                <span>1.</span> <a href="../capitulo_1.html"> Algunos conceptos básicos</a>
            </li>
                                                                                                                                                                                                            <li class="level-1">
                <span>2.</span> <a href="../capitulo_2.html"> Programas sencillos</a>
            </li>
                                                                                                                                                                            <li class="level-1">
                <span>3.</span> <a href="../capitulo_3.html"> Funciones</a>
            </li>
                                                                                                                                                                            <li class="level-1">
                <span>4.</span> <a href="../capitulo_4.html"> Decisiones</a>
            </li>
                                                                                                                                            <li class="level-1">
                <span>5.</span> <a href="../capitulo_5.html"> Más sobre ciclos</a>
            </li>
                                                                                                                                                            <li class="level-1 ">
                <a href="../capitulo_6.html">
                    <span>Capítulo 6.</span> Cadenas de caracteres
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_6/operaciones_con_cadenas.html">
                    <span>6.1.</span> Operaciones con cadenas
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_6/segmentos_de_cadenas.html">
                    <span>6.2.</span> Segmentos de cadenas
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_6/las_cadenas_son_inmutables.html">
                    <span>6.3.</span> Las cadenas son inmutables
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_6/procesamiento_sencillo_de_cadenas.html">
                    <span>6.4.</span> Procesamiento sencillo de cadenas
                </a>
            </li>
                                            <li class="level-2 active">
                <a href="../capitulo_6/nuestro_primer_juego.html">
                    <span>6.5.</span> Nuestro primer juego
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_6/ejercicios.html">
                    <span>6.6.</span> Ejercicios
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_6/resumen.html">
                    <span>6.7.</span> Resumen
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_6/ejercicios_2.html">
                    <span>6.8.</span> Ejercicios
                </a>
            </li>
                                            <li class="level-1">
                <span>7.</span> <a href="../capitulo_7.html"> Tuplas y listas</a>
            </li>
                                                                                                                                            <li class="level-1">
                <span>8.</span> <a href="../capitulo_8.html"> Algoritmos de búsqueda</a>
            </li>
                                                                                                                                                            <li class="level-1">
                <span>9.</span> <a href="../capitulo_9.html"> Diccionarios</a>
            </li>
                                                                                                                            <li class="level-1">
                <span>10.</span> <a href="../capitulo_10.html"> Contratos y Mutabilidad</a>
            </li>
                                                                                                                            <li class="level-1">
                <span>11.</span> <a href="../capitulo_11.html"> Manejo de archivos</a>
            </li>
                                                                                                                                                                                                                            <li class="level-1">
                <span>12.</span> <a href="../capitulo_12.html"> Manejo de errores y excepciones</a>
            </li>
                                                                                                                            <li class="level-1">
                <span>13.</span> <a href="../capitulo_13.html"> Procesamiento de archivos</a>
            </li>
                                                                                            <li class="level-1">
                <span>14.</span> <a href="../capitulo_14.html"> Objetos</a>
            </li>
                                                                                                                                                            <li class="level-1">
                <span>15.</span> <a href="../capitulo_15.html"> Polimorfismo, Herencia y Delegación</a>
            </li>
                                                                                                                            <li class="level-1">
                <span>16.</span> <a href="../capitulo_16.html"> Listas enlazadas</a>
            </li>
                                                                                                                                                                            <li class="level-1">
                <span>17.</span> <a href="../capitulo_17.html"> Pilas y colas</a>
            </li>
                                                                                                                            <li class="level-1">
                <span>18.</span> <a href="../capitulo_18.html"> Modelo de ejecución de funciones y recursividad</a>
            </li>
                                                                                                                                                                                                                            <li class="level-1">
                <span>19.</span> <a href="../capitulo_19.html"> Ordenar listas</a>
            </li>
                                                                                            <li class="level-1">
                <span>20.</span> <a href="../capitulo_20.html"> Algunos ordenamientos recursivos</a>
            </li>
                                                                                                                                        </ul>
    </div>
                    </div>
                            </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
