<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>3.4. Personalizando el diseño (Los formularios de Symfony 1.4)</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                                                    <link rel="prev" href="../capitulo_3/personalizando_la_plantilla_del_prototipo.html" />
                    <link rel="next" href="../capitulo_3/internacionalizacion.html" />
                <link rel="start" href="/libro/symfony_formularios/" />
                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="3.4. Personalizando el diseño (Los formularios de Symfony 1.4)">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-1-2" class="books book_page symfony_formularios"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                                    <div id="main" class="col-sm-9">
                        
    
    <div id="book-toc-anchor" class="well visible-xs">
        <a href="#indice">
            <i class="fa fa-book"></i> Ver índice de contenidos del libro
        </a>
    </div>

    <div id="breadcrumb" class="hidden-xs">
        <ol>
            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libros/" itemprop="url">
                    <span itemprop="title">Libros</span>
                </a>
            </li>

            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/symfony_formularios/" itemprop="url">
                    <span itemprop="title">Los formularios de Symfony 1.4</span>
                </a>
            </li>

                    <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/symfony_formularios/capitulo_3.html" itemprop="url">
                    <span itemprop="title">Capítulo 3. Formularios para diseñadores web</span>
                </a>
            </li>
        
            <li class="active">
                <span>3.4. Personalizando el diseño</span>
            </li>
        </ol>
    </div>

    <h1 id="personalizando_el_diseno" class="title">
        <span>3.4.</span> Personalizando el diseño
    </h1>

    

<p>Más allá de la personalización global que permite el método <code>render()</code>, a continuación se explica cómo mostrar uno a uno los campos del formulario para obtener la máxima flexibilidad.</p>

<h3 id="utilizando_el_metodo_renderrow_en_cada_campo">3.4.1. Utilizando el método renderRow() en cada campo</h3>

<p>La primera forma de conseguir la máxima flexibilidad consiste en generar cada campo de forma individual. De hecho, la instrucción <code>&lt;?php echo $formulario ?&gt;</code> es equivalente a llamar al método <code>renderRow()</code> cuatro veces, como se muestra en el listado 3-4.</p>

<p><strong>Listado 3-4 - Utilizando el método <code>renderRow()</code></strong></p>

<div class="code php">
<pre class="php">&lt;form action=&quot;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> url_for<span class="br0">&#40;</span><span class="st_h">'contacto/index'</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>&quot; method=&quot;POST&quot;&gt;
  &lt;table&gt;
    <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'nombre'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderRow</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
    <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderRow</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
    <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'asunto'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderRow</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
    <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'mensaje'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderRow</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
    &lt;tr&gt;
      &lt;td colspan=&quot;2&quot;&gt;
        &lt;input type=&quot;submit&quot; /&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/form&gt;</pre>
</div>

<p>El acceso a cada campo se realiza utilizando el objeto <code>$formulario</code> como si fuera un array. El campo <code>email</code> se puede acceder mediante <code>$formulario['email']</code>. El método <code>renderRow()</code> muestra cada campo como una fila de una tabla HTML. La instrucción <code>$formulario['email']-&gt;renderRow()</code> genera por tanto una fila de tabla para mostrar el campo <code>email</code>. Para mostrar el formulario completo, se repite el mismo tipo de código para los otros tres campos <code>asunto</code>, <code>nombre</code> y <code>mensaje</code>.</p>

<div class="admonition sidebar"><p><strong class="title">¿Cómo es posible que un objeto se comporte como un array?</strong> Desde la versión PHP 5, los objetos puede comportarse de forma similar a los arrays. La clase <code>sfForm</code> implementa el comportamiento <code>ArrayAccess</code> para permitir el acceso a cada campo mediante una sintaxis corta y muy sencilla. La clave del array es el nombre del campo y el valor devuelto es el objeto de tipo widget asociado:</p>

<div class="code php">
<pre class="php"><span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span> <span class="sy1">?&gt;</span>
&nbsp;
// Sintaxis que habría que utilizar si sfForm no implementara la interfaz ArrayAccess
<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="sy0">-&gt;</span><span class="me1">getField</span><span class="br0">&#40;</span><span class="st_h">'email'</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span></pre>
</div>

<p>No obstante, como en la plantilla todas las variables deben ser de sólo lectura, si intentas modificar el valor del campo se lanza una excepción de tipo <code>LogicException</code>:</p>

<div class="code php">
<pre class="php"><span class="kw2">&lt;?php</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="sy0">...</span> <span class="sy1">?&gt;</span>
<span class="kw2">&lt;?php</span> <span class="kw3">unset</span><span class="br0">&#40;</span><span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span></pre>
</div>

<p></p></div>

<p>La plantilla actual y la plantilla original son funcionalmente indénticas. No obstante, aunque su aspecto es idéntico, ahora es mucho más fácil personalizar ese aspecto. El método <code>renderRow()</code> acepta dos argumentos: un array con los atributos HTML y el nombre del título o <em>label</em>. El listado 3-5 utiliza estos dos argumentos para personalizar el formulario y la figura 3-4 muestra el resultado.</p>

<p><strong>Listado 3-5 - Utilizando los argumentos del método <code>renderRow()</code> para personalizar el aspecto del formulario</strong></p>

<div class="code php">
<pre class="php">&lt;form action=&quot;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> url_for<span class="br0">&#40;</span><span class="st_h">'contacto/index'</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>&quot; method=&quot;POST&quot;&gt;
  &lt;table&gt;
    <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'nombre'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderRow</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
    <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderRow</span><span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'class'</span> <span class="sy0">=&gt;</span> <span class="st_h">'email'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
    <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'asunto'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderRow</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
    <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'mensaje'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderRow</span><span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="st_h">'Tu mensaje'</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
    &lt;tr&gt;
      &lt;td colspan=&quot;2&quot;&gt;
        &lt;input type=&quot;submit&quot; /&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/form&gt;</pre>
</div>

<div class="figure" id="figure_3_4">
    <img src="/img/symfony_formularios/f0304.png" alt="Personalizando el aspecto del formulario con el método renderRow()" />

    <p class="caption"><strong>Figura 3.4</strong> Personalizando el aspecto del formulario con el método renderRow()</p>
</div>


<p>Para generar el campo <code>emaill</code> sólo se utiliza el primer argumento de <code>renderRow()</code>:</p>

<ul>
<li><code>array('class' =&gt; 'email')</code> añade la clase <code>emaill</code> a la etiqueta <code>&lt;input&gt;</code> generada.</li>
</ul>

<p>El campo <code>mensaje</code> se genera de forma similar, pero utiliza los dos argumentos:</p>

<ul>
<li><code>array()</code> significa que no se quieren añadir atributos HTML propios a la etiqueta <code>&lt;textarea&gt;</code> generada.</li>
<li><code>"Tu mensaje"</code> permite sustituir el título o <em>label</em> original</li>
</ul>

<p>Todos los argumentos de <code>renderRow()</code> son opcionales, por lo que no es obligatorio indicarlos, tal y como sucede en los campos <code>nombre</code> y <code>asunto</code> del ejemplo anterior.</p>

<p>Aunque el método <code>renderRow()</code> permite personalizar los elementos que forman cada campo, sus posibilidades están limitadas por el código HTML que se utiliza para decorar cada elemento, como se muestra en la figura 3-5.</p>

<div class="figure" id="figure_3_5">
    <img src="/img/symfony_formularios/f0305.png" alt="Estructura HTML utilizada por renderRow() y render()" />

    <p class="caption"><strong>Figura 3.5</strong> Estructura HTML utilizada por renderRow() y render()</p>
</div>


<div class="admonition sidebar"><p><strong class="title">Cómo modificar la estructura utilizada en el prototipo</strong> Symfony utiliza por defecto una tabla HTML para mostrar el formulario. Este comportamiento se puede modificar utilizando otros formatos específicos, ya sean formatos definidos por Symfony o formatos creados de forma expresa para el proyecto. En el capítulo 5 se muestra que para crear un nuevo formato es preciso crear una clase.</p></div>

<p>Para crear una estructura completamente diferente, existen métodos para generar cada uno de los elementos de los campos, como muestra la figura 3-6:</p>

<ul>
<li><code>renderLabel()</code>: genera el título (etiqueta <code>&lt;label&gt;</code> asociada al campo)</li>
<li><code>render()</code>: genera el campo (etiqueta <code>&lt;input&gt;</code>, <code>&lt;select&gt;</code>, <code>&lt;textarea&gt;</code>, etc.)</li>
<li><code>renderError()</code>: genera los mensajes de error (en forma de lista de elementos <code>&lt;ul class="error_list"&gt;</code>)</li>
</ul>

<div class="figure" id="figure_3_6">
    <img src="/img/symfony_formularios/f0306.png" alt="Métodos disponibles para personalizar un campo" />

    <p class="caption"><strong>Figura 3.6</strong> Métodos disponibles para personalizar un campo</p>
</div>


<p>Cada uno de estos campos se explican detalladamente al final de este capítulo.</p>

<h3 id="utilizando_el_metodo_render_en_cada_campo">3.4.2. Utilizando el método <code>render()</code> en cada campo</h3>

<p>Imagina que ahora se quiere mostrar el formulario en dos columnas. Como se ve en la figura 3-7, los campos <code>nombre</code> y <code>email</code> se muestran en la misma fila, mientras que los campos <code>asunto</code> y <code>mensaje</code> se muestran cada uno en su propia fila.</p>

<div class="figure" id="figure_3_7">
    <img src="/img/symfony_formularios/f0307.png" alt="Mostrando un formulario en varias columnas" />

    <p class="caption"><strong>Figura 3.7</strong> Mostrando un formulario en varias columnas</p>
</div>


<p>Para conseguir esa estructura es necesario generar de forma individual cada campo del formulario. Como ya se ha comentado, el objeto <code>formulario</code> permite el acceso a cada campo como si fuera un array asociativo. El campo <code>email</code> por ejemplo se puede acceder mediante <code>$formulario['email']</code>. El listado 3-6 muestra cómo crear un formulario con dos columnas.</p>

<p><strong>Listado 3-6 - Mostrar el formulario en dos columnas</strong></p>

<div class="code php">
<pre class="php">&lt;form action=&quot;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> url_for<span class="br0">&#40;</span><span class="st_h">'contacto/index'</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>&quot; method=&quot;POST&quot;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;th&gt;Nombre:&lt;/th&gt;
      &lt;td&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'nombre'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">render</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>&lt;/td&gt;
      &lt;th&gt;Email:&lt;/th&gt;
      &lt;td&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">render</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;Asunto:&lt;/th&gt;
      &lt;td colspan=&quot;3&quot;&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'asunto'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">render</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;Mensaje:&lt;/th&gt;
      &lt;td colspan=&quot;3&quot;&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'mensaje'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">render</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td colspan=&quot;4&quot;&gt;
        &lt;input type=&quot;submit&quot; /&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/form&gt;</pre>
</div>

<p>De la misma forma que no es obligatorio indicar explícitamente el método <code>render()</code> sobre el formulario, tampoco es obligatorio indicarlo sobre cada campo, de forma que se puede reescribir la plantilla como muesta el listado 3-7.</p>

<p><strong>Listado 3-7 - Simplificando el formulario a dos columnas</strong></p>

<div class="code php">
<pre class="php">&lt;form action=&quot;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> url_for<span class="br0">&#40;</span><span class="st_h">'contacto/index'</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>&quot; method=&quot;POST&quot;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;th&gt;Nombre:&lt;/th&gt;
      &lt;td&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'nombre'</span><span class="br0">&#93;</span> <span class="sy1">?&gt;</span>&lt;/td&gt;
      &lt;th&gt;Email:&lt;/th&gt;
      &lt;td&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span> <span class="sy1">?&gt;</span>&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;Asunto:&lt;/th&gt;
      &lt;td colspan=&quot;3&quot;&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'asunto'</span><span class="br0">&#93;</span> <span class="sy1">?&gt;</span>&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;Mensaje:&lt;/th&gt;
      &lt;td colspan=&quot;3&quot;&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'mensaje'</span><span class="br0">&#93;</span> <span class="sy1">?&gt;</span>&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td colspan=&quot;4&quot;&gt;
        &lt;input type=&quot;submit&quot; /&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/form&gt;</pre>
</div>

<p>Al igual que el formulario, cada campo se puede personalizar pasando un array con atributos HTML al método <code>render()</code>. El listado 3-8 muestra cómo modificar el atributo <code>class</code> del campo <code>email</code>.</p>

<p><strong>Listado 3-8 - Modificando los atributos HTML con el método <code>render()</code></strong></p>

<div class="code php">
<pre class="php"><span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">render</span><span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'class'</span> <span class="sy0">=&gt;</span> <span class="st_h">'email'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
&nbsp;
// Código HTML generado
&lt;input type=&quot;text&quot; nombre=&quot;contacto[email]&quot; class=&quot;email&quot; id=&quot;contacto_email&quot; /&gt;</pre>
</div>

<h3 id="utilizando_el_metodo_renderlabel_en_cada_campo">3.4.3. Utilizando el método <code>renderLabel()</code> en cada campo</h3>

<p>En el ejemplo anterior no se han generado títulos o <em>labels</em> durante la personalización del formulario. El listado 3-9 utiliza el método <code>renderLabel()</code> para generar un título para cada campo.</p>

<p><strong>Listado 3-9 - Utilizando el método <code>renderLabel()</code></strong></p>

<div class="code php">
<pre class="php">&lt;form action=&quot;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> url_for<span class="br0">&#40;</span><span class="st_h">'contacto/index'</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>&quot; method=&quot;POST&quot;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;th&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'nombre'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderLabel</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>:&lt;/th&gt;
      &lt;td&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'nombre'</span><span class="br0">&#93;</span> <span class="sy1">?&gt;</span>&lt;/td&gt;
      &lt;th&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderLabel</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>:&lt;/th&gt;
      &lt;td&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span> <span class="sy1">?&gt;</span>&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'asunto'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderLabel</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>:&lt;/th&gt;
      &lt;td colspan=&quot;3&quot;&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'asunto'</span><span class="br0">&#93;</span> <span class="sy1">?&gt;</span>&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'mensaje'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderLabel</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>:&lt;/th&gt;
      &lt;td colspan=&quot;3&quot;&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'mensaje'</span><span class="br0">&#93;</span> <span class="sy1">?&gt;</span>&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td colspan=&quot;4&quot;&gt;
        &lt;input type=&quot;submit&quot; /&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/form&gt;</pre>
</div>

<p>El valor de la etiqueta <code>&lt;label&gt;</code> se genera automáticamente a partir del nombre del campo. No obstante, también es posible utilizar un título propio si se pasa como argumento al método <code>renderLabel()</code>, como se muestra en el listado 3-10.</p>

<p><strong>Listado 3-10 - Modificando el título del campo</strong></p>

<div class="code php">
<pre class="php"><span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'mensaje'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderLabel</span><span class="br0">&#40;</span><span class="st_h">'Tu mensaje'</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
&nbsp;
// Código HTML generado
&lt;label for=&quot;contacto_mensaje&quot;&gt;Tu mensaje&lt;/label&gt;</pre>
</div>

<p>¿Por qué se utiliza el método <code>renderLabel()</code> pasándole el título como argumento? ¿Por qué no se utiliza una etiqueta <code>&lt;label&gt;</code> de HTML en su lugar? El motivo es que el método <code>renderLabel()</code> genera una etiqueta <code>&lt;label&gt;</code> y le añade de forma automática un atributo <code>for</code> para asociarlo al campo de formulario mediante el atributo <code>id</code>. De esta forma te aseguras que el campo sea accesible ya que cuando se pulsa sobre la etiqueta, el campo se selecciona de forma automática:</p>

<div class="code html5">
<pre class="html5"><span class="sc2">&lt;<span class="kw2">label</span> <span class="kw3">for</span><span class="sy0">=</span><span class="st0">&quot;contacto_email&quot;</span>&gt;</span>Email<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">label</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">input</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> nombre<span class="sy0">=</span><span class="st0">&quot;contacto[email]&quot;</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;contacto_email&quot;</span> <span class="sy0">/</span>&gt;</span></pre>
</div>

<p>Además, se pueden añadir atributos HTML pasando un segundo argumento al método <code>renderLabel()</code>:</p>

<div class="code php">
<pre class="php"><span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'enviar_notificacion'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderLabel</span><span class="br0">&#40;</span><span class="kw4">null</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'class'</span> <span class="sy0">=&gt;</span> <span class="st_h">'inline'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
&nbsp;
// Código HTML generado
&lt;label for=&quot;contacto_enviar_notificacion&quot; class=&quot;inline&quot;&gt;Enviar notificacion&lt;/label&gt;</pre>
</div>

<p>En el ejemplo anterior, el primer argumento del método es <code>null</code>, por lo que se utiliza la generación automática del texto del título.</p>

<h3 id="utilizando_el_metodo_rendererror_en_cada_campo">3.4.4. Utilizando el método <code>renderError()</code> en cada campo</h3>

<p>La plantilla, tal y como está definida ahora mismo, no tiene en cuenta los mensajes de error. El listado 3-11 vuelve a mostrar los errores utilizando el método <code>renderError()</code>.</p>

<p><strong>Listado 3-11 - Mostrando los mensjes de error con el método <code>renderError()</code></strong></p>

<div class="code php">
<pre class="php">&lt;form action=&quot;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> url_for<span class="br0">&#40;</span><span class="st_h">'contacto/index'</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>&quot; method=&quot;POST&quot;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;th&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'nombre'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderLabel</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>:&lt;/th&gt;
      &lt;td&gt;
        <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'nombre'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderError</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
        <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'nombre'</span><span class="br0">&#93;</span> <span class="sy1">?&gt;</span>
      &lt;/td&gt;
      &lt;th&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderLabel</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>:&lt;/th&gt;
      &lt;td&gt;
        <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderError</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
        <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span> <span class="sy1">?&gt;</span>
      &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'asunto'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderLabel</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>:&lt;/th&gt;
      &lt;td colspan=&quot;3&quot;&gt;
        <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'asunto'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderError</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
        <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'asunto'</span><span class="br0">&#93;</span> <span class="sy1">?&gt;</span>
      &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'mensaje'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderLabel</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>:&lt;/th&gt;
      &lt;td colspan=&quot;3&quot;&gt;
        <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'mensaje'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">renderError</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
        <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'mensaje'</span><span class="br0">&#93;</span> <span class="sy1">?&gt;</span>
      &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td colspan=&quot;4&quot;&gt;
        &lt;input type=&quot;submit&quot; /&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/form&gt;</pre>
</div>

<h3 id="personalizando_los_mensajes_de_error_hasta_el_ultimo_detalle">3.4.5. Personalizando los mensajes de error hasta el último detalle</h3>

<p>El método <code>renderError()</code> genera una lista con los errores asociados al campo del formulario. Sólo genera código HTML si el campo tiene al menos un error. Por defecto, la lista generada es de tipo lista no ordenada de HTML (<code>&lt;ul&gt;</code>).</p>

<p>Aunque este comportamiento es adecuado la mayoría de las veces, existen dos métodos llamados <code>hasError()</code> y <code>getError()</code> que permiten el acceso directo a todos los errores. El listado 3-2 muestra cómo personalizar los mensajes de error del campo <code>email</code>.</p>

<p><strong>Listado 3-12 - Accediendo a los mensajes de error</strong></p>

<div class="code php">
<pre class="php"><span class="kw2">&lt;?php</span> <span class="kw1">if</span> <span class="br0">&#40;</span><span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">hasError</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">:</span> <span class="sy1">?&gt;</span>
  &lt;ul class=&quot;error_list&quot;&gt;
    <span class="kw2">&lt;?php</span> <span class="kw1">foreach</span> <span class="br0">&#40;</span><span class="re0">$formulario</span><span class="br0">&#91;</span><span class="st_h">'email'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">getError</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw1">as</span> <span class="re0">$error</span><span class="br0">&#41;</span><span class="sy0">:</span> <span class="sy1">?&gt;</span>
      &lt;li&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$error</span> <span class="sy1">?&gt;</span>&lt;/li&gt;
    <span class="kw2">&lt;?php</span> <span class="kw1">endforeach</span><span class="sy0">;</span> <span class="sy1">?&gt;</span>
  &lt;/ul&gt;
<span class="kw2">&lt;?php</span> <span class="kw1">endif</span><span class="sy0">;</span> <span class="sy1">?&gt;</span></pre>
</div>

<p>El código del ejemplo anterior genera exactamente el mismo código HTML que la llamada al método <code>renderError()</code>.</p>

<h3 id="trabajando_con_campos_ocultos">3.4.6. Trabajando con campos ocultos</h3>

<p>En los siguientes ejemplos se supone que existe en el formulario un campo oculto obligatorio llamado <code>origen</code>. Este campo almacena la página desde la que ha llegado el usuario hasta el formulario. La instrucción <code>&lt;?php echo $formulario ?&gt;</code> genera el código HTML de los campos ocultos y lo añade después del último campo visible, tal y como se muestra en el listado 3-13.</p>

<p><strong>Listado 3-13 - Generando el código HTML de los campos ocultos</strong></p>

<div class="code php">
<pre class="php"><span class="sy0">&lt;</span>tr<span class="sy0">&gt;</span>
  <span class="sy0">&lt;</span>th<span class="sy0">&gt;&lt;</span>label <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;contacto_mensaje&quot;</span><span class="sy0">&gt;</span>Mensaje<span class="sy0">&lt;/</span>label<span class="sy0">&gt;&lt;/</span>th<span class="sy0">&gt;</span>
  <span class="sy0">&lt;</span>td<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>textarea rows<span class="sy0">=</span><span class="st0">&quot;4&quot;</span> cols<span class="sy0">=</span><span class="st0">&quot;30&quot;</span> nombre<span class="sy0">=</span><span class="st0">&quot;contacto[mensaje]&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;contacto_mensaje&quot;</span><span class="sy0">&gt;&lt;/</span>textarea<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>input type<span class="sy0">=</span><span class="st0">&quot;hidden&quot;</span> nombre<span class="sy0">=</span><span class="st0">&quot;contacto[origen]&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;contacto_origen&quot;</span> <span class="sy0">/&gt;</span>
  <span class="sy0">&lt;/</span>td<span class="sy0">&gt;</span>
<span class="sy0">&lt;/</span>tr<span class="sy0">&gt;</span></pre>
</div>

<p>Como se observa en el código generado para el campo oculto <code>origen</code>, sólo se genera la parte correspondiente a la etiqueta <code>&lt;input type="hidden"&gt;</code>. Obviamente, no tiene sentido generar el título o <em>label</em> de un campo oculto. En cuanto a los posibles errores de este campo, aunque se trata de un campo oculto, es posible que se produzcan errores debidos a cualquier problema en el código. Aunque estos errores no se asocian directamente al campo <code>origen</code>, se añaden a los errores globales. En el capítulo 5 se muestran otros casos en los que se utilizan errores globales. La figura 3-8 muestra cómo se visualizan los mensajes de error que se producen en el campo <code>origen</code> y el listado 3-14 muestra el código generado para esos errores.</p>

<div class="figure" id="figure_3_8">
    <img src="/img/symfony_formularios/f0308.png" alt="Mostrando los mensajes de error globales" />

    <p class="caption"><strong>Figura 3.8</strong> Mostrando los mensajes de error globales</p>
</div>


<p><strong>Listado 3-14 - Generando mensajes de error globales</strong></p>

<div class="code html5">
<pre class="html5"><span class="sc2">&lt;<span class="kw2">tr</span>&gt;</span>
  <span class="sc2">&lt;<span class="kw2">td</span> <span class="kw3">colspan</span><span class="sy0">=</span><span class="st0">&quot;2&quot;</span>&gt;</span>
    <span class="sc2">&lt;<span class="kw2">ul</span> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">&quot;error_list&quot;</span>&gt;</span>
      <span class="sc2">&lt;<span class="kw2">li</span>&gt;</span>Origen: Required.<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">li</span>&gt;</span>
    <span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">ul</span>&gt;</span>
  <span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">td</span>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">tr</span>&gt;</span></pre>
</div>

<div class="admonition note"><p><strong class="title">Nota</strong> Cuando personalices el diseño de un formulario, no olvides incluir los campos ocultos y los mensajes de error globales.</p></div>

<h3 id="trabajando_con_los_errores_globales">3.4.7. Trabajando con los errores globales</h3>

<p>Los formularios disponen de tres tipos de error:</p>

<ul>
<li>Errores asociados a un campo específico</li>
<li>Errores globales</li>
<li>Errores de campos ocultos (<code>&lt;input type="hidden"&gt;</code>) o de campos que no se muestran en el formulario. Estos errores se añaden a los errores globales.</li>
</ul>

<p>En las secciones anteriores ya se ha visto cómo tratar los errores asociados a los campos y el listado 3-15 muestra cómo tratar los mensajes de error globales.</p>

<p><strong>Listado 3-15 - Trabajando con mensajes de error globales</strong></p>

<div class="code php">
<pre class="php">&lt;form action=&quot;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> url_for<span class="br0">&#40;</span><span class="st_h">'contacto/index'</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>&quot; method=&quot;POST&quot;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td colspan=&quot;4&quot;&gt;
        <span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$formulario</span><span class="sy0">-&gt;</span><span class="me1">renderGlobalErrors</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">?&gt;</span>
      &lt;/td&gt;
    &lt;/tr&gt;
&nbsp;
    // ...
  &lt;/table&gt;</pre>
</div>

<p>La llamada al método <code>renderGlobalErrors()</code> muestra la lista de errores globales. También es posible acceder de forma individual a los errores globales utilizando los métodos <code>hasGlobalErrors()</code> y <code>getGlobalErrors()</code>, como se muestra en el listado 3-16.</p>

<p><strong>Listado 3-16 - Personalizando los errores globales con los métodos <code>hasGlobalErrors()</code> y <code>getGlobalErrors()</code></strong></p>

<div class="code php">
<pre class="php"><span class="kw2">&lt;?php</span> <span class="kw1">if</span> <span class="br0">&#40;</span><span class="re0">$formulario</span><span class="sy0">-&gt;</span><span class="me1">hasGlobalErrors</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">:</span> <span class="sy1">?&gt;</span>
&lt;tr&gt;
  &lt;td colspan=&quot;4&quot;&gt;
    &lt;ul class=&quot;error_list&quot;&gt;
      <span class="kw2">&lt;?php</span> <span class="kw1">foreach</span> <span class="br0">&#40;</span><span class="re0">$formulario</span><span class="sy0">-&gt;</span><span class="me1">getGlobalErrors</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw1">as</span> <span class="re0">$nombre</span> <span class="sy0">=&gt;</span> <span class="re0">$error</span><span class="br0">&#41;</span><span class="sy0">:</span> <span class="sy1">?&gt;</span>
        &lt;li&gt;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$nombre</span><span class="sy0">.</span><span class="st_h">': '</span><span class="sy0">.</span><span class="re0">$error</span> <span class="sy1">?&gt;</span>&lt;/li&gt;
      <span class="kw2">&lt;?php</span> <span class="kw1">endforeach</span><span class="sy0">;</span> <span class="sy1">?&gt;</span>
    &lt;/ul&gt;
  &lt;/td&gt;
&lt;/tr&gt;
<span class="kw2">&lt;?php</span> <span class="kw1">endif</span><span class="sy0">;</span> <span class="sy1">?&gt;</span></pre>
</div>

<p>Cada error global dispone de un nombre (<code>$nombre</code> en el código anterior) y un mensaje (<code>$error</code> en el código anterior). Si el error es realmente global, el nombre siempre está vacío, pero si el error global tiene su origen en un campo oculto, el nombre es realmente el título o <em>label</em> del campo oculto.</p>

<p>Aunque la plantilla actual (figura 3-8) es equivalente a la plantilla con la que empezó este capítulo, el diseño de la nueva plantilla es completamente personalizable.</p>

<div class="figure" id="figure_3_9">
    <img src="/img/symfony_formularios/f0308.png" alt="Formulario personalizado que utiliza los métodos de los campos" />

    <p class="caption"><strong>Figura 3.9</strong> Formulario personalizado que utiliza los métodos de los campos</p>
</div>




            <div class="module module-ad module-ad-responsive module-ad-bottom">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

    
    <div id="book-pager">
        <ul class="row pager">
            <li class="col-xs-6 previous ">
                                    <a href="../capitulo_3/personalizando_la_plantilla_del_prototipo.html">
                        <strong>&larr; Anterior</strong>
                        <small>3.3. Personalizando la plantilla del prototipo</small>
                    </a>
                            </li>

            <li class="col-xs-6 next ">
                                    <a href="../capitulo_3/internacionalizacion.html">
                        <strong>Siguiente &rarr;</strong>
                        <small>3.5. Internacionalización</small>
                    </a>
                            </li>
        </ul>
    </div>

                        </div>

                    <div id="sidebar" class="col-sm-3">
                        
            <div class="module module-share">
        <h3>Compartir</h3>
        <ul>
    <li><a id="share_twitter" href="#" title="Compartir en Twitter">Twitter</a></li>
    <li><a id="share_facebook" href="#" title="Compartir en Facebook">Facebook</a></li>
    <li><a id="share_google" href="#" title="Compartir en Google+">Google+</a></li>
</ul>

<script type="text/javascript">
var title    = '{{ item_social_title }}';
var page_url = encodeURIComponent(window.location);
var options  = 'menubar=no,toolbar=no,resizable=yes,scrollbars=no,width=640,height=350';
var services = {
    share_twitter:  'https://twitter.com/share?text=' + title + '&lang=es',
    share_facebook: 'http://www.facebook.com/sharer.php?u=' + page_url + '&t=' + title,
    share_google:   'https://plus.google.com/share?url=' + page_url + '&hl=es'
};

for (var id in services) {
    if (services.hasOwnProperty(id)) {
        document.getElementById(id).href = services[id];
        document.getElementById(id).onclick = function(a) {
            a = a || window.event;
            a = a.target || a.srcElement;

            ga('send', 'social', {
                'socialNetwork' : a.id.substr(6),
                'socialAction'  : 'share',
                'socialTarget'  : window.location
            });

            window.open(services[a.id], a.title, options);

            return false;
        };
    }
}
</script>

    </div>

            <div class="module module-ad module-ad-responsive module-ad-sidebar">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

    
    <div id="book-toc" class="module">
        <a id="indice"></a>

        <h3>Indice de contenidos</h3>
        <ul class="toc text-links">
                                            <li class="level-1">
                <span>1.</span> <a href="../capitulo_1.html"> Creación de formularios</a>
            </li>
                                                                                            <li class="level-1">
                <span>2.</span> <a href="../capitulo_2.html"> Validación de formularios</a>
            </li>
                                                                                                                                                            <li class="level-1 ">
                <a href="../capitulo_3.html">
                    <span>Capítulo 3.</span> Formularios para diseñadores web
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_3/antes_de_comenzar.html">
                    <span>3.1.</span> Antes de comenzar
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_3/la_plantilla_del_prototipo.html">
                    <span>3.2.</span> La plantilla del prototipo
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_3/personalizando_la_plantilla_del_prototipo.html">
                    <span>3.3.</span> Personalizando la plantilla del prototipo
                </a>
            </li>
                                            <li class="level-2 active">
                <a href="../capitulo_3/personalizando_el_diseno.html">
                    <span>3.4.</span> Personalizando el diseño
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_3/internacionalizacion.html">
                    <span>3.5.</span> Internacionalización
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_3/trabajando_con_el_programador.html">
                    <span>3.6.</span> Trabajando con el programador
                </a>
            </li>
                                            <li class="level-1">
                <span>4.</span> <a href="../capitulo_4.html"> Integración con Propel</a>
            </li>
                                                                                                                                            <li class="level-1">
                <span>5.</span> <a href="../capitulo_5.html"> Sin título</a>
            </li>
                                            <li class="level-1">
                <span>6.</span> <a href="../capitulo_6.html"> Sin título</a>
            </li>
                                            <li class="level-1">
                <span>7.</span> <a href="../capitulo_7.html"> Sin título</a>
            </li>
                                            <li class="level-1">
                <span>8.</span> <a href="../capitulo_8.html"> Internacionalización y localización</a>
            </li>
                                                                                                            <li class="level-1">
                <span>9.</span> <a href="../capitulo_9.html"> Sin título</a>
            </li>
                                            <li class="level-1">
                <span>10.</span> <a href="../capitulo_10.html"> Sin título</a>
            </li>
                                            <li class="level-1">
                <span>11.</span> <a href="../capitulo_11.html"> Integrando Doctrine</a>
            </li>
                                                                                                                            <li class="level-1">
                <span>12.</span> <a href="../capitulo_12.html"> Referencia de Widgets</a>
            </li>
                                                                                                                                                                                            <li class="level-1">
                <span>13.</span> <a href="../capitulo_13.html"> Validadores</a>
            </li>
                                                                                                                                                                        </ul>
    </div>
                    </div>
                            </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
