<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>5.3. Asociando una URI a un controlador (Symfony 2.1, el libro oficial)</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                            
        <link rel="canonical" href="/libro/symfony_2_x/capitulo_5/asociando_una_uri_a_un_controlador.html"/>
                                    <link rel="prev" href="../capitulo_5/un_controlador_sencillo.html" />
                    <link rel="next" href="../capitulo_5/la_clase_base_del_controlador.html" />
                <link rel="start" href="/libro/symfony_2_1/" />
                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="5.3. Asociando una URI a un controlador (Symfony 2.1, el libro oficial)">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-1-2" class="books book_page symfony_2_1"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                                    <div id="main" class="col-sm-9">
                        
    
    <div id="book-toc-anchor" class="well visible-xs">
        <a href="#indice">
            <i class="fa fa-book"></i> Ver índice de contenidos del libro
        </a>
    </div>

    <div id="breadcrumb" class="hidden-xs">
        <ol>
            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libros/" itemprop="url">
                    <span itemprop="title">Libros</span>
                </a>
            </li>

            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/symfony_2_1/" itemprop="url">
                    <span itemprop="title">Symfony 2.1, el libro oficial</span>
                </a>
            </li>

                    <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/symfony_2_1/capitulo_5.html" itemprop="url">
                    <span itemprop="title">Capítulo 5. El controlador</span>
                </a>
            </li>
        
            <li class="active">
                <span>5.3. Asociando una URI a un controlador</span>
            </li>
        </ol>
    </div>

    <h1 id="asociando_una_uri_a_un_controlador" class="title">
        <span>5.3.</span> Asociando una URI a un controlador
    </h1>

    

<p>El nuevo controlador devuelve una página HTML simple. Para poder probar realmente esta página en tu navegador, debes crear una ruta cuyo patrón sea la URI que quieres asociar al controlador:</p>

<div class="tabbable">
  <ul class="nav nav-tabs"><li id="select_tab_1_bceef" class="active"><a data-toggle="tab active" href="#select_tab_1_bceef" onclick="document.getElementById('select_tab_1_bceef').className='active'; document.getElementById('tab_1_bceef').className='tab-pane active';document.getElementById('select_tab_2_bceef').className='';  document.getElementById('tab_2_bceef').className='tab-pane';document.getElementById('select_tab_3_bceef').className='';  document.getElementById('tab_3_bceef').className='tab-pane';return false;">YAML</a></li><li id="select_tab_2_bceef"><a data-toggle="tab" href="#select_tab_2_bceef" onclick="document.getElementById('select_tab_1_bceef').className='';  document.getElementById('tab_1_bceef').className='tab-pane';document.getElementById('select_tab_2_bceef').className='active'; document.getElementById('tab_2_bceef').className='tab-pane active';document.getElementById('select_tab_3_bceef').className='';  document.getElementById('tab_3_bceef').className='tab-pane';return false;">XML</a></li><li id="select_tab_3_bceef"><a data-toggle="tab" href="#select_tab_3_bceef" onclick="document.getElementById('select_tab_1_bceef').className='';  document.getElementById('tab_1_bceef').className='tab-pane';document.getElementById('select_tab_2_bceef').className='';  document.getElementById('tab_2_bceef').className='tab-pane';document.getElementById('select_tab_3_bceef').className='active'; document.getElementById('tab_3_bceef').className='tab-pane active';return false;">PHP</a></li></ul>
  <div class="tab-content">
    <div class="tab-pane active" id="tab_1_bceef">
<div class="code yaml">
<pre class="yaml"><span class="co1"># app/config/routing.yml</span><span class="co4">
hello</span>:<span class="co3">
    pattern</span><span class="sy2">: </span>     /hello/<span class="br0">&#123;</span>name<span class="br0">&#125;</span><span class="co3">
    defaults</span><span class="sy2">: </span>    <span class="br0">&#123;</span> _controller<span class="sy2">: </span>AcmeHelloBundle:Hello:index <span class="br0">&#125;</span></pre>
</div>
</div>


<div class="tab-pane" id="tab_2_bceef">
<div class="code xml">
<pre class="xml"><span class="sc-1">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="sc3"><span class="re1">&lt;route</span> <span class="re0">id</span>=<span class="st0">&quot;hello&quot;</span> <span class="re0">pattern</span>=<span class="st0">&quot;/hello/{name}&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;default</span> <span class="re0">key</span>=<span class="st0">&quot;_controller&quot;</span><span class="re2">&gt;</span></span>AcmeHelloBundle:Hello:index<span class="sc3"><span class="re1">&lt;/default<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/route<span class="re2">&gt;</span></span></span></pre>
</div>
</div>


<div class="tab-pane" id="tab_3_bceef">
<div class="code php">
<pre class="php"><span class="co1">// app/config/routing.php</span>
<span class="re0">$collection</span><span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'hello'</span><span class="sy0">,</span> <span class="kw2">new</span> Route<span class="br0">&#40;</span><span class="st_h">'/hello/{name}'</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span>
    <span class="st_h">'_controller'</span> <span class="sy0">=&gt;</span> <span class="st_h">'AcmeHelloBundle:Hello:index'</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>
</div>

  </div>
</div>

<p>Ahora, al acceder a la URI <code>/hello/ryan</code> se ejecuta el controlador <code>HelloController::indexAction()</code> y se pasa el valor <code>ryan</code> como una variable llamada <code>$name</code>. De nuevo, crear una página significa simplemente que debes crear un método controlador y una ruta asociada.</p>

<p>Observa la sintaxis utilizada para referirse al controlador: <code>AcmeHelloBundle:Hello:index</code>.
Symfony2 utiliza esta notación corta para referirse a los controladores. Se trata de la sintaxis recomendada y le dice a Symfony2 que busque una clase controlador llamada <code>HelloController</code> dentro de un paquete llamado <code>AcmeHelloBundle</code> y que después ejecute el método <code>indexAction()</code>.</p>

<div class="admonition note"><p><strong class="title">Nota</strong> Este ejemplo define la configuración de enrutamiento directamente en el directorio <code>app/config/</code>. Una mejor manera de organizar tus rutas es colocar cada una en el bundle al que pertenece.</p></div>

<div class="admonition tip"><p><strong class="title">Truco</strong> Puedes aprender mucho más sobre el sistema de enrutado en el capítulo de enrutamiento.</p></div>

<h3 id="parametros_de_la_ruta_como_argumentos_del_controlador">5.3.1.  Parámetros de la ruta como argumentos del controlador</h3>

<p>Como ya se explicó anteriormente, el valor <code>AcmeHelloBundle:Hello:index</code> del parámetro <code>_controller</code> se refiere al método <code>HelloController::indexAction()</code> del bundle <code>AcmeHelloBundle</code>. Lo más interesante son los argumentos que se pasan a ese método:</p>

<div class="code php">
<pre class="php"><span class="kw2">&lt;?php</span>
<span class="co1">// src/Acme/HelloBundle/Controller/HelloController.php</span>
&nbsp;
<span class="kw2">namespace</span> Acme\HelloBundle\Controller<span class="sy0">;</span>
<span class="kw2">use</span> Symfony\Bundle\FrameworkBundle\Controller\Controller<span class="sy0">;</span>
&nbsp;
<span class="kw2">class</span> HelloController <span class="kw2">extends</span> Controller
<span class="br0">&#123;</span>
    <span class="kw2">public</span> <span class="kw2">function</span> indexAction<span class="br0">&#40;</span><span class="re0">$name</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
      <span class="co1">// ...</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
</div>

<p>El controlador anterior tiene un solo argumento, llamado <code>$name</code>, cuyo valor corresponde al parámetro <code>{name}</code> de la ruta asociada (este valor es <code>ryan</code> en nuestro ejemplo). De hecho, cuando ejecutas tu controlador, Symfony2 asocia cada argumento del controlador con un parámetro de la ruta. Considera el siguiente ejemplo:</p>

<div class="tabbable">
  <ul class="nav nav-tabs"><li id="select_tab_1_bd041" class="active"><a data-toggle="tab active" href="#select_tab_1_bd041" onclick="document.getElementById('select_tab_1_bd041').className='active'; document.getElementById('tab_1_bd041').className='tab-pane active';document.getElementById('select_tab_2_bd041').className='';  document.getElementById('tab_2_bd041').className='tab-pane';document.getElementById('select_tab_3_bd041').className='';  document.getElementById('tab_3_bd041').className='tab-pane';return false;">YAML</a></li><li id="select_tab_2_bd041"><a data-toggle="tab" href="#select_tab_2_bd041" onclick="document.getElementById('select_tab_1_bd041').className='';  document.getElementById('tab_1_bd041').className='tab-pane';document.getElementById('select_tab_2_bd041').className='active'; document.getElementById('tab_2_bd041').className='tab-pane active';document.getElementById('select_tab_3_bd041').className='';  document.getElementById('tab_3_bd041').className='tab-pane';return false;">XML</a></li><li id="select_tab_3_bd041"><a data-toggle="tab" href="#select_tab_3_bd041" onclick="document.getElementById('select_tab_1_bd041').className='';  document.getElementById('tab_1_bd041').className='tab-pane';document.getElementById('select_tab_2_bd041').className='';  document.getElementById('tab_2_bd041').className='tab-pane';document.getElementById('select_tab_3_bd041').className='active'; document.getElementById('tab_3_bd041').className='tab-pane active';return false;">PHP</a></li></ul>
  <div class="tab-content">
    <div class="tab-pane active" id="tab_1_bd041">
<div class="code yaml">
<pre class="yaml"><span class="co1"># app/config/routing.yml</span><span class="co4">
hello</span>:<span class="co3">
    pattern</span><span class="sy2">: </span>     /hello/<span class="br0">&#123;</span>first_name<span class="br0">&#125;</span>/<span class="br0">&#123;</span>last_name<span class="br0">&#125;</span><span class="co3">
    defaults</span><span class="sy2">: </span>    <span class="br0">&#123;</span> _controller<span class="sy2">: </span>AcmeHelloBundle:Hello:index, color<span class="sy2">: </span>green <span class="br0">&#125;</span></pre>
</div>
</div>


<div class="tab-pane" id="tab_2_bd041">
<div class="code xml">
<pre class="xml"><span class="sc-1">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="sc3"><span class="re1">&lt;route</span> <span class="re0">id</span>=<span class="st0">&quot;hello&quot;</span> <span class="re0">pattern</span>=<span class="st0">&quot;/hello/{first_name}/{last_name}&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;default</span> <span class="re0">key</span>=<span class="st0">&quot;_controller&quot;</span><span class="re2">&gt;</span></span>AcmeHelloBundle:Hello:index<span class="sc3"><span class="re1">&lt;/default<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;default</span> <span class="re0">key</span>=<span class="st0">&quot;color&quot;</span><span class="re2">&gt;</span></span>green<span class="sc3"><span class="re1">&lt;/default<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/route<span class="re2">&gt;</span></span></span></pre>
</div>
</div>


<div class="tab-pane" id="tab_3_bd041">
<div class="code php">
<pre class="php"><span class="co1">// app/config/routing.php</span>
<span class="re0">$collection</span><span class="sy0">-&gt;</span><span class="me1">add</span><span class="br0">&#40;</span><span class="st_h">'hello'</span><span class="sy0">,</span> <span class="kw2">new</span> Route<span class="br0">&#40;</span><span class="st_h">'/hello/{first_name}/{last_name}'</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span>
    <span class="st_h">'_controller'</span> <span class="sy0">=&gt;</span> <span class="st_h">'AcmeHelloBundle:Hello:index'</span><span class="sy0">,</span>
    <span class="st_h">'color'</span>       <span class="sy0">=&gt;</span> <span class="st_h">'green'</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>
</div>

  </div>
</div>

<p>Ahora el controlador admite varios argumentos:</p>

<div class="code php">
<pre class="php"><span class="kw2">public</span> <span class="kw2">function</span> indexAction<span class="br0">&#40;</span><span class="re0">$first_name</span><span class="sy0">,</span> <span class="re0">$last_name</span><span class="sy0">,</span> <span class="re0">$color</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="co1">// ...</span>
<span class="br0">&#125;</span></pre>
</div>

<p>Las variables <code>{first_name}</code> y <code>{last_name}</code> de la ruta se llaman <em>placeholders</em>, ya que <em>"guardan el sitio"</em> para que cualquier valor sustituya esa variable. Por otra parte, la variable <code>color</code> es una variable de tipo <em>default</em>, ya que su valor siempre está definido para todas las rutas.</p>

<p>Independientemente del tipo de variable, los valores de <code>{first_name}</code>, <code>{last_name}</code> y <code>color</code> están disponibles en el controlador. Cuando se ejecuta una ruta, tanto los <em>placeholders</em> como las variables por defecto se fusionan en un único array que se pasa al controlador.</p>

<p>Asociar parámetros de la ruta a los argumentos del controlador es bastante fácil y flexible. Pero debes tener en cuenta las siguientes pautas mientras desarrollas.</p>

<p><strong>1. El orden de los argumentos del controlador no importa:</strong></p>

<p>Symfony2 es capaz de asociar los nombres de los parámetros de la ruta con los nombres de las variables en la declaración del método controlador. En otras palabras, se da cuenta de que el parámetro <code>{last_name}</code> coincide con el argumento <code>$last_name</code>.</p>

<p>Así que puedes cambiar el orden de los argumentos como quieras y todo seguirá funcionando bien:</p>

<div class="code php">
<pre class="php"><span class="kw2">public</span> <span class="kw2">function</span> indexAction<span class="br0">&#40;</span><span class="re0">$last_name</span><span class="sy0">,</span> <span class="re0">$color</span><span class="sy0">,</span> <span class="re0">$first_name</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="co1">// ...</span>
<span class="br0">&#125;</span></pre>
</div>

<p><strong>2. Cada argumento obligatorio del controlador debe tener asociado un parámetro en la ruta</strong></p>

<p>El siguiente código producirá una excepción de tipo <code>RuntimeException</code> porque no hay ningún parámetro <code>foo</code> definido en la ruta:</p>

<div class="code php">
<pre class="php"><span class="kw2">public</span> <span class="kw2">function</span> indexAction<span class="br0">&#40;</span><span class="re0">$first_name</span><span class="sy0">,</span> <span class="re0">$last_name</span><span class="sy0">,</span> <span class="re0">$color</span><span class="sy0">,</span> <span class="re0">$foo</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="co1">// ...</span>
<span class="br0">&#125;</span></pre>
</div>

<p>Sin embargo, es perfectamente válido hacer que el argumento sea opcional. El siguiente ejemplo no lanzará una excepción:</p>

<div class="code php">
<pre class="php"><span class="kw2">public</span> <span class="kw2">function</span> indexAction<span class="br0">&#40;</span><span class="re0">$first_name</span><span class="sy0">,</span> <span class="re0">$last_name</span><span class="sy0">,</span> <span class="re0">$color</span><span class="sy0">,</span> <span class="re0">$foo</span> <span class="sy0">=</span> <span class="st_h">'bar'</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="co1">// ...</span>
<span class="br0">&#125;</span></pre>
</div>

<p><strong>3. No todos los parámetros de la ruta deben ser argumentos en tu controlador</strong></p>

<p>Si por ejemplo, <code>last_name</code> no es tan importante para tu controlador, lo puedes omitir por completo:</p>

<div class="code php">
<pre class="php"><span class="kw2">public</span> <span class="kw2">function</span> indexAction<span class="br0">&#40;</span><span class="re0">$first_name</span><span class="sy0">,</span> <span class="re0">$color</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="co1">// ...</span>
<span class="br0">&#125;</span></pre>
</div>

<div class="admonition tip"><p><strong class="title">Truco</strong> Todas las rutas incluyen además un parámetro especial llamado <code>_route</code>, que guarda el nombre de la propia ruta (en este ejemplo, <code>hello</code>). Normalmente no se utiliza, pero también está disponible como argumento del controlador.</p></div>

<h3 id="el_objeto_request_como_argumento_del_controlador">5.3.2. El objeto <code>Request</code> como argumento del controlador</h3>

<p>Suele ser muy útil disponer en el controlador del objeto <code>Request</code> asociado a la petición del usuario, especialmente cuando trabajas con formularios. Para hacer que Symfony pase este objeto automáticamente como argumento del controlador, utiliza el siguiente código:</p>

<div class="code php">
<pre class="php"><span class="kw2">use</span> Symfony\Component\HttpFoundation\Request<span class="sy0">;</span>
&nbsp;
<span class="kw2">public</span> <span class="kw2">function</span> updateAction<span class="br0">&#40;</span>Request <span class="re0">$request</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="re0">$form</span> <span class="sy0">=</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">createForm</span><span class="br0">&#40;</span><span class="sy0">...</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="re0">$form</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="re0">$request</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// ...</span>
<span class="br0">&#125;</span></pre>
</div>



    
    <div id="book-pager">
        <ul class="row pager">
            <li class="col-xs-6 previous ">
                                    <a href="../capitulo_5/un_controlador_sencillo.html">
                        <strong>&larr; Anterior</strong>
                        <small>5.2. Un controlador sencillo</small>
                    </a>
                            </li>

            <li class="col-xs-6 next ">
                                    <a href="../capitulo_5/la_clase_base_del_controlador.html">
                        <strong>Siguiente &rarr;</strong>
                        <small>5.4. La clase base del controlador</small>
                    </a>
                            </li>
        </ul>
    </div>

                        </div>

                    <div id="sidebar" class="col-sm-3">
                        
            <div class="module module-share">
        <h3>Compartir</h3>
        <ul>
    <li><a id="share_twitter" href="#" title="Compartir en Twitter">Twitter</a></li>
    <li><a id="share_facebook" href="#" title="Compartir en Facebook">Facebook</a></li>
    <li><a id="share_google" href="#" title="Compartir en Google+">Google+</a></li>
</ul>

<script type="text/javascript">
var title    = '{{ item_social_title }}';
var page_url = encodeURIComponent(window.location);
var options  = 'menubar=no,toolbar=no,resizable=yes,scrollbars=no,width=640,height=350';
var services = {
    share_twitter:  'https://twitter.com/share?text=' + title + '&lang=es',
    share_facebook: 'http://www.facebook.com/sharer.php?u=' + page_url + '&t=' + title,
    share_google:   'https://plus.google.com/share?url=' + page_url + '&hl=es'
};

for (var id in services) {
    if (services.hasOwnProperty(id)) {
        document.getElementById(id).href = services[id];
        document.getElementById(id).onclick = function(a) {
            a = a || window.event;
            a = a.target || a.srcElement;

            ga('send', 'social', {
                'socialNetwork' : a.id.substr(6),
                'socialAction'  : 'share',
                'socialTarget'  : window.location
            });

            window.open(services[a.id], a.title, options);

            return false;
        };
    }
}
</script>

    </div>

            <div class="module module-ad module-ad-responsive module-ad-sidebar">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

    
    <div id="book-toc" class="module">
        <a id="indice"></a>

        <h3>Indice de contenidos</h3>
        <ul class="toc text-links">
                                            <li class="level-1">
                <span>1.</span> <a href="../capitulo_1.html"> Symfony2 y los fundamentos de HTTP</a>
            </li>
                                                                                                                            <li class="level-1">
                <span>2.</span> <a href="../capitulo_2.html"> De PHP a Symfony2</a>
            </li>
                                                                                                            <li class="level-1">
                <span>3.</span> <a href="../capitulo_3.html"> Instalando y configurando Symfony2</a>
            </li>
                                                                                            <li class="level-1">
                <span>4.</span> <a href="../capitulo_4.html"> Creando páginas en Symfony2</a>
            </li>
                                                                                                                                                            <li class="level-1 ">
                <a href="../capitulo_5.html">
                    <span>Capítulo 5.</span> El controlador
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_5/ciclo_de_vida_de_la_peticion_controlador_respuesta.html">
                    <span>5.1.</span> Ciclo de vida de la petición, controlador, respuesta
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_5/un_controlador_sencillo.html">
                    <span>5.2.</span> Un controlador sencillo
                </a>
            </li>
                                            <li class="level-2 active">
                <a href="../capitulo_5/asociando_una_uri_a_un_controlador.html">
                    <span>5.3.</span> Asociando una URI a un controlador
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_5/la_clase_base_del_controlador.html">
                    <span>5.4.</span> La clase base del controlador
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_5/tareas_comunes_del_controlador.html">
                    <span>5.5.</span> Tareas comunes del controlador
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_5/gestionando_errores_y_paginas_404.html">
                    <span>5.6.</span> Gestionando errores y páginas 404
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_5/gestionando_la_sesion.html">
                    <span>5.7.</span> Gestionando la sesión
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_5/el_objeto_response.html">
                    <span>5.8.</span> El objeto <code>Response</code>
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_5/el_objeto_request.html">
                    <span>5.9.</span> El objeto <code>Request</code>
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_5/resumen.html">
                    <span>5.10.</span> Resumen
                </a>
            </li>
                                            <li class="level-1">
                <span>6.</span> <a href="../capitulo_6.html"> El enrutamiento</a>
            </li>
                                                                                                                                                                                            <li class="level-1">
                <span>7.</span> <a href="../capitulo_7.html"> Creando y utilizando plantillas</a>
            </li>
                                                                                                                                                                                                                                                                            <li class="level-1">
                <span>8.</span> <a href="../capitulo_8.html"> La base de datos y Doctrine</a>
            </li>
                                                                                                                                                                                            <li class="level-1">
                <span>9.</span> <a href="../capitulo_9.html"> La base de datos y Propel</a>
            </li>
                                            <li class="level-1">
                <span>10.</span> <a href="../capitulo_10.html"> Tests unitarios y funcionales</a>
            </li>
                                                                                                                                            <li class="level-1">
                <span>11.</span> <a href="../capitulo_11.html"> Validación</a>
            </li>
                                                                                                                                                                                            <li class="level-1">
                <span>12.</span> <a href="../capitulo_12.html"> Formularios</a>
            </li>
                                                                                                                                                                                                                                                            <li class="level-1">
                <span>13.</span> <a href="../capitulo_13.html"> Seguridad</a>
            </li>
                                                                                                                                                                                                                                            <li class="level-1">
                <span>14.</span> <a href="../capitulo_14.html"> La caché de HTTP</a>
            </li>
                                                                                                                                                            <li class="level-1">
                <span>15.</span> <a href="../capitulo_15.html"> Internacionalización</a>
            </li>
                                                                                                                                                                                                                            <li class="level-1">
                <span>16.</span> <a href="../capitulo_16.html"> El contenedor de servicios</a>
            </li>
                                                                                                                                                                                                            <li class="level-1">
                <span>17.</span> <a href="../capitulo_17.html"> Mejorando el rendimiento</a>
            </li>
                                                                                                            <li class="level-1">
                <span>18.</span> <a href="../capitulo_18.html"> El interior de Symfony2</a>
            </li>
                                                                                                            <li class="level-1">
                <span>19.</span> <a href="../capitulo_19.html"> La API estable de Symfony2</a>
            </li>
                        </ul>
    </div>
                    </div>
                            </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
