<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>1.10. Rollovers y sprites (CSS avanzado)</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                                                    <link rel="prev" href="../capitulo_1/esquinas_redondeadas.html" />
                    <link rel="next" href="../capitulo_1/texto.html" />
                <link rel="start" href="/libro/css_avanzado/" />
                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="1.10. Rollovers y sprites (CSS avanzado)">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-1-2" class="books book_page css_avanzado"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                                    <div id="main" class="col-sm-9">
                        
    
    <div id="book-toc-anchor" class="well visible-xs">
        <a href="#indice">
            <i class="fa fa-book"></i> Ver índice de contenidos del libro
        </a>
    </div>

    <div id="breadcrumb" class="hidden-xs">
        <ol>
            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libros/" itemprop="url">
                    <span itemprop="title">Libros</span>
                </a>
            </li>

            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/css_avanzado/" itemprop="url">
                    <span itemprop="title">CSS avanzado</span>
                </a>
            </li>

                    <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/css_avanzado/capitulo_1.html" itemprop="url">
                    <span itemprop="title">Capítulo 1. Técnicas imprescindibles</span>
                </a>
            </li>
        
            <li class="active">
                <span>1.10. Rollovers y sprites</span>
            </li>
        </ol>
    </div>

    <h1 id="rollovers_y_sprites" class="title">
        <span>1.10.</span> Rollovers y sprites
    </h1>

    

<p>Según varios estudios realizados por Yahoo!, hasta el 80% de la mejora en el rendimiento de la descarga de páginas web depende de la parte del cliente. En el artículo <em><a href="http://yuiblog.com/blog/2006/11/28/performance-research-part-1/">Performance Research, Part 1: What the 80/20 Rule Tells Us about Reducing HTTP Requests</a></em> Yahoo! explica que generar dinámicamente el código HTML de la página y servirla ocupa el 20% del tiempo total de descarga de la página. El 80% del tiempo restante los navegadores descargan las imágenes, archivos JavaScript, hojas de estilos y cualquier otro tipo de archivo enlazado.</p>

<p>Además, en la mayoría de páginas web <em>normales</em>, la mayor parte de ese 80% del tiempo se dedica a la descarga de las imágenes. Por tanto, aunque los mayores esfuerzos siempre se centran en reducir el tiempo de generación dinámica de las páginas, se consigue más y con menos esfuerzo mejorando la descarga de las imágenes.</p>

<p>La idea para mejorar el rendimiento de una página que descarga por ejemplo 15 imágenes consiste en crear una única imagen grande que incluya las 15 imágenes individuales y utilizar las propiedades CSS de las imágenes de fondo para mostrar cada imagen. Esta técnica se presentó en el artículo <em><a href="http://www.alistapart.com/articles/sprites">CSS Sprites: Image Slicing’s Kiss of Death</a></em> y desde entonces se conoce con el nombre de <em>sprites CSS</em>.</p>

<p>El siguiente ejemplo explica el uso de los <em>sprites CSS</em> en un sitio web que muestra la previsión meteorológica de varias localidades utilizando iconos:</p>

<div class="figure" id="figure_1_8">
    <img src="/img/css_avanzado/f0108.png" alt="Aspecto de la previsión meteorológica mostrada con iconos" />

    <p class="caption"><strong>Figura 1.8</strong> Aspecto de la previsión meteorológica mostrada con iconos</p>
</div>


<p>La solución tradicional para crear la página anterior consiste en utilizar cuatro elementos <code>&lt;img&gt;</code> en el código HTML y disponer de cuatro imágenes correspondientes a los cuatro iconos:</p>

<div class="code html5">
<pre class="html5"><span class="sc2">&lt;<span class="kw2">h3</span>&gt;</span>Previsiones meteorológicas<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">h3</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;localidad1&quot;</span>&gt;&lt;<span class="kw2">img</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;imagenes/sol.png&quot;</span> <span class="sy0">/</span>&gt;</span> Localidad 1: soleado, máx: 35º, mín: 23º<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;localidad2&quot;</span>&gt;&lt;<span class="kw2">img</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;imagenes/sol_nubes.png&quot;</span> <span class="sy0">/</span>&gt;</span> Localidad 2: nublado, máx: 25º, mín: 13º<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;localidad3&quot;</span>&gt;&lt;<span class="kw2">img</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;imagenes/nubes.png&quot;</span> <span class="sy0">/</span>&gt;</span> Localidad 3: muy nublado, máx: 22º, mín: 10º<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;localidad4&quot;</span>&gt;&lt;<span class="kw2">img</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;imagenes/tormentas.png&quot;</span> <span class="sy0">/</span>&gt;</span> Localidad 4: tormentas, máx: 23º, mín: 11º<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span></pre>
</div>

<p>Aunque es una solución sencilla y que funciona muy bien, se trata de una solución completamente ineficiente. El navegador debe descargar cuatro imágenes diferentes para mostrar la página, por lo que debe realizar cuatro peticiones al servidor.</p>

<p>Después del tamaño de los archivos descargados, el número de peticiones realizadas al servidor es el factor que más penaliza el rendimiento en la descarga de páginas web. Utilizando la técnica de los <em>sprites CSS</em> se va a rehacer el ejemplo anterior para conseguir el mismo efecto con una sola imagen y por tanto, una sola petición al servidor.</p>

<p>El primer paso consiste en crear una imagen grande que incluya las cuatro imágenes individuales. Como los iconos son cuadrados de tamaño <code>32px</code>, se crea una imagen de <code>32px</code> x <code>128px</code>:</p>

<div class="figure" id="figure_1_9">
    <img src="/img/css_avanzado/f0109.png" alt="Creando un sprite de CSS a partir de varias imágenes individuales" />

    <p class="caption"><strong>Figura 1.9</strong> Creando un sprite de CSS a partir de varias imágenes individuales</p>
</div>


<p>Para facilitar el uso de esta técnica, todas las imágenes individuales ocupan el mismo sitio dentro de la imagen grande. De esta forma, los cálculos necesarios para desplazar la imagen de fondo se simplifican al máximo.</p>

<p>El siguiente paso consiste en simplificar el código HTML:</p>

<div class="code html5">
<pre class="html5"><span class="sc2">&lt;<span class="kw2">h3</span>&gt;</span>Previsiones meteorológicas<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">h3</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;localidad1&quot;</span>&gt;</span>Localidad 1: soleado, máx: 35º, mín: 23º<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;localidad2&quot;</span>&gt;</span>Localidad 2: nublado, máx: 25º, mín: 13º<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;localidad3&quot;</span>&gt;</span>Localidad 3: muy nublado, máx: 22º, mín: 10º<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;localidad4&quot;</span>&gt;</span>Localidad 4: tormentas, máx: 23º, mín: 11º<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span></pre>
</div>

<p>La clave de la técnica de los <em>sprites CSS</em> consiste en mostrar las imágenes mediante la propiedad <code>background-image</code>. Para mostrar cada vez una imagen diferente, se utiliza la propiedad <code>background-position</code> que desplaza la imagen de fondo teniendo en cuenta la posición de cada imagen individual dentro de la imagen grande:</p>

<div class="code css">
<pre class="css"><span class="re0">#localidad1</span><span class="sy0">,</span> <span class="re0">#localidad2</span><span class="sy0">,</span> <span class="re0">#localidad3</span><span class="sy0">,</span> <span class="re0">#localidad4</span> <span class="br0">&#123;</span>
  <span class="kw1">padding-left</span><span class="sy0">:</span> <span class="re3">38px</span><span class="sy0">;</span>
  <span class="kw1">height</span><span class="sy0">:</span> <span class="re3">32px</span><span class="sy0">;</span>
  <span class="kw1">line-height</span><span class="sy0">:</span> <span class="re3">32px</span><span class="sy0">;</span>
  <span class="kw1">background-image</span><span class="sy0">:</span> <span class="kw2">url</span><span class="br0">&#40;</span><span class="st0">&quot;imagenes/sprite.png&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="kw1">background-repeat</span><span class="sy0">:</span> <span class="kw2">no-repeat</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="re0">#localidad1</span> <span class="br0">&#123;</span>
  <span class="kw1">background-position</span><span class="sy0">:</span> <span class="nu0">0</span> <span class="nu0">0</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
<span class="re0">#localidad2</span> <span class="br0">&#123;</span>
  <span class="kw1">background-position</span><span class="sy0">:</span> <span class="nu0">0</span> <span class="re3">-32px</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
<span class="re0">#localidad3</span> <span class="br0">&#123;</span>
  <span class="kw1">background-position</span><span class="sy0">:</span> <span class="nu0">0</span> <span class="re3">-64px</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
<span class="re0">#localidad4</span> <span class="br0">&#123;</span>
  <span class="kw1">background-position</span><span class="sy0">:</span> <span class="nu0">0</span> <span class="re3">-96px</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
</div>

<p>La siguiente imagen muestra lo que sucede con el segundo párrafo:</p>

<div class="figure" id="figure_1_10">
    <img src="/img/css_avanzado/f0110.png" alt="Funcionamiento de la técnica de los sprites CSS" />

    <p class="caption"><strong>Figura 1.10</strong> Funcionamiento de la técnica de los sprites CSS</p>
</div>


<p>El párrafo tiene establecida una altura de <code>32px</code>, idéntica al tamaño de los iconos. Después de añadir un <code>padding-left</code> al párrafo, se añade la imagen de fondo mediante <code>background-image</code>. Para cambiar de una imagen a otra, sólo es necesario desplazar de forma ascendente o descendente la imagen grande.</p>

<p>Si se quiere mostrar la segunda imagen, se desplaza de forma ascendente la imagen grande. Para desplazarla en ese sentido, se utilizan valores negativos en el valor indicado en la propiedad <code>background-position</code>. Por último, como la imagen grande ha sido especialmente preparada, se sabe que el desplazamiento necesario son <code>32</code> píxel, por lo que la regla CSS de este segundo elemento resulta en:</p>

<div class="code css">
<pre class="css"><span class="re0">#localidad2</span> <span class="br0">&#123;</span>
  <span class="kw1">padding-left</span><span class="sy0">:</span> <span class="re3">38px</span><span class="sy0">;</span>
  <span class="kw1">height</span><span class="sy0">:</span> <span class="re3">32px</span><span class="sy0">;</span>
  <span class="kw1">line-height</span><span class="sy0">:</span> <span class="re3">32px</span><span class="sy0">;</span>
  <span class="kw1">background-image</span><span class="sy0">:</span> <span class="kw2">url</span><span class="br0">&#40;</span><span class="st0">&quot;imagenes/sprite.png&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="kw1">background-repeat</span><span class="sy0">:</span> <span class="kw2">no-repeat</span><span class="sy0">;</span>
  <span class="kw1">background-position</span><span class="sy0">:</span> <span class="nu0">0</span> <span class="re3">-32px</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
</div>

<p>La solución original utilizaba cuatro imágenes y realizaba cuatro peticiones al servidor. La solución basada en <em>sprites CSS</em> sólo realiza una conexión para descargar una sola imagen. Además, los iconos del <a href="http://tango.freedesktop.org/">proyecto Tango</a> que se han utilizado en este ejemplo ocupan 7.441 bytes cuando se suman los tamaños de los cuatro iconos por separado. Por su parte, la imagen grande que contiene los cuatro iconos sólo ocupa 2.238 bytes.</p>

<p>Los <em>sprites</em> que incluyen todas sus imágenes verticalmente son los más fáciles de manejar. Si en el ejemplo anterior se emplea un <em>sprite</em> con las imágenes dispuestas también horizontalmente:</p>

<div class="figure" id="figure_1_11">
    <img src="/img/css_avanzado/f0111.png" alt="Sprite complejo que dispone las imágenes de forma vertical y horizontal" />

    <p class="caption"><strong>Figura 1.11</strong> Sprite complejo que dispone las imágenes de forma vertical y horizontal</p>
</div>


<p>Aparentemente, utilizar este nuevo <em>sprite</em> sólo implica que la imagen de fondo se debe desplazar también horizontalmente:</p>

<div class="code css">
<pre class="css"><span class="re0">#localidad1</span><span class="sy0">,</span> <span class="re0">#localidad2</span><span class="sy0">,</span> <span class="re0">#localidad3</span><span class="sy0">,</span> <span class="re0">#localidad4</span> <span class="br0">&#123;</span>
  <span class="kw1">padding-left</span><span class="sy0">:</span> <span class="re3">38px</span><span class="sy0">;</span>
  <span class="kw1">height</span><span class="sy0">:</span> <span class="re3">32px</span><span class="sy0">;</span>
  <span class="kw1">line-height</span><span class="sy0">:</span> <span class="re3">32px</span><span class="sy0">;</span>
  <span class="kw1">background-image</span><span class="sy0">:</span> <span class="kw2">url</span><span class="br0">&#40;</span><span class="st0">&quot;imagenes/sprite.png&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="kw1">background-repeat</span><span class="sy0">:</span> <span class="kw2">no-repeat</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="re0">#localidad1</span> <span class="br0">&#123;</span>
  <span class="kw1">background-position</span><span class="sy0">:</span> <span class="nu0">0</span> <span class="nu0">0</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
<span class="re0">#localidad2</span> <span class="br0">&#123;</span>
  <span class="kw1">background-position</span><span class="sy0">:</span> <span class="re3">-32px</span> <span class="nu0">0</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
<span class="re0">#localidad3</span> <span class="br0">&#123;</span>
  <span class="kw1">background-position</span><span class="sy0">:</span> <span class="nu0">0</span> <span class="re3">-32px</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
<span class="re0">#localidad4</span> <span class="br0">&#123;</span>
  <span class="kw1">background-position</span><span class="sy0">:</span> <span class="re3">-32px</span> <span class="re3">-32px</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
</div>

<p>El problema del <em>sprite</em> anterior es que cuando una imagen tiene a su derecha o a su izquierda otras imágenes, estas también se ven:</p>

<div class="figure" id="figure_1_12">
    <img src="/img/css_avanzado/f0112.png" alt="Errores producidos por utilizar un sprite complejo" />

    <p class="caption"><strong>Figura 1.12</strong> Errores producidos por utilizar un sprite complejo</p>
</div>


<p>La solución de este problema es sencilla, aunque requiere algún cambio en el código HTML:</p>

<div class="code html5">
<pre class="html5"><span class="sc2">&lt;<span class="kw2">h3</span>&gt;</span>Previsiones meteorológicas<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">h3</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;localidad1&quot;</span>&gt;&lt;<span class="kw2">img</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;imagenes/pixel.gif&quot;</span> <span class="sy0">/</span>&gt;</span> Localidad 1: soleado, máx: 35º, mín: 23º<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;localidad2&quot;</span>&gt;&lt;<span class="kw2">img</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;imagenes/pixel.gif&quot;</span> <span class="sy0">/</span>&gt;</span> Localidad 2: nublado, máx: 25º, mín: 13º<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;localidad3&quot;</span>&gt;&lt;<span class="kw2">img</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;imagenes/pixel.gif&quot;</span> <span class="sy0">/</span>&gt;</span> Localidad 3: muy nublado, máx: 22º, mín: 10º<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;localidad4&quot;</span>&gt;&lt;<span class="kw2">img</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;imagenes/pixel.gif&quot;</span> <span class="sy0">/</span>&gt;</span> Localidad 4: tormentas, máx: 23º, mín: 11º<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span></pre>
</div>

<p>El código anterior muestra uno de los trucos habituales para manejar <em>sprites</em> complejos. En primer lugar se añade una imagen transparente de <code>1px</code> x <code>1px</code> a todos los elementos mediante una etiqueta <code>&lt;img&gt;</code>. A continuación, desde CSS se establece una imagen de fondo a cada elemento <code>&lt;img&gt;</code> y se limita su tamaño para que no deje ver las imágenes que se encuentran cerca:</p>

<div class="code css">
<pre class="css"><span class="re0">#localidad1</span> img<span class="sy0">,</span> <span class="re0">#localidad2</span> img<span class="sy0">,</span> <span class="re0">#localidad3</span> img<span class="sy0">,</span> <span class="re0">#localidad4</span> img <span class="br0">&#123;</span>
  <span class="kw1">height</span><span class="sy0">:</span> <span class="re3">32px</span><span class="sy0">;</span>
  <span class="kw1">width</span><span class="sy0">:</span> <span class="re3">32px</span><span class="sy0">;</span>
  <span class="kw1">background-image</span><span class="sy0">:</span> <span class="kw2">url</span><span class="br0">&#40;</span><span class="st0">&quot;imagenes/sprite2.png&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="kw1">background-repeat</span><span class="sy0">:</span> <span class="kw2">no-repeat</span><span class="sy0">;</span>
  <span class="kw1">vertical-align</span><span class="sy0">:</span> <span class="kw2">middle</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="re0">#localidad1</span> img <span class="br0">&#123;</span>
  <span class="kw1">background-position</span><span class="sy0">:</span> <span class="nu0">0</span> <span class="nu0">0</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
<span class="re0">#localidad2</span> img <span class="br0">&#123;</span>
  <span class="kw1">background-position</span><span class="sy0">:</span> <span class="re3">-32px</span> <span class="nu0">0</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
<span class="re0">#localidad3</span> img <span class="br0">&#123;</span>
  <span class="kw1">background-position</span><span class="sy0">:</span> <span class="nu0">0</span> <span class="re3">-32px</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
<span class="re0">#localidad4</span> img <span class="br0">&#123;</span>
  <span class="kw1">background-position</span><span class="sy0">:</span> <span class="re3">-32px</span> <span class="re3">-32px</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
</div>

<p>Utilizar <em>sprites CSS</em> es una de las técnicas más eficaces para mejorar los tiempos de descarga de las páginas web complejas. La siguiente imagen muestra un <em>sprite</em> complejo que incluye 241 iconos del <a href="http://tango.freedesktop.org/">proyecto Tango</a> y sólo ocupa 42 KB:</p>

<div class="figure" id="figure_1_13">
    <img src="/img/css_avanzado/f0113.png" alt="Sprite complejo que incluye 210 iconos en una sola imagen" />

    <p class="caption"><strong>Figura 1.13</strong> Sprite complejo que incluye 210 iconos en una sola imagen</p>
</div>


<p>La mayoría de sitios web profesionales utilizan <em>sprites</em> para mostrar sus imágenes de adorno. La siguiente imagen muestra el <em>sprite</em> del sitio web YouTube:</p>

<div class="figure" id="figure_1_14">
    <img src="/img/css_avanzado/f0114.gif" alt="Sprite utilizado por el sitio web de YouTube" />

    <p class="caption"><strong>Figura 1.14</strong> Sprite utilizado por el sitio web de YouTube</p>
</div>


<p>Los principales inconvenientes de los <em>sprites CSS</em> son la poca flexibilidad que ofrece (añadir o modificar una imagen individual no es inmediato) y el esfuerzo necesario para crear el <em>sprite</em>.</p>

<p>Afortunadamente, existen aplicaciones web como <em><a href="http://spritegen.website-performance.org/">CSS Sprite Generator</a></em> que generan el <em>sprite</em> a partir de un archivo comprimido en formato ZIP con todas las imágenes individuales.</p>



            <div class="module module-ad module-ad-responsive module-ad-bottom">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

    
    <div id="book-pager">
        <ul class="row pager">
            <li class="col-xs-6 previous ">
                                    <a href="../capitulo_1/esquinas_redondeadas.html">
                        <strong>&larr; Anterior</strong>
                        <small>1.9. Esquinas redondeadas</small>
                    </a>
                            </li>

            <li class="col-xs-6 next ">
                                    <a href="../capitulo_1/texto.html">
                        <strong>Siguiente &rarr;</strong>
                        <small>1.11. Texto</small>
                    </a>
                            </li>
        </ul>
    </div>

                        </div>

                    <div id="sidebar" class="col-sm-3">
                        
            <div class="module module-share">
        <h3>Compartir</h3>
        <ul>
    <li><a id="share_twitter" href="#" title="Compartir en Twitter">Twitter</a></li>
    <li><a id="share_facebook" href="#" title="Compartir en Facebook">Facebook</a></li>
    <li><a id="share_google" href="#" title="Compartir en Google+">Google+</a></li>
</ul>

<script type="text/javascript">
var title    = '{{ item_social_title }}';
var page_url = encodeURIComponent(window.location);
var options  = 'menubar=no,toolbar=no,resizable=yes,scrollbars=no,width=640,height=350';
var services = {
    share_twitter:  'https://twitter.com/share?text=' + title + '&lang=es',
    share_facebook: 'http://www.facebook.com/sharer.php?u=' + page_url + '&t=' + title,
    share_google:   'https://plus.google.com/share?url=' + page_url + '&hl=es'
};

for (var id in services) {
    if (services.hasOwnProperty(id)) {
        document.getElementById(id).href = services[id];
        document.getElementById(id).onclick = function(a) {
            a = a || window.event;
            a = a.target || a.srcElement;

            ga('send', 'social', {
                'socialNetwork' : a.id.substr(6),
                'socialAction'  : 'share',
                'socialTarget'  : window.location
            });

            window.open(services[a.id], a.title, options);

            return false;
        };
    }
}
</script>

    </div>

            <div class="module module-ad module-ad-responsive module-ad-sidebar">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

    
    <div id="book-toc" class="module">
        <a id="indice"></a>

        <h3>Indice de contenidos</h3>
        <ul class="toc text-links">
                                            <li class="level-1 ">
                <a href="../capitulo_1.html">
                    <span>Capítulo 1.</span> Técnicas imprescindibles
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_1/propiedades_shorthand.html">
                    <span>1.1.</span> Propiedades shorthand
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_1/la_propiedad_haslayout_de_internet_explorer.html">
                    <span>1.2.</span> La propiedad hasLayout de Internet Explorer
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_1/limpiar_floats.html">
                    <span>1.3.</span> Limpiar floats
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_1/elementos_de_la_misma_altura.html">
                    <span>1.4.</span> Elementos de la misma altura
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_1/sombras.html">
                    <span>1.5.</span> Sombras
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_1/transparencias.html">
                    <span>1.6.</span> Transparencias
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_1/sustitucion_de_texto_por_imagenes.html">
                    <span>1.7.</span> Sustitución de texto por imágenes
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_1/sustitucion_de_texto_por_flash.html">
                    <span>1.8.</span> Sustitución de texto por Flash
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_1/esquinas_redondeadas.html">
                    <span>1.9.</span> Esquinas redondeadas
                </a>
            </li>
                                            <li class="level-2 active">
                <a href="../capitulo_1/rollovers_y_sprites.html">
                    <span>1.10.</span> Rollovers y sprites
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_1/texto.html">
                    <span>1.11.</span> Texto
                </a>
            </li>
                                            <li class="level-1">
                <span>2.</span> <a href="../capitulo_2.html"> Buenas prácticas</a>
            </li>
                                                                                                                                                            <li class="level-1">
                <span>3.</span> <a href="../capitulo_3.html"> Selectores</a>
            </li>
                                                                                                                                            <li class="level-1">
                <span>4.</span> <a href="../capitulo_4.html"> Propiedades avanzadas</a>
            </li>
                                                                                                                                                            <li class="level-1">
                <span>5.</span> <a href="../capitulo_5.html"> Frameworks</a>
            </li>
                                                                                                                                            <li class="level-1">
                <span>6.</span> <a href="../capitulo_6.html"> Técnicas avanzadas</a>
            </li>
                                                                                                                        </ul>
    </div>
                    </div>
                            </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
