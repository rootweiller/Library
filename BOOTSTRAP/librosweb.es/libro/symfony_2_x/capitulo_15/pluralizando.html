<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>15.3. Pluralizando (Symfony 2.4, el libro oficial)</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                            
        <link rel="canonical" href="/libro/symfony_2_x/capitulo_15/pluralizando.html"/>
                                    <link rel="prev" href="../capitulo_15/traduccion_basica.html" />
                    <link rel="next" href="../capitulo_15/traducciones_en_plantillas.html" />
                <link rel="start" href="/libro/symfony_2_4/" />
                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="15.3. Pluralizando (Symfony 2.4, el libro oficial)">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-1-2" class="books book_page symfony_2_4"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                                    <div id="main" class="col-sm-9">
                        
    
    <div id="book-toc-anchor" class="well visible-xs">
        <a href="#indice">
            <i class="fa fa-book"></i> Ver índice de contenidos del libro
        </a>
    </div>

    <div id="breadcrumb" class="hidden-xs">
        <ol>
            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libros/" itemprop="url">
                    <span itemprop="title">Libros</span>
                </a>
            </li>

            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/symfony_2_4/" itemprop="url">
                    <span itemprop="title">Symfony 2.4, el libro oficial</span>
                </a>
            </li>

                    <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/symfony_2_4/capitulo_15.html" itemprop="url">
                    <span itemprop="title">Capítulo 15. Internacionalización</span>
                </a>
            </li>
        
            <li class="active">
                <span>15.3. Pluralizando</span>
            </li>
        </ol>
    </div>

    <h1 id="pluralizando" class="title">
        <span>15.3.</span> Pluralizando
    </h1>

    

<p>La pluralización de mensajes es un tema difícil puesto que las reglas pueden ser bastante complejas en función de cada idioma. Por ejemplo, aquí tienes la representación matemática de las reglas de pluralización del idioma ruso:</p>

<div class="code code">
<pre class="code">(($number % 10 == 1) &amp;&amp; ($number % 100 != 11))
    ? 0
    : ((($number % 10 &gt;= 2)
        &amp;&amp; ($number % 10 &lt;= 4)
        &amp;&amp; (($number % 100 &lt; 10)
        || ($number % 100 &gt;= 20)))
            ? 1
            : 2
);</pre>
</div>

<p>Como puedes ver, en ruso existen tres formas diferentes del plural, dando a cada una un índice de 0, 1 o 2. El plural es diferente para todas las formas, por lo que la traducción también es diferente.</p>

<p>Cuando una traducción tiene diferentes formas debido a la pluralización, puedes proporcionar todas las variantes en una misma cadena de texto separada por una línea vertical (<code>|</code>):</p>

<div class="code code">
<pre class="code">'Hay una manzana|Hay %count% manzanas'</pre>
</div>

<p>Para traducir mensajes pluralizados, utiliza el método <code>transChoice</code>:</p>

<div class="code php">
<pre class="php"><span class="re0">$translated</span> <span class="sy0">=</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'translator'</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">transChoice</span><span class="br0">&#40;</span>
        <span class="st_h">'Hay una manzana|Hay %count% manzanas'</span><span class="sy0">,</span>
        <span class="nu0">10</span><span class="sy0">,</span>
        <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'%count%'</span> <span class="sy0">=&gt;</span> <span class="nu0">10</span><span class="br0">&#41;</span>
    <span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<p>El segundo argumento (<code>10</code> en este ejemplo), es el número de objetos al que se refiere la frase y se utiliza tanto para determinar la traducción a usar como para rellenar el marcador de posición <code>%count%</code>.</p>

<p>En función del número indicado, el traductor de Symfony2 elige la forma plural adecuada. En inglés, la mayoría de las palabras tienen una forma singular cuando hay exactamente un objeto y una forma plural para todos los otros números (0, 2, 3...). Así pues, si <code>count</code> es <code>1</code>, el traductor utilizará la primera cadena (<code>Hay una manzana</code>) como la traducción. De lo contrario, utilizará <code>Hay %count% manzanas</code>.</p>

<p>Aquí está la traducción al Francés::</p>

<div class="code code">
<pre class="code">'Il y a %count% pomme|Il y a %count% pommes'</pre>
</div>

<p>Aunque en este caso la traducción tiene un aspecto similar al caso del inglés (se compone de dos subcadenas separadas por una línea vertical), las reglas francesas son diferentes: la primera forma (no plural) se utiliza cuando <code>count</code> es <code>0</code> o <code>1</code>. Por lo tanto, el traductor utilizará automáticamente la primera cadena (<code>Il y a %count% pomme</code>) cuando <code>count</code> es <code>0</code> o <code>1</code>.</p>

<p>Cada idioma tiene su propio conjunto de reglas, con algunos que tienen hasta seis formas diferentes de plural con reglas muy complejas. Las reglas son bastante simples para el inglés y el francés, pero para idiomas como el ruso puede ser útil tener alguna pista sobre la cadena que se va a utilizar en cada caso. Para ayudar a los traductores, puedes añadir una etiqueta al principio de cada cadena:</p>

<div class="code code">
<pre class="code">'one: There is one apple|some: There are %count% apples'
&nbsp;
'none_or_one: Il y a %count% pomme|some: Il y a %count% pommes'</pre>
</div>

<p>Las etiquetas solamente son pistas para los traductores y no afectan a la lógica utilizada para determinar qué forma plural usar. Las etiquetas pueden ser cualquier cadena de texto que termine con dos puntos (<code>:</code>). Además, las etiquetas no tienen por qué ser las mismas en el mensaje original y en la traducción.</p>

<div class="admonition tip"><p><strong class="title">Truco</strong> Como las etiquetas son opcionales, el servicio <code>translator</code> no las utiliza (el <code>translator</code> únicamente obtiene la cadena en función de su posición dentro de la cadena completa).</p></div>

<h3 id="intervalo_explicito_de_pluralizacion">15.3.1. Intervalo explícito de pluralización</h3>

<p>La forma más fácil de pluralizar un mensaje es dejar que Symfony2 utilice su lógica interna para elegir qué cadena se utiliza en función del número indicado. No obstante, en ocasiones necesitas un control más precios o quieres realizar una traducción diferente para algunos casos específicos (cuando el número es <code>0</code> o cuando es negativo, por ejemplo). Para estos casos, puedes utilizar intervalos matemáticos explícitos:</p>

<div class="code code">
<pre class="code">'{0} There are no apples|{1} There is one apple|]1,19] There are %count% apples|[20,Inf] There are many apples'</pre>
</div>

<p>Los intervalos siguen la notación <a href="http://en.wikipedia.org/wiki/Interval_(mathematics)#Notations_for_intervals">ISO 31-11</a>. La cadena de texto anterior especifica cuatro intervalos diferentes: exactamente <code>0</code>, exactamente <code>1</code>, <code>2-19</code> y <code>20</code> o más.</p>

<p>También puedes mezclar reglas matemáticas explícitas con las reglas estándar. En este caso, si el número no corresponde con un intervalo específico, se aplican las reglas estándar después de eliminar las reglas matemáticas:</p>

<div class="code code">
<pre class="code">'{0} There are no apples|[20,Inf] There are many apples|There is one apple|a_few: There are %count% apples'</pre>
</div>

<p>Para el número <code>1</code> por ejemplo, se utiliza la regla estándar <code>There is one apple</code>. Para un número entre <code>2</code> y <code>19</code>, se utiliza la segunda regla estándar <code>There are %count% apples</code>.</p>

<p>Los intervalos pueden representar un conjunto finito de números:</p>

<div class="code code">
<pre class="code">{1,2,3,4}</pre>
</div>

<p>Y también pueden representar a todos los números comprendidos entre los dos números indicados:</p>

<div class="code code">
<pre class="code">[1, +Inf[
]-1,2[</pre>
</div>

<p>El delimitador izquierdo puede ser <code>[</code> (inclusivo) o <code>]</code> (exclusivo). El delimitador derecho puede ser <code>[</code> (exclusivo) o <code>]</code> (inclusivo). Además de números, puedes usar <code>-Inf</code> y <code>+Inf</code> para indicar el valor infinito.</p>



    
    <div id="book-pager">
        <ul class="row pager">
            <li class="col-xs-6 previous ">
                                    <a href="../capitulo_15/traduccion_basica.html">
                        <strong>&larr; Anterior</strong>
                        <small>15.2. Traducción básica</small>
                    </a>
                            </li>

            <li class="col-xs-6 next ">
                                    <a href="../capitulo_15/traducciones_en_plantillas.html">
                        <strong>Siguiente &rarr;</strong>
                        <small>15.4. Traducciones en plantillas</small>
                    </a>
                            </li>
        </ul>
    </div>

                        </div>

                    <div id="sidebar" class="col-sm-3">
                        
            <div class="module module-share">
        <h3>Compartir</h3>
        <ul>
    <li><a id="share_twitter" href="#" title="Compartir en Twitter">Twitter</a></li>
    <li><a id="share_facebook" href="#" title="Compartir en Facebook">Facebook</a></li>
    <li><a id="share_google" href="#" title="Compartir en Google+">Google+</a></li>
</ul>

<script type="text/javascript">
var title    = '{{ item_social_title }}';
var page_url = encodeURIComponent(window.location);
var options  = 'menubar=no,toolbar=no,resizable=yes,scrollbars=no,width=640,height=350';
var services = {
    share_twitter:  'https://twitter.com/share?text=' + title + '&lang=es',
    share_facebook: 'http://www.facebook.com/sharer.php?u=' + page_url + '&t=' + title,
    share_google:   'https://plus.google.com/share?url=' + page_url + '&hl=es'
};

for (var id in services) {
    if (services.hasOwnProperty(id)) {
        document.getElementById(id).href = services[id];
        document.getElementById(id).onclick = function(a) {
            a = a || window.event;
            a = a.target || a.srcElement;

            ga('send', 'social', {
                'socialNetwork' : a.id.substr(6),
                'socialAction'  : 'share',
                'socialTarget'  : window.location
            });

            window.open(services[a.id], a.title, options);

            return false;
        };
    }
}
</script>

    </div>

            <div class="module module-ad module-ad-responsive module-ad-sidebar">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

    
    <div id="book-toc" class="module">
        <a id="indice"></a>

        <h3>Indice de contenidos</h3>
        <ul class="toc text-links">
                                            <li class="level-1">
                <span>1.</span> <a href="../capitulo_1.html"> Symfony2 y los fundamentos de HTTP</a>
            </li>
                                                                                                                            <li class="level-1">
                <span>2.</span> <a href="../capitulo_2.html"> De PHP a Symfony2</a>
            </li>
                                                                                                            <li class="level-1">
                <span>3.</span> <a href="../capitulo_3.html"> Instalando y configurando Symfony2</a>
            </li>
                                                                                            <li class="level-1">
                <span>4.</span> <a href="../capitulo_4.html"> Creando páginas en Symfony2</a>
            </li>
                                                                                                                                                            <li class="level-1">
                <span>5.</span> <a href="../capitulo_5.html"> El controlador</a>
            </li>
                                                                                                                                                                                                            <li class="level-1">
                <span>6.</span> <a href="../capitulo_6.html"> El enrutamiento</a>
            </li>
                                                                                                                                                                                            <li class="level-1">
                <span>7.</span> <a href="../capitulo_7.html"> Creando y utilizando plantillas</a>
            </li>
                                                                                                                                                                                                                                                                            <li class="level-1">
                <span>8.</span> <a href="../capitulo_8.html"> La base de datos y Doctrine</a>
            </li>
                                                                                                                                                            <li class="level-1">
                <span>9.</span> <a href="../capitulo_9.html"> La base de datos y Propel</a>
            </li>
                                            <li class="level-1">
                <span>10.</span> <a href="../capitulo_10.html"> Tests unitarios y funcionales</a>
            </li>
                                                                                                                                            <li class="level-1">
                <span>11.</span> <a href="../capitulo_11.html"> Validación</a>
            </li>
                                                                                                                                                                                            <li class="level-1">
                <span>12.</span> <a href="../capitulo_12.html"> Formularios</a>
            </li>
                                                                                                                                                                                                                                                                            <li class="level-1">
                <span>13.</span> <a href="../capitulo_13.html"> Seguridad</a>
            </li>
                                                                                                                                                                                                                                            <li class="level-1">
                <span>14.</span> <a href="../capitulo_14.html"> La caché de HTTP</a>
            </li>
                                                                                                                                                            <li class="level-1 ">
                <a href="../capitulo_15.html">
                    <span>Capítulo 15.</span> Internacionalización
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_15/configurando.html">
                    <span>15.1.</span> Configurando
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_15/traduccion_basica.html">
                    <span>15.2.</span> Traducción básica
                </a>
            </li>
                                            <li class="level-2 active">
                <a href="../capitulo_15/pluralizando.html">
                    <span>15.3.</span> Pluralizando
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_15/traducciones_en_plantillas.html">
                    <span>15.4.</span> Traducciones en plantillas
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_15/catalogos_de_mensajes.html">
                    <span>15.5.</span> Catálogos de mensajes
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_15/usando_el_dominio_de_los_mensajes.html">
                    <span>15.6.</span> Usando el dominio de los mensajes
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_15/gestionando_la_configuracion_regional_del_usuario.html">
                    <span>15.7.</span> Gestionando la configuración regional del usuario
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_15/seleccionando_el_idioma_de_la_traduccion.html">
                    <span>15.8.</span> Seleccionando el idioma de la traducción
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_15/traduciendo_mensajes_de_validacion.html">
                    <span>15.9.</span> Traduciendo mensajes de validación
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_15/traduciendo_contenido_de_base_de_datos.html">
                    <span>15.10.</span> Traduciendo contenido de base de datos
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_15/resumen.html">
                    <span>15.11.</span> Resumen
                </a>
            </li>
                                            <li class="level-1">
                <span>16.</span> <a href="../capitulo_16.html"> El contenedor de servicios</a>
            </li>
                                                                                                                                                                                                            <li class="level-1">
                <span>17.</span> <a href="../capitulo_17.html"> Mejorando el rendimiento</a>
            </li>
                                                                                                            <li class="level-1">
                <span>18.</span> <a href="../capitulo_18.html"> El interior de Symfony2</a>
            </li>
                                                                                                            <li class="level-1">
                <span>19.</span> <a href="../capitulo_19.html"> La API estable de Symfony2</a>
            </li>
                        </ul>
    </div>
                    </div>
                            </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
