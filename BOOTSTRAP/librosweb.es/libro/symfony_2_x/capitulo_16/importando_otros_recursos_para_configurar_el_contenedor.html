<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>16.5. Importando otros recursos para configurar el contenedor (Symfony 2.4, el libro oficial)</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                            
        <link rel="canonical" href="/libro/symfony_2_x/capitulo_16/importando_otros_recursos_para_configurar_el_contenedor.html"/>
                                    <link rel="prev" href="../capitulo_16/parametros_de_servicio.html" />
                    <link rel="next" href="../capitulo_16/inyectando_servicios.html" />
                <link rel="start" href="/libro/symfony_2_4/" />
                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="16.5. Importando otros recursos para configurar el contenedor (Symfony 2.4, el libro oficial)">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-1-2" class="books book_page symfony_2_4"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                                    <div id="main" class="col-sm-9">
                        
    
    <div id="book-toc-anchor" class="well visible-xs">
        <a href="#indice">
            <i class="fa fa-book"></i> Ver índice de contenidos del libro
        </a>
    </div>

    <div id="breadcrumb" class="hidden-xs">
        <ol>
            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libros/" itemprop="url">
                    <span itemprop="title">Libros</span>
                </a>
            </li>

            <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/symfony_2_4/" itemprop="url">
                    <span itemprop="title">Symfony 2.4, el libro oficial</span>
                </a>
            </li>

                    <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                <a href="/libro/symfony_2_4/capitulo_16.html" itemprop="url">
                    <span itemprop="title">Capítulo 16. El contenedor de servicios</span>
                </a>
            </li>
        
            <li class="active">
                <span>16.5. Importando otros recursos para configurar el contenedor</span>
            </li>
        </ol>
    </div>

    <h1 id="importando_otros_recursos_para_configurar_el_contenedor" class="title">
        <span>16.5.</span> Importando otros recursos para configurar el contenedor
    </h1>

    

<div class="admonition tip"><p><strong class="title">Truco</strong> En esta sección, nos referiremos a los archivos de configuración de servicios como <em>recursos</em>. Esto se hace para resaltar el hecho de que, si bien la mayoría de la configuración se realiza mediante archivos (en formato YAML, XML o PHP), Symfony2 es tan flexible que la configuración se puede cargar desde otros lugares (por ejemplo, una base de datos e incluso a través de un servicio web).</p></div>

<p>El contenedor de servicios se construye usando un único recurso de configuración (el archivo <code>app/config/config.yml</code> por defecto). Toda la configuración de los servicios (incluido el núcleo de Symfony2 y la configuración de los <em>bundles</em>) se debe importar desde este archivo de una manera u otra. Esto proporciona una flexibilidad absoluta sobre los servicios en tu aplicación.</p>

<p>La configuración externa de servicios se puede importar de dos maneras diferentes. La primera, y más común, es mediante la directiva <code>imports</code>. Más adelante se explica la segunda forma, que es más flexible y es la opción preferida para importar la configuración de los <em>bundles</em> de terceros.</p>

<h3 id="importando_configuracion_con_imports">16.5.1. Importando configuración con <code>imports</code></h3>

<p>En los ejemplos anteriores, la definición del servicio <code>my_mailer</code> se escribía directamente en el archivo de configuración de la aplicación (por ejemplo, <code>app/config/config.yml</code>). Como la clase <code>Mailer</code> se encuentra dentro del <em>bundle</em> <code>AcmeHelloBundle</code>, tiene más sentido poner la definición del servicio <code>my_mailer</code> dentro de su propio <em>bundle</em>.</p>

<p>En primer lugar, mueve la configuración del servicio <code>my_mailer</code> a un nuevo archivo llamado <code>Resources/config/services.yml</code> dentro de <code>AcmeHelloBundle</code>. Si los directorios <code>Resources</code> y <code>Resources/config</code> no existen, créalos.</p>

<div class="tabbable">
  <ul class="nav nav-tabs"><li id="select_tab_1_bff44" class="active"><a data-toggle="tab active" href="#select_tab_1_bff44" onclick="document.getElementById('select_tab_1_bff44').className='active'; document.getElementById('tab_1_bff44').className='tab-pane active';document.getElementById('select_tab_2_bff44').className='';  document.getElementById('tab_2_bff44').className='tab-pane';document.getElementById('select_tab_3_bff44').className='';  document.getElementById('tab_3_bff44').className='tab-pane';return false;">YAML</a></li><li id="select_tab_2_bff44"><a data-toggle="tab" href="#select_tab_2_bff44" onclick="document.getElementById('select_tab_1_bff44').className='';  document.getElementById('tab_1_bff44').className='tab-pane';document.getElementById('select_tab_2_bff44').className='active'; document.getElementById('tab_2_bff44').className='tab-pane active';document.getElementById('select_tab_3_bff44').className='';  document.getElementById('tab_3_bff44').className='tab-pane';return false;">XML</a></li><li id="select_tab_3_bff44"><a data-toggle="tab" href="#select_tab_3_bff44" onclick="document.getElementById('select_tab_1_bff44').className='';  document.getElementById('tab_1_bff44').className='tab-pane';document.getElementById('select_tab_2_bff44').className='';  document.getElementById('tab_2_bff44').className='tab-pane';document.getElementById('select_tab_3_bff44').className='active'; document.getElementById('tab_3_bff44').className='tab-pane active';return false;">PHP</a></li></ul>
  <div class="tab-content">
    <div class="tab-pane active" id="tab_1_bff44">
<div class="code yaml">
<pre class="yaml"><span class="co1"># src/Acme/HelloBundle/Resources/config/services.yml</span><span class="co4">
parameters</span>:<span class="co3">
    my_mailer.class</span><span class="sy2">: </span>     Acme\HelloBundle\Mailer<span class="co3">
    my_mailer.transport</span><span class="sy2">: </span> sendmail
<span class="co4">
services</span>:<span class="co4">
    my_mailer</span>:<span class="co3">
        class</span><span class="sy2">: </span>       <span class="st0">&quot;%my_mailer.class%&quot;</span><span class="co3">
        arguments</span><span class="sy2">: </span>   <span class="br0">&#91;</span><span class="st0">&quot;%my_mailer.transport%&quot;</span><span class="br0">&#93;</span></pre>
</div>
</div>


<div class="tab-pane" id="tab_2_bff44">
<div class="code xml">
<pre class="xml"><span class="sc-1">&lt;!-- src/Acme/HelloBundle/Resources/config/services.xml --&gt;</span>
<span class="sc3"><span class="re1">&lt;parameters<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;parameter</span> <span class="re0">key</span>=<span class="st0">&quot;my_mailer.class&quot;</span><span class="re2">&gt;</span></span>Acme\HelloBundle\Mailer<span class="sc3"><span class="re1">&lt;/parameter<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;parameter</span> <span class="re0">key</span>=<span class="st0">&quot;my_mailer.transport&quot;</span><span class="re2">&gt;</span></span>sendmail<span class="sc3"><span class="re1">&lt;/parameter<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/parameters<span class="re2">&gt;</span></span></span>
&nbsp;
<span class="sc3"><span class="re1">&lt;services<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;service</span> <span class="re0">id</span>=<span class="st0">&quot;my_mailer&quot;</span> <span class="re0">class</span>=<span class="st0">&quot;%my_mailer.class%&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;argument<span class="re2">&gt;</span></span></span>%my_mailer.transport%<span class="sc3"><span class="re1">&lt;/argument<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/service<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/services<span class="re2">&gt;</span></span></span></pre>
</div>
</div>


<div class="tab-pane" id="tab_3_bff44">
<div class="code php">
<pre class="php"><span class="co1">// src/Acme/HelloBundle/Resources/config/services.php</span>
<span class="kw2">use</span> Symfony\Component\DependencyInjection\Definition<span class="sy0">;</span>
&nbsp;
<span class="re0">$container</span><span class="sy0">-&gt;</span><span class="me1">setParameter</span><span class="br0">&#40;</span><span class="st_h">'my_mailer.class'</span><span class="sy0">,</span> <span class="st_h">'Acme\HelloBundle\Mailer'</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="re0">$container</span><span class="sy0">-&gt;</span><span class="me1">setParameter</span><span class="br0">&#40;</span><span class="st_h">'my_mailer.transport'</span><span class="sy0">,</span> <span class="st_h">'sendmail'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$container</span><span class="sy0">-&gt;</span><span class="me1">setDefinition</span><span class="br0">&#40;</span><span class="st_h">'my_mailer'</span><span class="sy0">,</span> <span class="kw2">new</span> Definition<span class="br0">&#40;</span>
    <span class="st_h">'%my_mailer.class%'</span><span class="sy0">,</span>
    <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'%my_mailer.transport%'</span><span class="br0">&#41;</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>
</div>

  </div>
</div>

<p>La configuración no ha cambiado, sólo su ubicación. El problema es que ahora el contenedor de servicios no es consciente de la existencia de este nuevo recurso. Afortunadamente, es fácil importar este nuevo archivo utilizando la clave <code>imports</code> en la configuración de la aplicación.</p>

<div class="tabbable">
  <ul class="nav nav-tabs"><li id="select_tab_1_c0062" class="active"><a data-toggle="tab active" href="#select_tab_1_c0062" onclick="document.getElementById('select_tab_1_c0062').className='active'; document.getElementById('tab_1_c0062').className='tab-pane active';document.getElementById('select_tab_2_c0062').className='';  document.getElementById('tab_2_c0062').className='tab-pane';document.getElementById('select_tab_3_c0062').className='';  document.getElementById('tab_3_c0062').className='tab-pane';return false;">YAML</a></li><li id="select_tab_2_c0062"><a data-toggle="tab" href="#select_tab_2_c0062" onclick="document.getElementById('select_tab_1_c0062').className='';  document.getElementById('tab_1_c0062').className='tab-pane';document.getElementById('select_tab_2_c0062').className='active'; document.getElementById('tab_2_c0062').className='tab-pane active';document.getElementById('select_tab_3_c0062').className='';  document.getElementById('tab_3_c0062').className='tab-pane';return false;">XML</a></li><li id="select_tab_3_c0062"><a data-toggle="tab" href="#select_tab_3_c0062" onclick="document.getElementById('select_tab_1_c0062').className='';  document.getElementById('tab_1_c0062').className='tab-pane';document.getElementById('select_tab_2_c0062').className='';  document.getElementById('tab_2_c0062').className='tab-pane';document.getElementById('select_tab_3_c0062').className='active'; document.getElementById('tab_3_c0062').className='tab-pane active';return false;">PHP</a></li></ul>
  <div class="tab-content">
    <div class="tab-pane active" id="tab_1_c0062">
<div class="code yaml">
<pre class="yaml"><span class="co1"># app/config/config.yml</span><span class="co4">
imports</span>:<span class="co3">
    - { resource</span><span class="sy2">: </span><span class="st0">&quot;@AcmeHelloBundle/Resources/config/services.yml&quot;</span> <span class="br0">&#125;</span></pre>
</div>
</div>


<div class="tab-pane" id="tab_2_c0062">
<div class="code xml">
<pre class="xml"><span class="sc-1">&lt;!-- app/config/config.xml --&gt;</span>
<span class="sc3"><span class="re1">&lt;imports<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;import</span> <span class="re0">resource</span>=<span class="st0">&quot;@AcmeHelloBundle/Resources/config/services.xml&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/imports<span class="re2">&gt;</span></span></span></pre>
</div>
</div>


<div class="tab-pane" id="tab_3_c0062">
<div class="code php">
<pre class="php"><span class="co1">// app/config/config.php</span>
<span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">import</span><span class="br0">&#40;</span><span class="st_h">'@AcmeHelloBundle/Resources/config/services.php'</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>
</div>

  </div>
</div>

<p>La directiva <code>imports</code> permite a tu aplicación incluir recursos de configuración del contenedor de servicios desde cualquier otro lugar (normalmente desde <em>bundles</em>). El valor de la opción <code>resource</code> para los archivos es directamente la ruta absoluta del archivo. La sintaxis especial <code>@AcmeHello</code> se traduce como la ruta al directorio del <em>bundle</em> <code>AcmeHelloBundle</code>. Esto te permite indicar la ruta al recurso sin preocuparte si después mueves de sitio el bundle <code>AcmeHelloBundle</code>.</p>

<h3 id="importando_la_configuracion_mediante_las_extensiones_del_contenedor">16.5.2. Importando la configuración mediante las extensiones del contenedor</h3>

<p>Cuando desarrollas una aplicación con Symfony2, casi siempre utilizas la directiva <code>imports</code> para importar la configuración del contenedor desde los <em>bundles</em> que has creado específicamente para tu aplicación. La configuración de los <em>bundles</em> desarrollados por terceros, incluyendo los <em>bundles</em> del núcleo de Symfony2, normalmente se cargan con otro método más flexible, aunque un poco más complicado.</p>

<p>Su funcionamiento es el siguiente: internamente, cada <em>bundle</em> define sus servicios de manera muy parecida a lo que has visto hasta ahora. Es decir, un <em>bundle</em> utiliza uno o más archivos de configuración (por lo general en formato XML) para especificar los parámetros y servicios de ese <em>bundle</em>. Sin embargo, en lugar de importar cada uno de estos recursos directamente desde la configuración de tu aplicación utilizando la directiva <code>imports</code>, sólo tienes que invocar una <em>extensión del contenedor de servicios</em> dentro del <em>bundle</em>, la cual hace ese trabajo por ti. Una extensión del contenedor de servicios es una clase PHP creada por el autor del <em>bundle</em> para conseguir dos cosas:</p>

<ul>
<li>Importar todos los recursos necesarios para configurar los servicios del <em>bundle</em>.</li>
<li>Permitir que el <em>bundle</em> se pueda configurar de forma <em>"semántica"</em>, sin tener que modificar directamente los parámetros de sus archivos de configuración.</li>
</ul>

<p>En otras palabras, una extensión del contenedor de servicios se encarga de configurar automáticamente los servicios de un <em>bundle</em>. Y como se explicará a continuación, la extensión también permite configurar el <em>bundle</em> de manera sencilla.</p>

<p>En el siguiente ejemplo se utiliza el <em>bundle</em> <code>FrameworkBundle</code>, que es el <em>bundle</em> interno más importante de Symfony2. Al añadir la siguiente configuración en tu aplicación, se carga automáticamente la extensión que se encuentra dentro del <em>bundle</em> <code>FrameworkBundle</code>:</p>

<div class="tabbable">
  <ul class="nav nav-tabs"><li id="select_tab_1_c017a" class="active"><a data-toggle="tab active" href="#select_tab_1_c017a" onclick="document.getElementById('select_tab_1_c017a').className='active'; document.getElementById('tab_1_c017a').className='tab-pane active';document.getElementById('select_tab_2_c017a').className='';  document.getElementById('tab_2_c017a').className='tab-pane';document.getElementById('select_tab_3_c017a').className='';  document.getElementById('tab_3_c017a').className='tab-pane';return false;">YAML</a></li><li id="select_tab_2_c017a"><a data-toggle="tab" href="#select_tab_2_c017a" onclick="document.getElementById('select_tab_1_c017a').className='';  document.getElementById('tab_1_c017a').className='tab-pane';document.getElementById('select_tab_2_c017a').className='active'; document.getElementById('tab_2_c017a').className='tab-pane active';document.getElementById('select_tab_3_c017a').className='';  document.getElementById('tab_3_c017a').className='tab-pane';return false;">XML</a></li><li id="select_tab_3_c017a"><a data-toggle="tab" href="#select_tab_3_c017a" onclick="document.getElementById('select_tab_1_c017a').className='';  document.getElementById('tab_1_c017a').className='tab-pane';document.getElementById('select_tab_2_c017a').className='';  document.getElementById('tab_2_c017a').className='tab-pane';document.getElementById('select_tab_3_c017a').className='active'; document.getElementById('tab_3_c017a').className='tab-pane active';return false;">PHP</a></li></ul>
  <div class="tab-content">
    <div class="tab-pane active" id="tab_1_c017a">
<div class="code yaml">
<pre class="yaml"><span class="co1"># app/config/config.yml</span><span class="co4">
    framework</span>:<span class="co3">
        secret</span><span class="sy2">: </span>         xxxxxxxxxx<span class="co3">
        form</span><span class="sy2">: </span>           true<span class="co3">
        csrf_protection</span><span class="sy2">: </span>true<span class="co3">
        router</span><span class="sy2">: </span>       <span class="br0">&#123;</span> resource<span class="sy2">: </span><span class="st0">&quot;%kernel.root_dir%/config/routing.yml&quot;</span> <span class="br0">&#125;</span>
        <span class="co1"># ...</span></pre>
</div>
</div>


<div class="tab-pane" id="tab_2_c017a">
<div class="code xml">
<pre class="xml"><span class="sc-1">&lt;!-- app/config/config.xml --&gt;</span>
<span class="sc3"><span class="re1">&lt;framework:config</span> <span class="re0">secret</span>=<span class="st0">&quot;xxxxxxxxxx&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;framework:form</span> <span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;framework:csrf-protection</span> <span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;framework:router</span> <span class="re0">resource</span>=<span class="st0">&quot;%kernel.root_dir%/config/routing.xml&quot;</span> <span class="re2">/&gt;</span></span>
    <span class="sc-1">&lt;!-- ... --&gt;</span>
<span class="sc3"><span class="re1">&lt;/framework<span class="re2">&gt;</span></span></span></pre>
</div>
</div>


<div class="tab-pane" id="tab_3_c017a">
<div class="code php">
<pre class="php"><span class="co1">// app/config/config.php</span>
<span class="re0">$container</span><span class="sy0">-&gt;</span><span class="me1">loadFromExtension</span><span class="br0">&#40;</span><span class="st_h">'framework'</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span>
    <span class="st_h">'secret'</span>          <span class="sy0">=&gt;</span> <span class="st_h">'xxxxxxxxxx'</span><span class="sy0">,</span>
    <span class="st_h">'form'</span>            <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span>
    <span class="st_h">'csrf-protection'</span> <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span>
    <span class="st_h">'router'</span>          <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'resource'</span> <span class="sy0">=&gt;</span> <span class="st_h">'%kernel.root_dir%/config/routing.php'</span><span class="br0">&#41;</span><span class="sy0">,</span>
&nbsp;
    <span class="co1">// ...</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>
</div>

  </div>
</div>

<p>Cuando se procesa la configuración de la aplicación, el contenedor busca una extensión que sea capaz de procesar la directiva de configuración <code>framework</code>. Después, se carga y ejecuta esa extensión, que se encuentra en el <em>bundle</em> <code>FrameworkBundle</code>. Si eliminas la opción <code>framework</code> del archivo de configuración de tu aplicación, no se carga la extensión y por tanto, no se cargarán los servicios básicos de Symfony2. Lo mejor es que tu siempre tienes el control: Symfony2 no contiene ningún tipo de magia ni realiza ninguna acción sobre la que tú no tengas el control.</p>

<p>Además de <em>activar</em> la configuración, las extensiones te permiten realizar muchas otras tareas. Cada extensión te permite personalizar fácilmente el <em>bundle</em>, sin tener que preocuparte sobre cómo se definen los servicios internos.</p>

<p>En este caso, la extensión te permite personalizar la configuración de las opciones <code>error_handler</code>, <code>csrf_protection</code>, <code>router</code> y muchas más. Internamente, el <em>bundle</em> <code>FrameworkBundle</code> utiliza las opciones especificadas aquí para definir y configurar los sus servicios. El <em>bundle</em> se encarga de crear todas las opciones <code>parameters</code> y <code>services</code> necesarios para el contenedor de servicios, mientras que permite configurar sus valores fácilmente. Además, la mayoría de las extensiones del contenedor de servicios también son lo suficientemente inteligentes como para validar la configuración, notificándote opciones que faltan o datos de tipo incorrecto.</p>

<p>Al instalar o configurar un <em>bundle</em>, consulta su documentación para saber cómo se deben instalar y configurar sus servicios. Las opciones disponibles para los <em>bundles</em> internos de Symfony2 se pueden consultar en la <a href="http://symfony.com/doc/2.0/reference/index.html">Reference Guide</a>.</p>

<div class="admonition note"><p><strong class="title">Nota</strong> El contenedor de servicios sólo reconoce de forma nativa las directivas <code>parameters</code>, <code>services</code> e <code>imports</code>. Cualquier otra directiva debe ser procesada por una extensión del contenedor de servicios.</p></div>



            <div class="module module-ad module-ad-responsive module-ad-bottom">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

    
    <div id="book-pager">
        <ul class="row pager">
            <li class="col-xs-6 previous ">
                                    <a href="../capitulo_16/parametros_de_servicio.html">
                        <strong>&larr; Anterior</strong>
                        <small>16.4. Parámetros de servicio</small>
                    </a>
                            </li>

            <li class="col-xs-6 next ">
                                    <a href="../capitulo_16/inyectando_servicios.html">
                        <strong>Siguiente &rarr;</strong>
                        <small>16.6. Inyectando servicios</small>
                    </a>
                            </li>
        </ul>
    </div>

                        </div>

                    <div id="sidebar" class="col-sm-3">
                        
            <div class="module module-share">
        <h3>Compartir</h3>
        <ul>
    <li><a id="share_twitter" href="#" title="Compartir en Twitter">Twitter</a></li>
    <li><a id="share_facebook" href="#" title="Compartir en Facebook">Facebook</a></li>
    <li><a id="share_google" href="#" title="Compartir en Google+">Google+</a></li>
</ul>

<script type="text/javascript">
var title    = '{{ item_social_title }}';
var page_url = encodeURIComponent(window.location);
var options  = 'menubar=no,toolbar=no,resizable=yes,scrollbars=no,width=640,height=350';
var services = {
    share_twitter:  'https://twitter.com/share?text=' + title + '&lang=es',
    share_facebook: 'http://www.facebook.com/sharer.php?u=' + page_url + '&t=' + title,
    share_google:   'https://plus.google.com/share?url=' + page_url + '&hl=es'
};

for (var id in services) {
    if (services.hasOwnProperty(id)) {
        document.getElementById(id).href = services[id];
        document.getElementById(id).onclick = function(a) {
            a = a || window.event;
            a = a.target || a.srcElement;

            ga('send', 'social', {
                'socialNetwork' : a.id.substr(6),
                'socialAction'  : 'share',
                'socialTarget'  : window.location
            });

            window.open(services[a.id], a.title, options);

            return false;
        };
    }
}
</script>

    </div>

            <div class="module module-ad module-ad-responsive module-ad-sidebar">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

    
    <div id="book-toc" class="module">
        <a id="indice"></a>

        <h3>Indice de contenidos</h3>
        <ul class="toc text-links">
                                            <li class="level-1">
                <span>1.</span> <a href="../capitulo_1.html"> Symfony2 y los fundamentos de HTTP</a>
            </li>
                                                                                                                            <li class="level-1">
                <span>2.</span> <a href="../capitulo_2.html"> De PHP a Symfony2</a>
            </li>
                                                                                                            <li class="level-1">
                <span>3.</span> <a href="../capitulo_3.html"> Instalando y configurando Symfony2</a>
            </li>
                                                                                            <li class="level-1">
                <span>4.</span> <a href="../capitulo_4.html"> Creando páginas en Symfony2</a>
            </li>
                                                                                                                                                            <li class="level-1">
                <span>5.</span> <a href="../capitulo_5.html"> El controlador</a>
            </li>
                                                                                                                                                                                                            <li class="level-1">
                <span>6.</span> <a href="../capitulo_6.html"> El enrutamiento</a>
            </li>
                                                                                                                                                                                            <li class="level-1">
                <span>7.</span> <a href="../capitulo_7.html"> Creando y utilizando plantillas</a>
            </li>
                                                                                                                                                                                                                                                                            <li class="level-1">
                <span>8.</span> <a href="../capitulo_8.html"> La base de datos y Doctrine</a>
            </li>
                                                                                                                                                            <li class="level-1">
                <span>9.</span> <a href="../capitulo_9.html"> La base de datos y Propel</a>
            </li>
                                            <li class="level-1">
                <span>10.</span> <a href="../capitulo_10.html"> Tests unitarios y funcionales</a>
            </li>
                                                                                                                                            <li class="level-1">
                <span>11.</span> <a href="../capitulo_11.html"> Validación</a>
            </li>
                                                                                                                                                                                            <li class="level-1">
                <span>12.</span> <a href="../capitulo_12.html"> Formularios</a>
            </li>
                                                                                                                                                                                                                                                                            <li class="level-1">
                <span>13.</span> <a href="../capitulo_13.html"> Seguridad</a>
            </li>
                                                                                                                                                                                                                                            <li class="level-1">
                <span>14.</span> <a href="../capitulo_14.html"> La caché de HTTP</a>
            </li>
                                                                                                                                                            <li class="level-1">
                <span>15.</span> <a href="../capitulo_15.html"> Internacionalización</a>
            </li>
                                                                                                                                                                                                                            <li class="level-1 ">
                <a href="../capitulo_16.html">
                    <span>Capítulo 16.</span> El contenedor de servicios
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_16/que_es_un_servicio.html">
                    <span>16.1.</span> ¿Qué es un servicio?
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_16/que_es_un_contenedor_de_servicios.html">
                    <span>16.2.</span> ¿Qué es un contenedor de servicios?
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_16/creando_y_configurando_servicios_en_el_contenedor.html">
                    <span>16.3.</span> Creando y configurando servicios en el contenedor
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_16/parametros_de_servicio.html">
                    <span>16.4.</span> Parámetros de servicio
                </a>
            </li>
                                            <li class="level-2 active">
                <a href="../capitulo_16/importando_otros_recursos_para_configurar_el_contenedor.html">
                    <span>16.5.</span> Importando otros recursos para configurar el contenedor
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_16/inyectando_servicios.html">
                    <span>16.6.</span> Inyectando servicios
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_16/inyectando_servicios_opcionales.html">
                    <span>16.7.</span> Inyectando servicios opcionales
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_16/servicios_internos_de_symfony_y_servicios_de_bundles_de_terceros.html">
                    <span>16.8.</span> Servicios internos de Symfony y servicios de <em>bundles</em> de terceros
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_16/etiquetas.html">
                    <span>16.9.</span> Etiquetas
                </a>
            </li>
                                            <li class="level-2 ">
                <a href="../capitulo_16/depurando_servicios.html">
                    <span>16.10.</span> Depurando servicios
                </a>
            </li>
                                            <li class="level-1">
                <span>17.</span> <a href="../capitulo_17.html"> Mejorando el rendimiento</a>
            </li>
                                                                                                            <li class="level-1">
                <span>18.</span> <a href="../capitulo_18.html"> El interior de Symfony2</a>
            </li>
                                                                                                            <li class="level-1">
                <span>19.</span> <a href="../capitulo_19.html"> La API estable de Symfony2</a>
            </li>
                        </ul>
    </div>
                    </div>
                            </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
