<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>Cómo organizar bien un proyecto Silex</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                                                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Cómo organizar bien un proyecto Silex">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-2-1" class="tutorials"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                                    <div id="main" class="col-sm-9">
                            <h1 class="title">Cómo organizar bien un proyecto Silex</h1>

    <p>Silex es un <em>microframework</em> para crear sitios y aplicaciones web con PHP. Si desarrollas tus aplicaciones a mano y no quieres todavía dar el salto a un <em>framework</em> grande como <a href="http://librosweb.es/symfony_2_x/">Symfony</a>, entonces Silex puede ser una buena solución.</p>
<p>Este tutorial supone que ya tienes conocimientos básicos de Silex (para ello, puedes leer <a href="http://librosweb.es/silex/">el manual oficial de Silex</a>) y que has creado una aplicación Silex siguiendo la estructura habitual proporcionada por el <a href="https://github.com/silexphp/Silex-Skeleton">Silex-Skeleton</a>.</p>
<p>Además, para simplificar los ejemplos de código, se va a suponer que la aplicación está formada solamente por las siguientes cinco rutas:</p>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>URL</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>portada</code></td>
<td><code>/</code></td>
<td>Portada del sitio</td>
</tr>
<tr>
<td><code>eventos_index</code></td>
<td><code>/eventos/</code></td>
<td>Portada de la sección de eventos</td>
</tr>
<tr>
<td><code>eventos_show</code></td>
<td><code>/eventos/{slug}/</code></td>
<td>Página de un evento específico</td>
</tr>
<tr>
<td><code>foro_index</code></td>
<td><code>/foro/</code></td>
<td>Portada de la sección del foro</td>
</tr>
<tr>
<td><code>foro_show</code></td>
<td><code>/foro/{id}/{slug}/</code></td>
<td>Página de una discusión del foro</td>
</tr>
</tbody>
</table>
<h2>La situación inicial</h2>
<p>Siguiendo el modelo tradicional de programación de aplicaciones con Silex, todo el sitio web se puede crear en un único archivo PHP llamado <code>index.php</code>:</p>
<pre class="php code"><span class="co1">// archivo index.php</span>
<span class="kw1">require_once</span> __DIR__<span class="sy0">.</span><span class="st_h">'/../vendor/autoload.php'</span><span class="sy0">;</span> 
&nbsp;
<span class="re0">$app</span> <span class="sy0">=</span> <span class="kw2">new</span> Silex\Application<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> 
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/eventos/{slug}/'</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="re0">$slug</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="sy0">...</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'eventos_show'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/eventos/'</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="sy0">...</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'eventos_index'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/foro/{id}/{slug}/'</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="re0">$id</span><span class="sy0">,</span> <span class="re0">$slug</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="sy0">...</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_show'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/foro/'</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="sy0">...</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_index'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/'</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="sy0">...</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'portada'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">run</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
<p>A finales de 2012 decidimos rehacer desde cero el sitio <a href="http://librosweb.es">librosweb.es</a> y optamos por desarrollarlo con Silex. Como al principio no teníamos tantas secciones como ahora, optamos por seguir esta forma de organizar el código e incluimos todas las rutas y controladores en un único archivo.</p>
<p>Como era previsible, este modelo no escala bien en cuanto el sitio es de una complejidad media. Al añadir todas las secciones del sitio, este archivo se convirtió en un <em>monstruo</em> inmanejable de miles de líneas de código. Así que en este tutorial te contamos los tres métodos alternativos que hemos utilizado para organizar bien el código de una aplicación Silex mediana y las ventajas e inconvenientes de cada una.</p>
<h2>Método 1: Colecciones de controladores</h2>
<p>El primer método alternativo que utilizamos se basa en las colecciones de controladores. El siguiente ejemplo muestra el nuevo código de la aplicación:</p>
<pre class="php code"><span class="kw1">require_once</span> __DIR__<span class="sy0">.</span><span class="st_h">'/../vendor/autoload.php'</span><span class="sy0">;</span> 
&nbsp;
<span class="re0">$app</span> <span class="sy0">=</span> <span class="kw2">new</span> Silex\Application<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$eventos</span> <span class="sy0">=</span> <span class="re0">$app</span><span class="br0">&#91;</span><span class="st_h">'controllers_factory'</span><span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$eventos</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/'</span><span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="sy0">...</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'eventos_index'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$eventos</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/{slug}/'</span><span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="re0">$slug</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="sy0">...</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'eventos_show'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$foro</span> <span class="sy0">=</span> <span class="re0">$app</span><span class="br0">&#91;</span><span class="st_h">'controllers_factory'</span><span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$foro</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/{id}/{slug}/'</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="re0">$id</span><span class="sy0">,</span> <span class="re0">$slug</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="sy0">...</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_show'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$foro</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/'</span><span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">use</span> <span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="sy0">...</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_index'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">mount</span><span class="br0">&#40;</span><span class="st_h">'/eventos'</span><span class="sy0">,</span> <span class="re0">$eventos</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">mount</span><span class="br0">&#40;</span><span class="st_h">'/foro'</span><span class="sy0">,</span> <span class="re0">$foro</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/'</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="sy0">...</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'portada'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">run</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
<p>Cada sección de la aplicación (foro y eventos) se agrupa en una colección de controladores mediante el servicio <code>$app['controllers_factory']</code> y después se incluyen en la aplicación con el método <code>mount()</code>.</p>
<p>La primera <strong>ventaja</strong> es que puedes aplicar un mismo prefijo a todas las rutas relacionadas. Por eso en el código anterior, la ruta <code>foro_index</code> no es <code>/foro</code> sino simplemente <code>/</code>, ya que el prefijo <code>/foro</code> se incluye automáticamente al montar la colección de controladores.</p>
<p>La segunda <strong>ventaja</strong> es que ahora resulta muy sencillo reordenar las rutas de la aplicación, ya que para ello simplemente debes cambiar el orden de las instrucciones <code>mount()</code>. Por último, las colecciones también permiten aplicar fácilmente un <em>middleware</em> a un conjunto de rutas, como muestra el siguiente ejemplo que restringe el acceso a la sección del foro:</p>
<pre class="php code"><span class="co1">// ...</span>
&nbsp;
<span class="re0">$app</span> <span class="sy0">=</span> <span class="kw2">new</span> Silex\Application<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$foro</span> <span class="sy0">=</span> <span class="re0">$app</span><span class="br0">&#91;</span><span class="st_h">'controllers_factory'</span><span class="br0">&#93;</span><span class="sy0">;</span>
<span class="re0">$foro</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/{id}/{slug}/'</span><span class="sy0">,</span> <span class="sy0">...</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_show'</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="re0">$foro</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/'</span><span class="sy0">,</span> <span class="sy0">...</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_index'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// restringir el acceso a todas las rutas del foro</span>
<span class="re0">$foro</span><span class="sy0">-&gt;</span><span class="me1">before</span><span class="br0">&#40;</span><span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span><span class="re0">$app</span><span class="br0">&#91;</span><span class="st_h">'security'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">isGranted</span><span class="br0">&#40;</span><span class="st_h">'ROLE_ADMIN'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="co1">// ...</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">mount</span><span class="br0">&#40;</span><span class="st_h">'/foro'</span><span class="sy0">,</span> <span class="re0">$foro</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// ...</span></pre>
<p>La principal <strong>desventaja</strong> de este método es que no mejora mucho la situación inicial. Como todo el código sigue estando en un único archivo, resulta difícil manejarlo. Una posible solución consiste en colocar el código de cada sección en su propio archivo e importarlo después dentro de la instrucción <code>mount()</code>:</p>
<pre class="php code"><span class="co1">// archivo foro.php</span>
<span class="re0">$foro</span> <span class="sy0">=</span> <span class="re0">$app</span><span class="br0">&#91;</span><span class="st_h">'controllers_factory'</span><span class="br0">&#93;</span><span class="sy0">;</span>
<span class="re0">$foro</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/{id}/{slug}/'</span><span class="sy0">,</span> <span class="sy0">...</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_show'</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="re0">$foro</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/'</span><span class="sy0">,</span> <span class="sy0">...</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_index'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">return</span> <span class="re0">$foro</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// archivo index.php</span>
<span class="re0">$app</span> <span class="sy0">=</span> <span class="kw2">new</span> Silex\Application<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// ...</span>
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">mount</span><span class="br0">&#40;</span><span class="st_h">'/foro'</span><span class="sy0">,</span> <span class="kw1">include</span> __DIR__<span class="sy0">.</span><span class="st_h">'/foro.php'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">run</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
<p>Ahora el código sí que está dividido en varios archivos más pequeños y manejables. El único problema de esta solución es que el uso del <code>include</code> la hace <em>poco elegante</em>. Los dos métodos que se muestran a continuación consiguen un resultado similar pero de forma mucho más profesional.</p>
<h2>Método 2: Controladores en clases PHP normales</h2>
<p>Este segundo método es similar al explicado en la sección anterior, pero se basa en crear una clase PHP para cada sección del sitio. Dentro de esa clase, se define un método para cada ruta/controlador de esa sección. El siguiente ejemplo muestra la clase para la sección del foro:</p>
<pre class="php code"><span class="co1">// archivo src/Controllers/ForoController.php</span>
<span class="kw2">namespace</span> Librosweb\Controllers<span class="sy0">;</span>
&nbsp;
<span class="kw2">use</span> Silex\Application<span class="sy0">;</span>
&nbsp;
<span class="kw2">class</span> ForoController
<span class="br0">&#123;</span>
    <span class="kw2">public</span> <span class="kw2">function</span> show<span class="br0">&#40;</span>Application <span class="re0">$app</span><span class="sy0">,</span> <span class="re0">$id</span><span class="sy0">,</span> <span class="re0">$slug</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="sy0">...</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw2">function</span> index<span class="br0">&#40;</span>Application <span class="re0">$app</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="sy0">...</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<p>Aunque puedes llamar como quieras a estas clases y puedes guardarlas en cualquier sitio, nuestra recomendación para organizar mejor el código es que guardes estas clases en el directorio <code>Controllers</code> y que normalices sus nombres para que siempre acaben en <code>Controller</code>.</p>
<p>Si necesitas acceder a la aplicación o a la petición del usuario dentro de un controlador, sólo tienes que añadir respectivamente <code>Application $app</code> o <code>Request $request</code> en la declaración del método y Silex los inyectará automáticamente.</p>
<p>Una vez creadas todas estas clases, debes modificar el anterior archivo <code>index.php</code> para definir en él solamente las rutas de la aplicación, no los controladores:</p>
<pre class="php code"><span class="kw1">require_once</span> __DIR__<span class="sy0">.</span><span class="st_h">'/../vendor/autoload.php'</span><span class="sy0">;</span> 
&nbsp;
<span class="re0">$app</span> <span class="sy0">=</span> <span class="kw2">new</span> Silex\Application<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/eventos/{slug}/'</span><span class="sy0">,</span> <span class="st_h">'Librosweb\Controllers\EventosController::show'</span><span class="br0">&#41;</span>
    <span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'eventos_show'</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/eventos/'</span><span class="sy0">,</span> <span class="st_h">'Librosweb\Controllers\EventosController::index'</span><span class="br0">&#41;</span>
    <span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'eventos_index'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/foro/{id}/{slug}/'</span><span class="sy0">,</span> <span class="st_h">'Librosweb\Controllers\ForoController::show'</span><span class="br0">&#41;</span>
    <span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_show'</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/foro/'</span><span class="sy0">,</span> <span class="st_h">'Librosweb\Controllers\ForoController::index'</span><span class="br0">&#41;</span>
    <span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_index'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/'</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="sy0">...</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'portada'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">run</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
<p>Cada ruta define su controlador asociado mediante la notación <code>Clase::metodo</code>. No confundas la notación <code>::</code> con el operador <code>::</code> de PHP que se utiliza para acceder a los métodos estáticos de las clases, ya que no tienen nada que ver.</p>
<p>La principal <strong>ventaja</strong> de este método es que el código se divide en varias clases pequeñas y manejables. Además, el rendimiento de la aplicación no se resiente porque cuando el usuario realiza una petición, solamente se instancia la clase asociada a esa ruta.</p>
<p>La principal <strong>desventaja</strong> es que si tienes muchas rutas, el archivo <code>index.php</code> de nuevo es demasiado grande y se vuelve difícil de manejar.</p>
<h2>Método 3: Controladores en clases de tipo ControllerProvider</h2>
<p>Esta última forma de organizar el código de las aplicaciones Silex combina la mayor parte de las ventajas de los otros dos métodos y tiene muy pocos inconvenientes. Por eso creemos que es <strong>la mejor forma de organizar el código de las aplicaciones Silex medianas</strong> y es el método que utilizamos actualmente para el código fuente de <a href="http://librosweb.es">librosweb.es</a>.</p>
<p>El funcionamiento de este método se basa en el uso de <a href="http://librosweb.es/silex/capitulo_6/proveedores_de_controladores.html">los proveedores de controladores de Silex</a>. Cada sección del sitio web se convierte en una clase PHP especial y después se montan todas ellas con el método <code>mount()</code> de la aplicación. Observa en primer lugar el código completo del archivo <code>index.php</code> y cómo se importan las dos clases:</p>
<pre class="php code"><span class="kw1">require_once</span> __DIR__<span class="sy0">.</span><span class="st_h">'/../vendor/autoload.php'</span><span class="sy0">;</span> 
&nbsp;
<span class="re0">$app</span> <span class="sy0">=</span> <span class="kw2">new</span> Silex\Application<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">mount</span><span class="br0">&#40;</span><span class="st_h">'/eventos'</span><span class="sy0">,</span> <span class="kw2">new</span> Librosweb\Controllers\EventosController<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">mount</span><span class="br0">&#40;</span><span class="st_h">'/foro'</span><span class="sy0">,</span>    <span class="kw2">new</span> Librosweb\Controllers\ForoController<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/'</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="sy0">...</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'portada'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$app</span><span class="sy0">-&gt;</span><span class="me1">run</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
<p>Las clases <code>EventosController</code> y <code>ForoController</code> son similares a las clases mostradas en la sección anterior. La diferencia es que estas clases deben implementar la interfaz <code>ControllerProviderInterface</code>:</p>
<pre class="php code"><span class="co1">// archivo src/Controllers/ForoController.php</span>
<span class="kw2">namespace</span> Librosweb\Controllers<span class="sy0">;</span>
&nbsp;
<span class="kw2">use</span> Silex\Application<span class="sy0">;</span>
<span class="kw2">use</span> Silex\ControllerProviderInterface<span class="sy0">;</span>
&nbsp;
<span class="kw2">class</span> ForoController implements ControllerProviderInterface
<span class="br0">&#123;</span>
    <span class="co1">// ...</span>
<span class="br0">&#125;</span></pre>
<p>La interfaz <code>ControllerProviderInterface</code> obliga a definir un método llamado <code>connect()</code> que devuelve la colección de controladores creada por esta clase. Así que el código completo de la clase <code>ForoController</code> de este ejemplo podría ser el siguiente:</p>
<pre class="php code"><span class="co1">// archivo src/Controllers/EventosController.php</span>
<span class="kw2">namespace</span> Librosweb\Controllers<span class="sy0">;</span>
&nbsp;
<span class="kw2">use</span> Silex\Application<span class="sy0">;</span>
<span class="kw2">use</span> Silex\ControllerProviderInterface<span class="sy0">;</span>
&nbsp;
<span class="kw2">class</span> ForoController implements ControllerProviderInterface
<span class="br0">&#123;</span>
    <span class="kw2">public</span> <span class="kw2">function</span> connect<span class="br0">&#40;</span>Application <span class="re0">$app</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="re0">$controllers</span> <span class="sy0">=</span> <span class="re0">$app</span><span class="br0">&#91;</span><span class="st_h">'controllers_factory'</span><span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
        <span class="re0">$controllers</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/{id}/{slug}/'</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="re0">$id</span><span class="sy0">,</span> <span class="re0">$slug</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="sy0">...</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_show'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="re0">$controllers</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/'</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="sy0">...</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_index'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="kw1">return</span> <span class="re0">$controllers</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<p>Una última variante de este método consiste en indicar un <em>callback</em> para cada controlador, en vez de escribir todo su código mediante una función anónima. Así que el siguiente ejemplo muestra el código completo tal y como realmente lo utilizo en mis aplicaciones:</p>
<pre class="php code"><span class="co1">// archivo src/Controllers/EventosController.php</span>
<span class="kw2">namespace</span> Librosweb\Controllers<span class="sy0">;</span>
&nbsp;
<span class="kw2">use</span> Silex\Application<span class="sy0">;</span>
<span class="kw2">use</span> Silex\ControllerProviderInterface<span class="sy0">;</span>
&nbsp;
<span class="kw2">class</span> ForoController implements ControllerProviderInterface
<span class="br0">&#123;</span>
    <span class="kw2">public</span> <span class="kw2">function</span> connect<span class="br0">&#40;</span>Application <span class="re0">$app</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="re0">$controllers</span> <span class="sy0">=</span> <span class="re0">$app</span><span class="br0">&#91;</span><span class="st_h">'controllers_factory'</span><span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
        <span class="re0">$controllers</span>
            <span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/{id}/{slug}/'</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="re0">$this</span><span class="sy0">,</span> <span class="st_h">'foroShow'</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
            <span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_show'</span><span class="br0">&#41;</span>
        <span class="sy0">;</span>
&nbsp;
        <span class="re0">$controllers</span>
            <span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/'</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="re0">$this</span><span class="sy0">,</span> <span class="st_h">'foroIndex'</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
            <span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_index'</span><span class="br0">&#41;</span>
        <span class="sy0">;</span>
&nbsp;
        <span class="kw1">return</span> <span class="re0">$controllers</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw2">function</span> foroIndex<span class="br0">&#40;</span>Application <span class="re0">$app</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="sy0">...</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw2">function</span> foroShow<span class="br0">&#40;</span>Application <span class="re0">$app</span><span class="sy0">,</span> <span class="re0">$id</span><span class="sy0">,</span> <span class="re0">$slug</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="sy0">...</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<p>Por último, este método también permite aplicar fácilmente un <em>middleware</em> a toda la colección de controladores. Así es muy sencillo por ejemplo restringir el acceso a una parte de la aplicación:</p>
<pre class="php code"><span class="co1">// archivo src/Controllers/EventosController.php</span>
<span class="kw2">namespace</span> Librosweb\Controllers<span class="sy0">;</span>
&nbsp;
<span class="kw2">use</span> Silex\Application<span class="sy0">;</span>
<span class="kw2">use</span> Silex\ControllerProviderInterface<span class="sy0">;</span>
&nbsp;
<span class="kw2">class</span> ForoController implements ControllerProviderInterface
<span class="br0">&#123;</span>
    <span class="kw2">public</span> <span class="kw2">function</span> connect<span class="br0">&#40;</span>Application <span class="re0">$app</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="re0">$controllers</span> <span class="sy0">=</span> <span class="re0">$app</span><span class="br0">&#91;</span><span class="st_h">'controllers_factory'</span><span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// restringir el acceso a todas las rutas del foro</span>
        <span class="re0">$controllers</span><span class="sy0">-&gt;</span><span class="me1">before</span><span class="br0">&#40;</span><span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">use</span><span class="br0">&#40;</span><span class="re0">$app</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span><span class="re0">$app</span><span class="br0">&#91;</span><span class="st_h">'security'</span><span class="br0">&#93;</span><span class="sy0">-&gt;</span><span class="me1">isGranted</span><span class="br0">&#40;</span><span class="st_h">'ROLE_ADMIN'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// ...</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="re0">$controllers</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/{id}/{slug}/'</span><span class="sy0">,</span> <span class="sy0">...</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_show'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="re0">$controllers</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">&#40;</span><span class="st_h">'/'</span><span class="sy0">,</span> <span class="sy0">...</span><span class="br0">&#41;</span><span class="sy0">-&gt;</span><span class="me1">bind</span><span class="br0">&#40;</span><span class="st_h">'foro_index'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="kw1">return</span> <span class="re0">$controllers</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<p>Las <strong>ventajas</strong> de este método son que el archivo <code>index.php</code> es pequeño y manejable, que resulta muy sencillo montar los controladores con un prefijo común (<code>/foro</code>, <code>/eventos</code>, etc.) y que las rutas de la aplicación se pueden reordenar fácilmente. Además, el código de cada sección del sitio se define en su propia clase, también pequeña y manejable, que incluye tanto las rutas como los controladores de esa sección.</p>
<p>La única <strong>desventaja</strong> notable que he encontrado a este método es que cuando el usuario realiza una petición, Silex instancia todas y cada una de las clases de tipo <code>ControllerProviderInterface</code> de la aplicación y no solamente la que está asociada con la ruta solicitada por el usuario. Esto puede penalizar ligeramente el rendimiento de la aplicación cuando se divide el código en muchas clases diferentes.</p>
<h2>Referencias útiles</h2>
<p>La mejor forma de aprender a organizar las aplicaciones medianas con Silex consiste en ver el código fuente de alguna aplicación real. Como el código de <a href="http://librosweb.es">librosweb.es</a> no es público, enlazamos a continuación el código de dos aplicaciones Silex medianas que están programadas de una manera muy similar:</p>
<ul>
<li><a href="https://github.com/bolt/bolt">Bolt</a>, gestor de contenidos que organiza su código combinando tanto el método 2 (<a href="https://github.com/bolt/bolt/blob/master/app/src/Bolt/Controllers/Frontend.php">ver ejemplo</a>) como el método 3 (<a href="https://github.com/bolt/bolt/blob/master/app/src/Bolt/Controllers/Backend.php">ver ejemplo</a>).</li>
<li><a href="https://github.com/klaussilveira/gitlist">GitList</a>, clon del sitio GitHub y que organiza su código siguiendo el método 3 (<a href="https://github.com/klaussilveira/gitlist/blob/master/src/GitList/Controller/MainController.php">ver ejemplo</a>).</li>
</ul>

                    </div>

                    <div id="sidebar" class="col-sm-3">
                            <div class="module module-ad module-ad-responsive module-ad-sidebar">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>


    <div class="module module-share">
    <h3>Compartir</h3>
    <ul>
    <li><a id="share_twitter" href="#" title="Compartir en Twitter">Twitter</a></li>
    <li><a id="share_facebook" href="#" title="Compartir en Facebook">Facebook</a></li>
    <li><a id="share_google" href="#" title="Compartir en Google+">Google+</a></li>
</ul>

<script type="text/javascript">
var title    = 'Cómo organizar bien un proyecto Silex';
var page_url = encodeURIComponent(window.location);
var options  = 'menubar=no,toolbar=no,resizable=yes,scrollbars=no,width=640,height=350';
var services = {
    share_twitter:  'https://twitter.com/share?text=' + title + '&lang=es',
    share_facebook: 'http://www.facebook.com/sharer.php?u=' + page_url + '&t=' + title,
    share_google:   'https://plus.google.com/share?url=' + page_url + '&hl=es'
};

for (var id in services) {
    if (services.hasOwnProperty(id)) {
        document.getElementById(id).href = services[id];
        document.getElementById(id).onclick = function(a) {
            a = a || window.event;
            a = a.target || a.srcElement;

            ga('send', 'social', {
                'socialNetwork' : a.id.substr(6),
                'socialAction'  : 'share',
                'socialTarget'  : window.location
            });

            window.open(services[a.id], a.title, options);

            return false;
        };
    }
}
</script>

</div>


    
<div class="module module-tags">
    <h3>Etiquetas populares</h3>
    <ul class="tags-list">
                    <li class="">
                <a href="/tutoriales/composer/">composer</a>
            </li>
                    <li class="">
                <a href="/tutoriales/css/">css</a>
            </li>
                    <li class="">
                <a href="/tutoriales/dise%C3%B1o/">diseño</a>
            </li>
                    <li class="">
                <a href="/tutoriales/html/">html</a>
            </li>
                    <li class="">
                <a href="/tutoriales/javascript/">javascript</a>
            </li>
                    <li class="">
                <a href="/tutoriales/php/">php</a>
            </li>
                    <li class="">
                <a href="/tutoriales/programaci%C3%B3n/">programación</a>
            </li>
                    <li class="">
                <a href="/tutoriales/sistemas/">sistemas</a>
            </li>
                    <li class="">
                <a href="/tutoriales/symfony/">symfony</a>
            </li>
            </ul>
</div>


    <div class="module module-rss">
    <h3>Suscríbete gratis</h3>
    <ul class="list-unstyled text-links module-rss-feeds">
        <li>
            <i class="icon">RSS</i>
            <a href="/rss/tutoriales/todos.xml">
                <strong>Todos</strong> los tutoriales
            </a>
        </li>
        <li>
            <i class="icon">RSS</i>
            <a href="/rss/tutoriales/diseno.xml">
                Tutoriales de <strong>diseño</strong>
            </a>
        </li>
        <li>
            <i class="icon">RSS</i>
            <a href="/rss/tutoriales/programacion.xml">
                Tutoriales de <strong>programación</strong>
            </a>
        </li>
    </ul>
</div>

                    </div>
                            </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
