<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" xml:lang="es" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>Las nuevas clases, métodos e interfaces de PHP 5.5</title>
                                    <link rel="stylesheet" href="/css/app.css" />
                        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-82842-2', 'librosweb.es');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
                        <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon.png">
        <meta name="apple-mobile-web-app-title" content="LibrosWeb">
        <link rel="shortcut icon" type="image/png" href="/favicon.png">
        <meta name="site-version" content="a7f65a4">
                <link rel="publisher" href="http://plus.google.com/112008023125011571577">
                                                <meta name="twitter:site" content="@librosweb">
                <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="LibrosWeb">
                <meta property="fb:page_id" content="437758756273955">
                <meta property="fb:app_id" content="437758756273955">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Las nuevas clases, métodos e interfaces de PHP 5.5">
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200">
                <meta name="msapplication-TileColor" content="#CC1414">
        <meta name="application-name" content="LibrosWeb">
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web.">
    </head>

    <body id="p-2-1" class="tutorials"><script type="text/javascript">
//<![CDATA[
try{(function(a){var b="http://",c="librosweb.es",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}
//]]>
</script>
        <div class="content-background"></div>

        <div id="header">
            <div class="navbar navbar-default navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-menu">
                    <span class="sr-only">Desplegar menú</span>
                    <i class="fa fa-menu"></i>
                  </button>
                  <a class="navbar-brand" href="/" title="LibrosWeb.es">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 132 32" preserveAspectRatio="xMinYMin meet">
<g fill="#CC1414" transform="translate(-21.738 -21.148)">
<path d="m24.062 23.486v28h9.64v-5h-4.04v-23h-5.6"/>
<path d="m40.796 23.486h-5.6v28h5.6v-28"/>
<path d="m53.932 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32 1-1 1h-1.32v-6.64h1.32c0.68 0 1 0.32 1 1m-2.32 10.32h1.4c0.68 0 1 0.32 1 1v5.08c0 0.68-0.32 1-1 1h-1.4v-7.08"/>
<path d="m69.284 38.246c1.52-0.56 2.4-1.76 2.4-4.16v-5.4c0-3.48-1.72-5.2-5.2-5.2h-8.36v28h5.6v-10.6h1.4c0.68 0 1 0.32 1 1v9.6h5.6v-9.64c0-2.04-0.72-3.12-2.44-3.6m-3.2-8.88v5.76c0 0.68-0.32 1-1 1h-1.36v-7.76h1.36c0.68 0 1 0.32 1 1"/>
<path d="m87.513 46.526v-18.08c0-3.48-1.72-5.2-5.2-5.2h-3.6c-3.48 0-5.2 1.72-5.2 5.2v18.08c0 3.48 1.72 5.2 5.2 5.2h3.6c3.48 0 5.2-1.72 5.2-5.2m-5.6-17.48v16.88c0 0.68-0.32 1-1 1h-0.8c-0.68 0-1-0.32-1-1v-16.88c0-0.68 0.32-1 1-1h0.8c0.68 0 1 0.32 1 1"/>
<path d="m100.57 36.966-4.8-3.56c-0.68-0.48-0.96-0.92-0.96-1.8v-2.64c0-0.68 0.32-1 1-1h0.44c0.68 0 1 0.32 1 1v4.6h5.48v-5.12c0-3.48-1.72-5.2-5.2-5.2h-3.04c-3.48 0-5.2 1.72-5.2 5.2v4.44c0 2 0.52 3.16 2.24 4.4l4.8 3.56c0.68 0.48 0.96 0.92 0.96 1.8v3.36c0 0.68-0.32 1-1 1h-0.52c-0.68 0-1-0.32-1-1v-5.44h-5.48v5.96c0 3.48 1.72 5.2 5.2 5.2h3.12c3.48 0 5.2-1.72 5.2-5.2v-5.16c0-2.08-0.52001-3.16-2.24-4.4"/>
<path d="m106.98 51.486h6.16l1.44-12.72 1.44 12.72h6.16l3.4-28h-4.96l-1.44 14.88-1.6-14.88h-5.28l-1.6 14.92-1.44-14.92h-5.68l3.4 28"/>
<path d="m126.87 23.486v28h10.48v-5h-4.88v-6.72h4.6v-5h-4.6v-6.28h4.8v-5h-10.4"/>
<path d="m150.26 37.006c1.48-0.56 2.32-1.76 2.32-4.16v-4.16c0-3.48-1.72-5.2-5.2-5.2h-8.24v28h8.32c3.48 0 5.2-1.72 5.2-5.2v-5.68c0-2.04-0.72001-3.12-2.4-3.6m-3.24-7.72v4.64c0 0.68-0.32001 1-1 1h-1.32v-6.64h1.32c0.67999 0 1 0.32 1 1m-2.32 10.32h1.4c0.67999 0 1 0.32 1 1v5.08c0 0.68-0.32001 1-1 1h-1.4v-7.08"/>
</g>
</svg>
                      <span>LibrosWeb</span>
                  </a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="header-menu">
                  <ul class="nav navbar-nav pull-right">
                    
                                                <li class="">
                            <a href="/">
                                Inicio
                            </a>
                        </li>
                                                <li class="">
                            <a href="/libros/">
                                Libros
                            </a>
                        </li>
                                                <li class="active">
                            <a href="/tutoriales/">
                                Tutoriales
                            </a>
                        </li>
                                                <li class="">
                            <a href="/eventos/">
                                Eventos
                            </a>
                        </li>
                                                <li class="">
                            <a href="/foro/">
                                Foro
                            </a>
                        </li>
                                                <li class="">
                            <a href="/buscar">
                                Buscar
                            </a>
                        </li>
                                          </ul>
                </div>
              </div>
            </div>
        </div>

        <div id="wrapper" class="container">

            <div id="content" class="row">
                                    <div id="main" class="col-sm-9">
                            <h1 class="title">Las nuevas clases, métodos e interfaces de PHP 5.5</h1>

    <h2>Nuevas clases e interfaces</h2>
<p>La extensión <code>cURL</code> ha añadido la clase <a href="http://php.net/manual/en/class.curlfile.php">CURLFile</a> para simplificar el tratamiento de los archivos subidos mediante peticiones <code>POST</code> de HTTP:</p>
<pre class="php code"><span class="re0">$curl</span> <span class="sy0">=</span> <span class="kw3">curl_init</span><span class="br0">&#40;</span><span class="st_h">'http://librosweb.es/subir_archivo.php'</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="re0">$archivoCurl</span> <span class="sy0">=</span> curl_file_create<span class="br0">&#40;</span><span class="st_h">'foto.jpg'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// ...</span></pre>
<p>En el ejemplo anterior, la variable <code>$archivoCurl</code> es de tipo <code>CURLFile</code>, por lo que puedes obtener o modificar su información a través de los métodos de esa clase;</p>
<pre class="php code"><span class="re0">$archivoCurl</span> <span class="sy0">=</span> curl_file_create<span class="br0">&#40;</span><span class="st_h">'foto.jpg'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// obtener información básica sobre el archivo</span>
<span class="re0">$nombreArchivo</span> <span class="sy0">=</span> <span class="re0">$archivoCurl</span><span class="sy0">-&gt;</span><span class="me1">getFilename</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="re0">$tipoMime</span> <span class="sy0">=</span> <span class="re0">$archivoCurl</span><span class="sy0">-&gt;</span><span class="me1">getMimeType</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// cambiar el nombre del archivo que se subirá</span>
<span class="re0">$archivoCurl</span><span class="sy0">-&gt;</span><span class="me1">setPostFilename</span><span class="br0">&#40;</span><span class="st_h">'nuevo_nombre_archivo.jpg'</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
<p>La extensión <code>Intl</code> ha añadido varias nuevas clases, siendo las más importantes <a href="http://php.net/manual/en/class.intlcalendar.php">IntlCalendar</a>, <a href="http://php.net/manual/en/class.intlgregoriancalendar.php">IntlGregorianCalendar</a> y <a href="http://php.net/manual/en/class.intltimezone.php">IntlTimeZone</a>.</p>
<p>La extensión <code>Date/Time</code> ha añadido la clase <a href="http://php.net/manual/en/class.datetimeimmutable.php">DateTimeImmutable</a>. Esta clase es idéntica a la clase <code>DateTime</code> salvo que su valor nunca se modifica. Al ejecutar por ejemplo el método <code>modify()</code> sobre un objeto de esa clase, se devuelve un nuevo objeto con la nueva fecha/hora.</p>
<p>Hasta ahora, cuando modificabas una fecha con el método <code>modify()</code> se podían producir efectos inesperados si no tenías cuidado:</p>
<pre class="php code"><span class="re0">$presente</span> <span class="sy0">=</span> <span class="kw2">new</span> DateTime<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="re0">$futuro</span>   <span class="sy0">=</span> <span class="re0">$presente</span><span class="sy0">-&gt;</span><span class="me1">modify</span><span class="br0">&#40;</span><span class="st_h">'+1 day'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// $presente === $futuro</span></pre>
<p>Para evitar el problema anterior, debías clonar la fecha original y modificar después la fecha clonada:</p>
<pre class="php code"><span class="re0">$presente</span> <span class="sy0">=</span> <span class="kw2">new</span> DateTime<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="re0">$futuro</span>   <span class="sy0">=</span> clone <span class="re0">$presente</span><span class="sy0">;</span>
<span class="re0">$futuro</span>   <span class="sy0">=</span> <span class="re0">$futuro</span><span class="sy0">-&gt;</span><span class="me1">modify</span><span class="br0">&#40;</span><span class="st_h">'+1 day'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// $presente !== $futuro</span></pre>
<p>Gracias a la nueva clase <code>DateTimeImmutable</code>, ya no es necesario clonar la clase antes de modificarla:</p>
<pre class="php code"><span class="re0">$presente</span> <span class="sy0">=</span> <span class="kw2">new</span> DateTimeImmutable<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="re0">$futuro</span>   <span class="sy0">=</span> <span class="re0">$presente</span><span class="sy0">-&gt;</span><span class="me1">modify</span><span class="br0">&#40;</span><span class="st_h">'+1 day'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// $presente !== $futuro</span></pre>
<p>Esta extensión también ha añadido la interfaz <a href="http://php.net/manual/en/class.datetimeinterface.php">DateTimeInterface</a> con los siguientes métodos:</p>
<pre class="php code"><span class="kw2">interface</span> DateTimeInterface <span class="br0">&#123;</span>
    <span class="kw2">public</span> string format<span class="br0">&#40;</span>string <span class="re0">$format</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw2">public</span> int getOffset<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw2">public</span> int getTimestamp<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw2">public</span> DateTimeZone getTimezone<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw2">public</span> DateInterval diff<span class="br0">&#40;</span>DateTimeInterface <span class="re0">$datetime2</span><span class="sy0">,</span> bool <span class="re0">$absolute</span> <span class="sy0">=</span> <span class="kw4">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw2">public</span> __wakeup<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
<h2>Nuevos métodos</h2>
<p>La extensión <code>MySQLi</code> ha añadido tres nuevos métodos:</p>
<ul>
<li><code>mysqli::begin_transaction()</code>, indica que debe empezar una transacción.</li>
<li><code>mysqli::release_savepoint()</code>, deshace los cambios de una transacción y vuelve hasta el punto de guardado que se indica.</li>
<li><code>mysqli::savepoint()</code>, crea un nuevo punto de guardado dentro de una transacción.</li>
</ul>
<p>La extensión <code>intl</code> ha añadido los siguientes cuatro nuevos métodos para la clase <code>IntlDateFormatter</code>:</p>
<ul>
<li><code>IntlDateFormatter::formatObject()</code>, formatea el objeto de tipo <code>IntlCalendar</code> o <code>DateTime</code> que se le pasa aplicando el formato indicado.</li>
<li><code>IntlDateFormatter::getCalendarObject()</code>, devuelve una copia del calendario interno que está utilizando este formateador de fechas. Además del calendario gregoriano utilizado en la mayoría de países, el calendario devuelto puede ser de tipo japonés, budista, islámico, etc.</li>
<li><code>IntlDateFormatter::getTimeZone()</code>, devuelve la zona horaria utilizada por el objeto formateador de fechas.</li>
<li><code>IntlDateFormatter::setTimeZone()</code>, establece la zona horaria utilizada por el objeto formateador de fechas.</li>
</ul>
<h2>Otros cambios relacionados con las clases</h2>
<p>A partir de PHP 5.5, las palabras clave <code>self</code>, <code>parent</code> y <code>static</code> utilizadas en las clases ya no distinguen las mayúsculas, por lo que <code>self::MI_CONSTANTE</code> es equivalente a <code>SELF::MI_CONSTANTE</code>.</p>

                    </div>

                    <div id="sidebar" class="col-sm-3">
                            <div class="module module-ad module-ad-responsive module-ad-sidebar">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1491000300253750"
         data-ad-slot="3770792827"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>


    <div class="module module-share">
    <h3>Compartir</h3>
    <ul>
    <li><a id="share_twitter" href="#" title="Compartir en Twitter">Twitter</a></li>
    <li><a id="share_facebook" href="#" title="Compartir en Facebook">Facebook</a></li>
    <li><a id="share_google" href="#" title="Compartir en Google+">Google+</a></li>
</ul>

<script type="text/javascript">
var title    = 'Las nuevas clases, métodos e interfaces de PHP 5.5';
var page_url = encodeURIComponent(window.location);
var options  = 'menubar=no,toolbar=no,resizable=yes,scrollbars=no,width=640,height=350';
var services = {
    share_twitter:  'https://twitter.com/share?text=' + title + '&lang=es',
    share_facebook: 'http://www.facebook.com/sharer.php?u=' + page_url + '&t=' + title,
    share_google:   'https://plus.google.com/share?url=' + page_url + '&hl=es'
};

for (var id in services) {
    if (services.hasOwnProperty(id)) {
        document.getElementById(id).href = services[id];
        document.getElementById(id).onclick = function(a) {
            a = a || window.event;
            a = a.target || a.srcElement;

            ga('send', 'social', {
                'socialNetwork' : a.id.substr(6),
                'socialAction'  : 'share',
                'socialTarget'  : window.location
            });

            window.open(services[a.id], a.title, options);

            return false;
        };
    }
}
</script>

</div>


    
<div class="module module-tags">
    <h3>Etiquetas populares</h3>
    <ul class="tags-list">
                    <li class="">
                <a href="/tutoriales/composer/">composer</a>
            </li>
                    <li class="">
                <a href="/tutoriales/css/">css</a>
            </li>
                    <li class="">
                <a href="/tutoriales/dise%C3%B1o/">diseño</a>
            </li>
                    <li class="">
                <a href="/tutoriales/html/">html</a>
            </li>
                    <li class="">
                <a href="/tutoriales/javascript/">javascript</a>
            </li>
                    <li class="">
                <a href="/tutoriales/php/">php</a>
            </li>
                    <li class="">
                <a href="/tutoriales/programaci%C3%B3n/">programación</a>
            </li>
                    <li class="">
                <a href="/tutoriales/sistemas/">sistemas</a>
            </li>
                    <li class="">
                <a href="/tutoriales/symfony/">symfony</a>
            </li>
            </ul>
</div>


    <div class="module module-rss">
    <h3>Suscríbete gratis</h3>
    <ul class="list-unstyled text-links module-rss-feeds">
        <li>
            <i class="icon">RSS</i>
            <a href="/rss/tutoriales/todos.xml">
                <strong>Todos</strong> los tutoriales
            </a>
        </li>
        <li>
            <i class="icon">RSS</i>
            <a href="/rss/tutoriales/diseno.xml">
                Tutoriales de <strong>diseño</strong>
            </a>
        </li>
        <li>
            <i class="icon">RSS</i>
            <a href="/rss/tutoriales/programacion.xml">
                Tutoriales de <strong>programación</strong>
            </a>
        </li>
    </ul>
</div>

                    </div>
                            </div>

            <div id="footer">
                <div class="row">
                    <div class="col-xs-12 col-sm-9">
                        &copy; 2015 LibrosWeb.es
                        <a href="/sitio/contacto">Contacto</a>
                        <a href="https://plus.google.com/+librosweb">Novedades</a>
                        <a href="/sitio/condiciones">Condiciones</a>
                        <a href="/sitio/privacidad">Privacidad</a>
                    </div>
                    <div class="col-xs-12 col-sm-3 uptime">
                        3.111 días online
                    </div>
                </div>
            </div>

        </div>

                                    <script src="/js/app.js"></script>
            
            <script type="text/javascript">
                console.log($(window).width());
            </script>
            </body>
</html>
